/*! For license information please see main.c560d8ff.js.LICENSE.txt */
(this.webpackChunkintegration=this.webpackChunkintegration||[]).push([[179],{2653:(t,e,i)=>{"use strict";var s=i(537),n=i(336);const o=document.URL+"static/media/logo-text@2x.23f596ec.png",a=document.URL+"static/media/logo-text.23f596ec.png",r={default:o,retina:a};var l=i(6226),h=i.n(l);const p="eagrar_storage";let d={};d={...(()=>{const t=localStorage.getItem(p);return t?JSON.parse(t):{}})()};const c=t=>d[t],m=document.URL+"static/media/http-error.cf84c924.png";var u=i(683),g=i(1317);const x=h().default.create({baseURL:"https://app.glamos.eu/api",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}),A=(t,e,i,s)=>{let n,o={headers:{}};return e?(n="/glamos",i||(n+="/".concat((()=>{if(c("user")){const{sub:t}=c("user");return t.split("|")[1]}return 1})())),n+=t,o.headers.Authorization="Bearer "+c("token")):n=t,s&&(o.headers["Cache-Control"]="no-store"),{headers:o,apiURI:encodeURI(n)}};function f(t){g.log("HTTP error"),g.log(t),g.log(this.mounted);const e=y(this.mounted,C(t));this.props.setResponseError?this.props.setResponseError({responseError:e}):this.setState({responseError:e}),this.loadingComponentContainer&&this.loadingComponentContainer.current&&n.unmountComponentAtNode(this.loadingComponentContainer.current),this.props.loadingComponentContainer&&n.unmountComponentAtNode(this.props.loadingComponentContainer),this.props.mainComponentThis&&this.props.mainComponentThis.loadingComponentContainer&&this.props.mainComponentThis.loadingComponentContainer.current&&n.unmountComponentAtNode(this.props.mainComponentThis.loadingComponentContainer.current)}const C=t=>String(t).includes("403")?"403":String(t).includes("401")?"401":String(t).includes("400")?"400":String(t).includes("404")?"404":String(t).includes("500")?"500":String(t).includes("501")?"501":String(t).includes("502")?"502":String(t).includes("Error: Network Error")?"Network Error":t,b={get:function(t,e){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=A(t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4?arguments[4]:void 0);return x.get(s.apiURI,{...i,...s.headers}).then((t=>{e(t.data)})).catch(f.bind(this))},post:function(t,e,i){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};const n=A(t,!(arguments.length>3&&void 0!==arguments[3])||arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0);return x.post(n.apiURI,e,{...s,...n.headers}).then((t=>{i(t)})).catch(f.bind(this))},put:function(t,e,i){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};const n=A(t,!(arguments.length>3&&void 0!==arguments[3])||arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0);return x.put(s.apiURI,e,{...s,...n.headers}).then((t=>{i(t)})).catch(f.bind(this))},patch:function(t,e,i){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};const n=A(t,!(arguments.length>3&&void 0!==arguments[3])||arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0);return x.patch(n.apiURI,e,{...s,...n.headers}).then((t=>{i(t)})).catch(f.bind(this))},delete:function(t,e){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=A(t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4?arguments[4]:void 0);return x.delete(s.apiURI,{...i,...s.headers}).then((t=>{e(t)})).catch(f.bind(this))}},y=(t,e)=>e&&t&&("403"===e||"401"===e)?(g.log("Invalid token"),e):!(!e||!t||"400"!==e&&"404"!==e&&"500"!==e&&"501"!==e&&"502"!==e&&"Network Error"!==e)&&e,w=t=>!(!t||"Network Error"!==t&&"400"!==t&&"404"!==t&&"500"!==t&&"501"!==t&&"502"!==t),v=t=>"no_servers"===t?(0,u.jsxs)("div",{className:"error-container",children:[(0,u.jsx)("p",{children:"Please create server and then add gateways (hotspots) to that server here."}),(0,u.jsx)("p",{children:"Add gateways for area you want to test/track"}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsx)("p",{children:"You will find your API key for integration of your devices in account."}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsxs)("p",{children:["For support contact: ",(0,u.jsx)("a",{href:"mailto: slaven@glamos.eu",children:"slaven@glamos.eu"})]}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsxs)("p",{children:["Find instructions at"," ",(0,u.jsx)("a",{target:"_blank",href:"https://glamos.eu/manual",rel:"noreferrer",children:"https://glamos.eu/manual"})]})]}):"no_gateways"===t?(0,u.jsxs)("div",{className:"error-container",children:[(0,u.jsx)("p",{children:"Please add gateways (hotspots) to your server in gateways."}),(0,u.jsx)("p",{children:"Add gateways for area you want to test/track"}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsx)("p",{children:"You will find your API key for integration of your devices in account."}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsxs)("p",{children:["For support contact: ",(0,u.jsx)("a",{href:"mailto: slaven@glamos.eu",children:"slaven@glamos.eu"})]}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsxs)("p",{children:["Find instructions at"," ",(0,u.jsx)("a",{target:"_blank",href:"https://glamos.eu/manual",rel:"noreferrer",children:"https://glamos.eu/manual"})]})]}):"no_devices"===t?(0,u.jsxs)("div",{className:"error-container",children:[(0,u.jsx)("p",{children:"Please first add your device here"}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsx)("p",{children:"You will find your API key for integration of your devices inaccount."}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsxs)("p",{children:["For support contact: ",(0,u.jsx)("a",{href:"mailto: slaven@glamos.eu",children:"slaven@glamos.eu"})]}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsxs)("p",{children:["Find instructions at"," ",(0,u.jsx)("a",{target:"_blank",href:"https://glamos.eu/manual",rel:"noreferrer",children:"https://glamos.eu/manual"})]})]}):"no_online_devices"===t?(0,u.jsxs)("div",{className:"error-container",children:[(0,u.jsx)("p",{children:"Looks like you didn't activate any device. In order to see device data you must activate licence for it."}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsxs)("p",{children:["Please go to devices page and activate licence."," ",(0,u.jsx)("a",{target:"_blank",href:"https://glamos.eu/blog/new-chapter-glamos/",rel:"noreferrer",children:"More details"})]}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsxs)("p",{children:["For support contact: ",(0,u.jsx)("a",{href:"mailto: slaven@glamos.eu",children:"slaven@glamos.eu"})]}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsxs)("p",{children:["Find instructions at"," ",(0,u.jsx)("a",{target:"_blank",href:"https://glamos.eu/manual",rel:"noreferrer",children:"https://glamos.eu/manual"})]})]}):"Network Error"===t?(0,u.jsxs)("div",{className:"error-container",children:[(0,u.jsx)("p",{children:"Error getting data (network error)"}),(0,u.jsx)("p",{children:"Check your internet connnection and try again."}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsxs)("p",{children:["If that doesn't work, please contact support at ",(0,u.jsx)("a",{href:"mailto: slaven@glamos.eu",children:"slaven@glamos.eu"})]})]}):"400"===t?(0,u.jsxs)("div",{className:"http-error error-container",children:[(0,u.jsx)("img",{alt:"HTTP error",src:m}),(0,u.jsx)("p",{children:"Ooops, looks like an error happened."}),(0,u.jsx)("p",{children:(0,u.jsx)("b",{children:"HTTP 400 Bad request"})})]}):"404"===t?(0,u.jsxs)("div",{className:"http-error error-container",children:[(0,u.jsx)("img",{alt:"HTTP error",src:m}),(0,u.jsx)("p",{children:"Ooops, looks like an error happened."}),(0,u.jsx)("p",{children:(0,u.jsx)("b",{children:"HTTP 404 Not Found"})})]}):"500"===t?(0,u.jsxs)("div",{className:"http-error error-container",children:[(0,u.jsx)("img",{alt:"HTTP error",src:m}),(0,u.jsx)("p",{children:"Ooops, looks like an error happened."}),(0,u.jsx)("p",{children:(0,u.jsx)("b",{children:"HTTP 500 Internal Server Error"})})]}):"501"===t?(0,u.jsxs)("div",{className:"http-error error-container",children:[(0,u.jsx)("img",{alt:"HTTP error",src:m}),(0,u.jsx)("p",{children:"Ooops, looks like an error happened."}),(0,u.jsx)("p",{children:(0,u.jsx)("b",{children:"HTTP 501 Not Implemented"})})]}):"502"===t?(0,u.jsxs)("div",{className:"http-error error-container",children:[(0,u.jsx)("img",{alt:"HTTP error",src:m}),(0,u.jsx)("p",{children:"Ooops, looks like an error happened."}),(0,u.jsx)("p",{children:(0,u.jsx)("b",{children:"HTTP 502 Bad Gateway"})})]}):null;var S=i(1614);const T=(t,e)=>Number(Math.round(t+"e"+e)+"e-"+e),P=(t,e,i)=>{let s,n;return()=>{let o=+new Date;s&&o<s+i?(clearTimeout(n),n=setTimeout((function(){s=o,e(t)}),i)):(s=o,e(t))}},I=t=>(()=>{let t,e=0;for(t in window.localStorage)e+=2*((window.localStorage[t].length||0)+(t.length||0));return e})()+(t=>{let e=new ArrayBuffer(2*t.length),i=new Uint16Array(e);for(let s=0,n=t.length;s<n;s++)i[s]=t.charCodeAt(s);return i})(JSON.stringify(t)).byteLength<5138022.4,j=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,R=t=>!t&&0!==t,M=(t,e,i)=>(0,S.ZP)(t,e).to(i),B=function(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;const n=(0,S.ZP)(t,e).to("best",i);return T(n.quantity,s)+n.unit},D=t=>t.getDate().toString().padStart(2,"0")+"."+(t.getMonth()+1).toString().padStart(2,"0")+"."+t.getFullYear()+" "+t.getHours().toString().padStart(2,"0")+":"+t.getMinutes().toString().padStart(2,"0")+":"+t.getSeconds().toString().padStart(2,"0"),L=t=>t.getDate().toString().padStart(2,"0")+"."+(t.getMonth()+1).toString().padStart(2,"0")+"."+t.getFullYear()+" "+t.getHours().toString().padStart(2,"0")+":"+t.getMinutes().toString().padStart(2,"0");var N=i(3044),k=i.n(N),O=i(6745);const F=(t,e,i)=>(i&&(t=parseFloat(t.slice(0,t.length-2))),"metric"!==e&&(t=M(t,"kilometers","miles")),B(t,"metric"===e?"kilometers":"miles",e)),W=(t,e,i)=>{let s=1,n=1,o=t[0]["".concat(e)];t[0].indexPoints3+=i[0];for(let a=1;a<t.length;a++)if(t[a]["".concat(e)]!==o){if(n>=3)break;1===s&&2===n?(s=3,n++,o=t[a]["".concat(e)],t[a].indexPoints3+=i[s-1]):(s++,n++,o=t[a]["".concat(e)],t[a].indexPoints3+=i[s-1])}else n++,t[a].indexPoints3+=i[s-1]},H=(t,e,i)=>{let s=[],n=[],o=[],a=[],r=0,l=0,h=0,p=0;t.forEach(((t,d)=>{t.messages.forEach((t=>{if("All gateways per message"===e.name)n.push(t.avg_rssi),o.push(t.max_rssi),a.push(t.avg_snr),h+=t.avg_rssi,r+=t.max_rssi,l+=t.min_rssi,p+=t.avg_snr;else{let i=1,s=t.gateways[0].rssi,d=t.gateways[0].rssi,c=t.gateways[0].rssi,m=t.gateways[0].snr;t.gateways.forEach(((t,n)=>{n<e.value&&n>0&&(i++,s+=t.rssi,m+=t.snr,t.rssi>d&&(d=t.rssi),t.rssi<c&&(c=t.rssi))})),n.push(s/i),o.push(d),a.push(m/i),t.currentAvgRssi=s/i,h+=t.currentAvgRssi,r+=d,l+=c,p+=m/i}})),n.sort(((t,e)=>t-e)),o.sort(((t,e)=>t-e)),a.sort(((t,e)=>t-e)),s.push({...i[d],position_avg_all:Math.round(h/t.messages.length),position_avg_best:Math.round(r/t.messages.length),position_avg_worst:Math.round(l/t.messages.length),position_avg_snr:Math.round(10*p/t.messages.length)/10,position_avg_rssi_median:n.length%2===0||1===n.length?Math.round(n[Math.floor(n.length/2)]):Math.round((n[Math.floor((n.length-1)/2)]+n[Math.floor((n.length+1)/2)])/2),position_best_rssi_median:o.length%2===0||1===o.length?o[Math.floor(o.length/2)]:Math.round((o[Math.floor((o.length-1)/2)]+o[Math.floor((o.length+1)/2)])/2),position_avg_snr_median:a.length%2===0||1===a.length?Math.round(10*a[Math.floor(a.length/2)])/10:Math.round((a[Math.floor((a.length-1)/2)]+a[Math.floor((a.length+1)/2)])/2*10)/10,indexPoints1:0,indexPoints2:0,indexPoints3:0}),n=[],o=[],a=[],r=0,l=0,h=0,p=0}));let d=t[0].messages.length;for(let c=1;c<t.length;c++)t[c].messages.length<d&&(d=t[c].messages.length);for(let c=0;c<d;c++){let i,n,o=0;if("All gateways per message"===e.name){i=t[0].messages[c].avg_rssi,n=[{positionIndex:0,value:t[0].messages[c].avg_rssi}];for(let e=1;e<t.length;e++)t[e].messages[c].avg_rssi>i&&(i=t[e].messages[c].avg_rssi,o=e),n.push({positionIndex:e,value:t[e].messages[c].avg_rssi})}else{i=t[0].messages[c].currentAvgRssi,n=[{positionIndex:0,value:t[0].messages[c].currentAvgRssi}];for(let e=1;e<t.length;e++)t[e].messages[c].currentAvgRssi>i&&(i=t[e].messages[c].currentAvgRssi,o=e),n.push({positionIndex:e,value:t[e].messages[c].currentAvgRssi})}n.sort(((t,e)=>e.value-t.value));let a=3;for(let e=0;e<Math.min(t.length,3);e++)s[n[e].positionIndex].indexPoints2+=a,a--;s[o].indexPoints1++}return(t=>{let e=t.map((t=>({...t})));e.sort(((t,e)=>e.position_avg_all-t.position_avg_all)),W(e,"position_avg_all",[6,4,2]),e.sort(((t,e)=>e.position_avg_rssi_median-t.position_avg_rssi_median)),W(e,"position_avg_rssi_median",[9,6,3]),e.sort(((t,e)=>e.position_avg_best-t.position_avg_best)),W(e,"position_avg_best",[3,2,1]),e.sort(((t,e)=>e.position_best_rssi_median-t.position_best_rssi_median)),W(e,"position_best_rssi_median",[6,4,2]),e.sort(((t,e)=>e.position_avg_snr_median-t.position_avg_snr_median)),W(e,"position_avg_snr_median",[9,6,3]),e.sort(((t,e)=>e.position_avg_point_gateways-t.position_avg_point_gateways)),W(e,"position_avg_point_gateways",[12,8,4]),e.sort(((t,e)=>e.indexPoints1-t.indexPoints1)),W(e,"indexPoints1",[3,2,1]),e.sort(((t,e)=>e.indexPoints2-t.indexPoints2)),W(e,"indexPoints2",[3,2,1]),e.forEach((e=>{t.find((t=>t.position_number===e.position_number)).indexPoints3=e.indexPoints3}))})(s),s},G=(t,e,i,s)=>{let n,o,a=[],r=0,l=[];return t.forEach(((t,h)=>{let p=[];e.forEach((e=>{let i=e.positions.find((e=>e.position_number===t.position_number));i&&p.push({gtw_id:e.gtw_id,name:e.name,gtw_lat:e.gtw_lat,gtw_long:e.gtw_long,...i})}));let d,c,m,u,g=p[0],x=[],A=i.find((e=>e.position_number===t.position_number));p.forEach(((t,e)=>{t.points>g.points&&(g=t),0===e?(m=t.max_snr,u=t.min_snr,d=t.max_rssi,c=t.min_rssi):(t.max_snr>m&&(m=t.max_snr),t.min_snr<u&&(u=t.min_snr),t.max_rssi>d&&(d=t.max_rssi),t.min_rssi<c&&(c=t.min_rssi)),s&&x.push(((t,e,i,s)=>{if(e&&t){let n=k()([e,t]),o=k()([s,i]);return(0,O.Z)(n,o).toFixed(2)+"km"}return"-"})(t.gtw_lat,t.gtw_long,A.gps_latitude,A.gps_longitude))}));let f,C,b=0,y=0;t.messages.forEach(((t,e)=>{y++,b+=t.gateways.length,r+=t.gateways.length,0===h&&0===e?(n=t.gateways.length,o=t.gateways.length):t.gateways.length>n?n=t.gateways.length:t.gateways.length<o&&(o=t.gateways.length),0===e?(f=t.gateways.length,C=t.gateways.length):(t.gateways.length>f&&(f=t.gateways.length),t.gateways.length<C&&(C=t.gateways.length))}));let w=null;if(s){let t=-1;x.forEach((e=>{"-"!==e&&parseFloat(e.slice(0,e.length-2))>t&&(t=parseFloat(e.slice(0,e.length-2)))})),w=-1!==t?t:"-"}l.push({position_number:t.position_number,position_max_distance_from_gateway:w}),a.push({position_number:t.position_number,position_name:t.position_name,position_messages_received:y,position_messages_lost:t.lost_messages_object.lost_messages_number_sum,transmission_efficiency:Math.round(1e3*y/(y+t.lost_messages_object.lost_messages_number_sum))/10,position_gateways_number:p.length,position_avg_point_gateways:Math.round(b/y),position_max_point_gateways:f,position_min_point_gateways:C,position_best_gateway:g,position_max_rssi:d,position_min_rssi:c,position_max_snr:m,position_min_snr:u})})),{positions_widget_common_data:a,positionGatewayMaxDistance:l,total_avg_gateways_per_message_gtw_count_sum:r,position_max_gateways_per_message_total:n,position_min_gateways_per_message_total:o}};var E=i(7859),V=i(1317);function z(t,e,i){return new Promise((s=>{b.get.call(this,"https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(e,",").concat(t,".json?limit=1&access_token=").concat("pk.eyJ1Ijoic2xhdmVuZGFtIiwiYSI6ImNrZ3pudHFxZzE1ZHoycnIxOXEzMndidTEifQ.sKPryHAJXxnH32c2W0HPsQ"),(t=>{t.features.length>0?i?i._inputEl.value=(0,E.getAddressInfo)(t.features[0]).placeName:s((0,E.getAddressInfo)(t.features[0]).placeName):i?i._inputEl.value="":s("")}),!1)}))}function q(){if(this._zoom<3){if(1!==this.zoomRange){let t=this._map.getStyle()&&this._map.getStyle().layers;t&&(this._map.setLayoutProperty("base_stations_unclustered","icon-size",.1),t.find((t=>"base_station_selected_layer"===t.id))&&this._map.setLayoutProperty("base_station_selected_layer","icon-size",.1),t.find((t=>"base_stations_selected_layer"===t.id))&&this._map.setLayoutProperty("base_stations_selected_layer","icon-size",.1),this.zoomRange=1)}}else if(this._zoom<4){if(2!==this.zoomRange){let t=this._map.getStyle()&&this._map.getStyle().layers;t&&(this._map.setLayoutProperty("base_stations_unclustered","icon-size",.3),t.find((t=>"base_station_selected_layer"===t.id))&&this._map.setLayoutProperty("base_station_selected_layer","icon-size",.3),t.find((t=>"base_stations_selected_layer"===t.id))&&this._map.setLayoutProperty("base_stations_selected_layer","icon-size",.3),this.zoomRange=2)}}else if(this._zoom<6){if(3!==this.zoomRange){let t=this._map.getStyle()&&this._map.getStyle().layers;t&&(this._map.setLayoutProperty("base_stations_unclustered","icon-size",.5),t.find((t=>"base_station_selected_layer"===t.id))&&this._map.setLayoutProperty("base_station_selected_layer","icon-size",.5),t.find((t=>"base_stations_selected_layer"===t.id))&&this._map.setLayoutProperty("base_stations_selected_layer","icon-size",.5),this.zoomRange=3)}}else if(this._zoom<10){if(4!==this.zoomRange){let t=this._map.getStyle()&&this._map.getStyle().layers;t&&(this._map.setLayoutProperty("base_stations_unclustered","icon-size",.7),t.find((t=>"base_station_selected_layer"===t.id))&&this._map.setLayoutProperty("base_station_selected_layer","icon-size",.7),t.find((t=>"base_stations_selected_layer"===t.id))&&this._map.setLayoutProperty("base_stations_selected_layer","icon-size",.7),this.zoomRange=4)}}else if(this._zoom<15){if(5!==this.zoomRange){let t=this._map.getStyle()&&this._map.getStyle().layers;t&&(this._map.setLayoutProperty("base_stations_unclustered","icon-size",.9),t.find((t=>"base_station_selected_layer"===t.id))&&this._map.setLayoutProperty("base_station_selected_layer","icon-size",.9),t.find((t=>"base_stations_selected_layer"===t.id))&&this._map.setLayoutProperty("base_stations_selected_layer","icon-size",.9),this.zoomRange=5)}}else{let t=this._map.getStyle()&&this._map.getStyle().layers;t&&(this._map.setLayoutProperty("base_stations_unclustered","icon-size",1),t.find((t=>"base_station_selected_layer"===t.id))&&this._map.setLayoutProperty("base_station_selected_layer","icon-size",1),t.find((t=>"base_stations_selected_layer"===t.id))&&this._map.setLayoutProperty("base_stations_selected_layer","icon-size",1),this.zoomRange=6)}}const U=t=>{setTimeout((()=>{document.querySelector(".mapboxgl-popup")&&document.querySelector(".mapboxgl-popup").classList.add(t)}),300)};function J(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;b.get.call(this,"/location",(e=>{V.log("Ipapify response:"),V.log(e),this.mounted&&e?e.latitude&&e.longitude?(V.log("Postavi lat long u prvom"),this.setState({[t]:[e.longitude,e.latitude]},(()=>!!i&&i()))):e.geoplugin_latitude&&e.geoplugin_longitude?(V.log("postavi lat long u drugom"),this.setState({[t]:[e.geoplugin_longitude,e.geoplugin_latitude]},(()=>!!i&&i()))):i&&i():i&&i()}),!0,!0)}const X=function(t){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var e=0;return Math.abs(t)>105&&(e=1),Math.abs(t)>120&&(e=2),["#960000","#db2e2e","#fb5a5a"][e]}return"#ffc547"};var Y=i(4937),Z=i.n(Y),Q=i(1317);const K=(t,e)=>{let i=e.replace(/[` ~!@#$%^&*()|+=?;:'",.<>{}[\]\\/]/gi,"x");return!t.w.globals.dom.baseEl.querySelector('.apexcharts-inner .apexcharts-series[seriesName="'.concat(i,'"]')).classList.contains("apexcharts-series-collapsed")},_=(t,e)=>"location"===t?"Position "+e.position_number+" gateway count":e.antenna_name?e.antenna_name+" gateway count":"Antenna "+e.antenna_type+" gateway count",$=(t,e,i,s,n,o)=>{let a="<tr>";a+='<td><div style="display: flex; align-items: center;"><span class="apexcharts-tooltip-marker" style="background-color: '+i.color+';"></span>';let r="sf_row"===n?"SF:":i.name;if(e&&o&&"AnalyticsLine"===n){let t=o.split(" ");t=t[t.length-1],t=(l=t).charAt(0).toUpperCase()+l.slice(1)+":",r=t}var l;return a+="<span>"+r+"</span>",a+="</div></td>",t&&"AnalyticsLine"===n?(a+='<td><span class="apexcharts-tooltip-text-y-value">'+s.y.toFixed(0)+"dBm</span></td>",s.sf&&(a+='<td><span class="apexcharts-tooltip-text-y-value">'+s.sf+"</span></td>")):(a+='<td><span class="apexcharts-tooltip-text-y-value">',a+="AnalyticsLine"===n||"SNRRSSI"===n?s.y.toFixed(0)+"dBm":"sf_row"===n?s.sf:s.y.toFixed(0),a+="</span></td>"),a+="</tr>",a},tt=t=>e=>{let{w:i,seriesIndex:s,dataPointIndex:n}=e;if(K(Z().getChartByID(i.config.chart.id),i.config.series[s].name)){Q.log(i.config.series[s].data[n]);let e="";if(e+='<div class="apexcharts-tooltip-series-group apexcharts-active" style="order: 1; display: flex; flex-direction: column; padding: 5px 0px;">',e+='<table class="table apex-tooltip-table">',e+=!t.props.showCommonSpreadingFactor&&t.props.showSpreadingFactorValue&&"SNRRSSI"!==i.config.series[s].graphType?'<thead><tr><th style="visibility: hidden;">Color</th>':"","bar"===i.config.series[s].type)e+="<th>Gateways count</th>",e+="</tr></thead>",e+=$(null,null,t.chartColors[s],i.config.series[s].data[n],"bar");else if("AnalyticsLine"===i.config.series[s].graphType){let o;e+=!t.props.showCommonSpreadingFactor&&t.props.showSpreadingFactorValue?"<th>RSSI</th>":"",e+=!t.props.showCommonSpreadingFactor&&t.props.showSpreadingFactorValue?"<th>SF</th>":"",e+=!t.props.showCommonSpreadingFactor&&t.props.showSpreadingFactorValue?"</tr></thead>":"";for(let a=0;a<t.lineChartsData.length;a++)(o=t.lineChartsData[a].data.find((t=>t.x===i.config.series[s].data[n].x)))&&(e+=$(t.props.showSpreadingFactorValue,t.props.showCommonSpreadingFactor,t.chartColors[a+t.pointGatewayCountLength],o,"AnalyticsLine",t.lineChartsData[a].name));"AnalyticsLine"===i.config.series[s].graphType&&t.props.showCommonSpreadingFactor&&(e+=$(t.props.showSpreadingFactorValue,t.props.showCommonSpreadingFactor,{color:"#ffffff"},i.config.series[s].data[n],"sf_row"))}else{let o={};for(let e=0;e<t.scatterChartsData.length;e++)for(let a=0;a<t.scatterChartsData[e].data.length;a++)t.scatterChartsData[e].data[a].x===i.config.series[s].data[n].x&&t.scatterChartsData[e].data[a].y===i.config.series[s].data[n].y&&(o[t.scatterChartsData[e].name]?o[t.scatterChartsData[e].name].data.push(t.scatterChartsData[e].data[a]):(o[t.scatterChartsData[e].name]={},o[t.scatterChartsData[e].name].index=e,o[t.scatterChartsData[e].name].nextNumber=1,o[t.scatterChartsData[e].name].data=[t.scatterChartsData[e].data[a]]));Q.log(o);for(const i in o)for(let s=0;s<o[i].data.length;s++){let n={...t.chartColors[o[i].index]};o[i].data.length>1&&(n.name+="("+o[i].nextNumber+")",o[i].nextNumber+=1),e+=$(null,null,n,o[i].data[s],"SNRRSSI")}}return e+="</tbody></table>",e+="</div>",e}return Q.log("Graf nije prikazan"),null};var et=i(1317);const it={isEmpty:function(){return!String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ").replace(/ /g,"").length&&"Entry can not be empty."},isNumber:function(){return!!isNaN(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")&&"Entry can be just a number."},isEmail:function(){return!/\S+@\S+\.\S+/.test(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")&&"Invalid e-mail format."},isGpsCoordinate:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return it.isEmpty(t)?"Entry can not be empty.":it.isNumber(t)?"Entry can be just a number.":"gps_lat"===e?!(Number(t)>=-90&&Number(t)<=90)&&"Latitude out of bounds([-90, 90]).":!(Number(t)>=-180&&Number(t)<=180)&&"Longitude out of bounds([-180, 180])."},isValidGpsCoordinates:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";et.log("Ptimljen koordinate: "+t);const e=t.replace(/\s+/g,"").split(",");return e&&2===e.length?it.isGpsCoordinate(e[0],"gps_lat")||it.isGpsCoordinate(e[1],"gps_long"):"Invalid GPS coordinates. Please follow specified format."},deviceEUI:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.length>0&&(16!==t.length&&"DevEUI must be 16 characters long")},isLicenseNumber:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=!1;if("string"===typeof t)if(19!==t.length)e=!0;else{const i=t.split("-");if(et.log("License parts"),et.log(i),4!==i.length)e=!0;else for(let t=0;t<i.length;t++)if(4!==i[t].length){e=!0;break}}else e=!0;return!!e&&"Invalid license format"}},st=(t,e)=>{let i=0,s=t.map((t=>{let e,s,{value:n,validate:o,...a}=t;return a.isGpsCoord?(et.log("Comma value"+n),s=n.toString()&&n.toString().replace(",","."),et.log("Dotted value"+s),e=o&&o(s),e||(n=s)):e=o&&o(n),e&&i++,{...a,validate:o,value:n,error:e}}));return e(s),!i},nt=(t,e)=>{for(let i=0;i<e.length;i++)if(t[i].value!==e[i].value)return!0;return!1},ot=[{gradientStartColor:"#f55847",gradientStopColor:"#f00"},{gradientStartColor:"#e4c06e",gradientStopColor:"#ffb000"},{gradientStartColor:"#88cc6c",gradientStopColor:"#60c437"},{gradientStartColor:"#77e1f4",gradientStopColor:"#00d9ff"},{gradientStartColor:"#4f72a6",gradientStopColor:"#284d7e"},{gradientStartColor:"#666666",gradientStopColor:"#aaaaaa"},{gradientStartColor:"#fafafa",gradientStopColor:"#eaeaea"},{gradientStartColor:"#f9ad67",gradientStopColor:"#f97f00"},{gradientStartColor:"#a784d9",gradientStopColor:"#8951da"},{gradientStartColor:"#df67bd",gradientStopColor:"#e22aae"},{gradientStartColor:"#3c3b3b",gradientStopColor:"#000000"},{gradientStartColor:"#e2c695",gradientStopColor:"#c69d56"}],at=["None","Lounge","Lunchroom","Kitchen","Bathroom","Bedroom","Locker","Office","Hall","Loggia","Balcony","Terrace","Corridor","Garage"],rt=[{title:"Unknown",fill:"#666666",width:256,height:256,href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAQMAAABmvDolAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAGUExURfnz5P///8HNK+4AAAABYktHRAH/Ai3eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5gwQCRM5qBsatAAAAB9JREFUaN7twQENAAAAwqD3T20ON6AAAAAAAAAAAL4NIQAAAX8ZnKcAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMTItMTZUMDk6MTk6NTcrMDA6MDDQYf5qAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTEyLTE2VDA5OjE5OjU3KzAwOjAwoTxG1gAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMi0xMi0xNlQwOToxOTo1NyswMDowMPYpZwkAAAAASUVORK5CYII="},{id:"concrete",title:"Concrete",fill:"url(#concrete)",width:256,height:256,href:"data:image/jpeg;base64,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",scale:100},{id:"brick",title:"Brick",fill:"url(#brick)",width:256,height:256,href:"data:image/jpeg;base64,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A/UAAAAAAEgAL2ZmAAEAbGZmAAYAAAAAAAEAL2ZmAAEAoZmaAAYAAAAAAAEAMgAAAAEAWgAAAAYAAAAAAAEANQAAAAEALQAAAAYAAAAAAAE4QklNA/gAAAAAAHAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAOEJJTQQIAAAAAAAQAAAAAQAAAkAAAAJAAAAAADhCSU0EHgAAAAAABAAAAAA4QklNBBoAAAAAA0sAAAAGAAAAAAAAAAAAAAEAAAABAAAAAAsAbABpAGcAaAB0AF8AYgByAGkAYwBrAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAABAAAAAAAAbnVsbAAAAAIAAAAGYm91bmRzT2JqYwAAAAEAAAAAAABSY3QxAAAABAAAAABUb3AgbG9uZwAAAAAAAAAATGVmdGxvbmcAAAAAAAAAAEJ0b21sb25nAAABAAAAAABSZ2h0bG9uZwAAAQAAAAAGc2xpY2VzVmxMcwAAAAFPYmpjAAAAAQAAAAAABXNsaWNlAAAAEgAAAAdzbGljZUlEbG9uZwAAAAAAAAAHZ3JvdXBJRGxvbmcAAAAAAAAABm9yaWdpbmVudW0AAAAMRVNsaWNlT3JpZ2luAAAADWF1dG9HZW5lcmF0ZWQAAAAAVHlwZWVudW0AAAAKRVNsaWNlVHlwZQAAAABJbWcgAAAABmJvdW5kc09iamMAAAABAAAAAAAAUmN0MQAAAAQAAAAAVG9wIGxvbmcAAAAAAAAAAExlZnRsb25nAAAAAAAAAABCdG9tbG9uZwAAAQAAAAAAUmdodGxvbmcAAAEAAAAAA3VybFRFWFQAAAABAAAAAAAAbnVsbFRFWFQAAAABAAAAAAAATXNnZVRFWFQAAAABAAAAAAAGYWx0VGFnVEVYVAAAAAEAAAAAAA5jZWxsVGV4dElzSFRNTGJvb2wBAAAACGNlbGxUZXh0VEVYVAAAAAEAAAAAAAlob3J6QWxpZ25lbnVtAAAAD0VTbGljZUhv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IDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcDpDcmVhdGVEYXRlPSIyMDE1LTAxLTE1VDIxOjE2OjQyIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIgeG1wOk1vZGlmeURhdGU9IjIwMTUtMDEtMjZUMTA6MjY6MTItMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTUtMDEtMjZUMTA6MjY6MTItMDg6MDAiIHhtcE1NOkRvY3VtZW50SUQ9IkI2NUM4MUNCNUY0MjE3NTY3NUFCRjU0N0IxNTgwQjQxIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjU0NjU5NTM5LTA3ZmUtNDcyZi04ZDczLTA4YWFkOWM2NTIwMSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJCNjVDODFDQjVGNDIxNzU2NzVBQkY1NDdCMTU4MEI0MSIgZGM6Zm9ybWF0PSJpbWFnZS9qcGVnIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1NDY1OTUzOS0wN2ZlLTQ3MmYtOGQ3My0wOGFhZDljNjUyMDEiIHN0RXZ0OndoZW49IjIwMTUtMDEtMjZUMTA6MjY6MTItMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD94cGFja2V0IGVuZD0idyI/Pv/iDFhJQ0NfUFJPRklMRQABAQAADEhMaW5vAhAAAG1udHJSR0IgWFlaIAfOAAIACQAGADEAAGFjc3BNU0ZUAAAAAElFQyBzUkdCAAAAAAAAAAAAAAAAAAD21gABAAAAANMtSFAgIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEWNwcnQAAAFQAAAAM2Rlc2MAAAGEAAAAbHd0cHQAAAHwAAAAFGJrcHQAAAIEAAAAFHJYWVoAAAIYAAAAFGdYWVoAAAIsAAAAFGJYWVoAAAJAAAAAFGRtbmQAAAJUAAAAcGRtZGQAAALEAAAAiHZ1ZWQAAANMAAAAhnZpZXcAAAPUAAAAJGx1bWkAAAP4AAAAFG1lYXMAAAQMAAAAJHRlY2gAAAQwAAAADHJUUkMAAAQ8AAAIDGdUUkMAAAQ8AAAIDGJUUkMAAAQ8AAAIDHRleHQAAAAAQ29weXJpZ2h0IChjKSAxOTk4IEhld2xldHQtUGFja2FyZCBDb21wYW55AABkZXNjAAAAAAAAABJzUkdCIElFQzYxOTY2LTIuMQAAAAAAAAAAAAAAEnNSR0IgSUVDNjE5NjYtMi4xAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYWVogAAAAAAAA81EAAQAAAAEWzFhZWiAAAAAAAAAAAAAAAAAAAAAAWFlaIAAAAAAAAG+iAAA49QAAA5BYWVogAAAAAAAAYpkAALeFAAAY2lhZWiAAAAAAAAAkoAAAD4QAALbPZGVzYwAAAAAAAAAWSUVDIGh0dHA6Ly93d3cuaWVjLmNoAAAAAAAAAAAAAAAWSUVDIGh0dHA6Ly93d3cuaWVjLmNoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRlc2MAAAAAAAAALklFQyA2MTk2Ni0yLjEgRGVmYXVsdCBSR0IgY29sb3VyIHNwYWNlIC0gc1JHQgAAAAAAAAAAAAAALklFQyA2MTk2Ni0yLjEgRGVmYXVsdCBSR0IgY29sb3VyIHNwYWNlIC0gc1JHQgAAAAAAAAAAAAAAAAAAAAAAAAAAAABkZXNjAAAAAAAAACxSZWZlcmVuY2UgVmlld2luZyBDb25kaXRpb24gaW4gSUVDNjE5NjYtMi4xAAAAAAAAAAAAAAAsUmVmZXJlbmNlIFZpZXdpbmcgQ29uZGl0aW9uIGluIElFQzYxOTY2LTIuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAdmlldwAAAAAAE6T+ABRfLgAQzxQAA+3MAAQTCwADXJ4AAAABWFlaIAAAAAAATAlWAFAAAABXH+dtZWFzAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAACjwAAAAJzaWcgAAAAAENSVCBjdXJ2AAAAAAAABAAAAAAFAAoADwAUABkAHgAjACgALQAyADcAOwBAAEUASgBPAFQAWQBeAGMAaABtAHIAdwB8AIEAhgCLAJAAlQCaAJ8ApACpAK4AsgC3ALwAwQDGAMsA0ADVANsA4ADlAOsA8AD2APsBAQEHAQ0BEwEZAR8BJQErATIBOAE+AUUBTAFSAVkBYAFnAW4BdQF8AYMBiwGSAZoBoQGpAbEBuQHBAckB0QHZAeEB6QHyAfoCAwIMAhQCHQImAi8COAJBAksCVAJdAmcCcQJ6AoQCjgKYAqICrAK2AsECywLVAuAC6wL1AwADCwMWAyEDLQM4A0MDTwNaA2YDcgN+A4oDlgOiA64DugPHA9MD4APsA/kEBgQTBCAELQQ7BEgEVQRjBHEEfgSMBJoEqAS2BMQE0wThBPAE/gUNBRwFKwU6BUkFWAVnBXcFhgWWBaYFtQXFBdUF5QX2BgYGFgYnBjcGSAZZBmoGewaMBp0GrwbABtEG4wb1BwcHGQcrBz0HTwdhB3QHhgeZB6wHvwfSB+UH+AgLCB8IMghGCFoIbgiCCJYIqgi+CNII5wj7CRAJJQk6CU8JZAl5CY8JpAm6Cc8J5Qn7ChEKJwo9ClQKagqBCpgKrgrFCtwK8wsLCyILOQtRC2kLgAuYC7ALyAvhC/kMEgwqDEMMXAx1DI4MpwzADNkM8w0NDSYNQA1aDXQNjg2pDcMN3g34DhMOLg5JDmQOfw6bDrYO0g7uDwkPJQ9BD14Peg+WD7MPzw/sEAkQJhBDEGEQfhCbELkQ1xD1ERMRMRFPEW0RjBGqEckR6BIHEiYSRRJkEoQSoxLDEuMTAxMjE0MTYxODE6QTxRPlFAYUJxRJFGoUixStFM4U8BUSFTQVVhV4FZsVvRXgFgMWJhZJFmwWjxayFtYW+hcdF0EXZReJF64X0hf3GBsYQBhlGIoYrxjVGPoZIBlFGWsZkRm3Gd0aBBoqGlEadxqeGsUa7BsUGzsbYxuKG7Ib2hwCHCocUhx7HKMczBz1HR4dRx1wHZkdwx3sHhYeQB5qHpQevh7pHxMfPh9pH5Qfvx/qIBUgQSBsIJggxCDwIRwhSCF1IaEhziH7IiciVSKCIq8i3SMKIzgjZiOUI8Ij8CQfJE0kfCSrJNolCSU4JWgllyXHJfcmJyZXJocmtyboJxgnSSd6J6sn3CgNKD8ocSiiKNQpBik4KWspnSnQKgIqNSpoKpsqzysCKzYraSudK9EsBSw5LG4soizXLQwtQS12Last4S4WLkwugi63Lu4vJC9aL5Evxy/+MDUwbDCkMNsxEjFKMYIxujHyMioyYzKbMtQzDTNGM38zuDPxNCs0ZTSeNNg1EzVNNYc1wjX9Njc2cjauNuk3JDdgN5w31zgUOFA4jDjIOQU5Qjl/Obw5+To2OnQ6sjrvOy07azuqO+g8JzxlPKQ84z0iPWE9oT3gPiA+YD6gPuA/IT9hP6I/4kAjQGRApkDnQSlBakGsQe5CMEJyQrVC90M6Q31DwEQDREdEikTORRJFVUWaRd5GIkZnRqtG8Ec1R3tHwEgFSEtIkUjXSR1JY0mpSfBKN0p9SsRLDEtTS5pL4kwqTHJMuk0CTUpNk03cTiVObk63TwBPSU+TT91QJ1BxULtRBlFQUZtR5lIxUnxSx1MTU19TqlP2VEJUj1TbVShVdVXCVg9WXFapVvdXRFeSV+BYL1h9WMtZGllpWbhaB1pWWqZa9VtFW5Vb5Vw1XIZc1l0nXXhdyV4aXmxevV8PX2Ffs2AFYFdgqmD8YU9homH1YklinGLwY0Njl2PrZEBklGTpZT1lkmXnZj1mkmboZz1nk2fpaD9olmjsaUNpmmnxakhqn2r3a09rp2v/bFdsr20IbWBtuW4SbmtuxG8eb3hv0XArcIZw4HE6cZVx8HJLcqZzAXNdc7h0FHRwdMx1KHWFdeF2Pnabdvh3VnezeBF4bnjMeSp5iXnnekZ6pXsEe2N7wnwhfIF84X1BfaF+AX5ifsJ/I3+Ef+WAR4CogQqBa4HNgjCCkoL0g1eDuoQdhICE44VHhauGDoZyhteHO4efiASIaYjOiTOJmYn+imSKyoswi5aL/IxjjMqNMY2Yjf+OZo7OjzaPnpAGkG6Q1pE/kaiSEZJ6kuOTTZO2lCCUipT0lV+VyZY0lp+XCpd1l+CYTJi4mSSZkJn8mmia1ZtCm6+cHJyJnPedZJ3SnkCerp8dn4uf+qBpoNihR6G2oiailqMGo3aj5qRWpMelOKWpphqmi6b9p26n4KhSqMSpN6mpqhyqj6sCq3Wr6axcrNCtRK24ri2uoa8Wr4uwALB1sOqxYLHWskuywrM4s660JbSctRO1irYBtnm28Ldot+C4WbjRuUq5wro7urW7LrunvCG8m70VvY++Cr6Evv+/er/1wHDA7MFnwePCX8Lbw1jD1MRRxM7FS8XIxkbGw8dBx7/IPci8yTrJuco4yrfLNsu2zDXMtc01zbXONs62zzfPuNA50LrRPNG+0j/SwdNE08bUSdTL1U7V0dZV1tjXXNfg2GTY6Nls2fHadtr724DcBdyK3RDdlt4c3qLfKd+v4DbgveFE4cziU+Lb42Pj6+Rz5PzlhOYN5pbnH+ep6DLovOlG6dDqW+rl63Dr++yG7RHtnO4o7rTvQO/M8Fjw5fFy8f/yjPMZ86f0NPTC9VD13vZt9vv3ivgZ+Kj5OPnH+lf65/t3/Af8mP0p/br+S/7c/23////uAA5BZG9iZQBkQAAAAAH/2wCEAAICAgICAgICAgIDAgICAwQDAgIDBAUEBAQEBAUGBQUFBQUFBgYHBwgHBwYJCQoKCQkMDAwMDAwMDAwMDAwMDAwBAwMDBQQFCQYGCQ0KCQoNDw4ODg4PDwwMDAwMDw8MDAwMDAwPDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDP/AABEIAQABAAMBEQACEQEDEQH/3QAEACD/xAGiAAAABwEBAQEBAAAAAAAAAAAEBQMCBgEABwgJCgsBAAICAwEBAQEBAAAAAAAAAAEAAgMEBQYHCAkKCxAAAgEDAwIEAgYHAwQCBgJzAQIDEQQABSESMUFRBhNhInGBFDKRoQcVsUIjwVLR4TMWYvAkcoLxJUM0U5KismNzwjVEJ5OjszYXVGR0w9LiCCaDCQoYGYSURUaktFbTVSga8uPzxNTk9GV1hZWltcXV5fVmdoaWprbG1ub2N0dXZ3eHl6e3x9fn9zhIWGh4iJiouMjY6PgpOUlZaXmJmam5ydnp+So6SlpqeoqaqrrK2ur6EQACAgECAwUFBAUGBAgDA20BAAIRAwQhEjFBBVETYSIGcYGRMqGx8BTB0eEjQhVSYnLxMyQ0Q4IWklMlomOywgdz0jXiRIMXVJMICQoYGSY2RRonZHRVN/Kjs8MoKdPj84SUpLTE1OT0ZXWFlaW1xdXl9UZWZnaGlqa2xtbm9kdXZ3eHl6e3x9fn9zhIWGh4iJiouMjY6Pg5SVlpeYmZqbnJ2en5KjpKWmp6ipqqusra6vr/2gAMAwEAAhEDEQA/AC+Oe3kS59C4jm9Nakow2I/HOK6vopkDvaWu8TrT61GpIpNG0ihqtXsSK5Zuw3KZnzRdFD6tzHcG2UKZaoGRV/ZLrQ09umPEWUIAnd+pH5Ec5vy50kvDGwvI2kVWIWgp3U02/HM3Sl5vtOf7x+aPn38qfzF07zl5nv778vNX1XRRq13HHf24Ro2WeV3iZDE/PdW2bjTxIwZY+tzcWfHwD1DYMGuvy+87TXDvZeQtdtbUgfV4JLd3I49QHJ+LI8BPRsGaF7yCCj8q+braWJZPKusCcyJJFbGxldXMbVoRxI2oK74TE0vjQJ+oMiPkvzpq7aprcflHULWCeQC64WLxIJenGNOq/MCmEYzzU5oR6pc3k/zZGpQeWtXfhuriymfr78SPvx8Mr+Yh3rrD8vPzA1haWHlHWJ5JGMfBrR1+h/U4/Rj4ZYnUR7wnt1+XXmmyhhtLzynq1pdWycZ4Y7OV+Tg9fh5io9sgYkdCyGrhX1BF2H5J/mbrKrNovkzV514hikiC27VH95IDVslGBJ5NeTUw71FPy4/MgyTW935H1v6xYq0c8K2wojL1QMrcD8w2TyQIYR1MCdy/U3yVosk35WaTouo6b9UvbjQjp7I4UOjyxcSCFHwmvU5fiia3dTqSJTsd4fBmt/k3+ZXld0hu/Jl/eWVqnpRahp/C6QhDtUKysKj2zXnTEUHfjW45eqRosa8wflf5v0NtN1HUfKGoHStWQva3tgr3jW8qoWK3MCLyStPh3O+222DwZDon87i/nBk3/OW8cNp+YuizesrR3mhQNCxKpy4SuCflmVqN4uP2ZzkO8vmZ7WSVkktYZriGlTcRxvJGfEc0Vl/HMeO7ssh4T+0Ieac+hJC6GFlYVRvhIPh8VMiYlMSD1CGUKGdnnitvTGzTOFVv8lSdifbI8NpE4jqt/ScKqP8ASoAn2WPqL16bmu2SgOlLMApiNTjt+ds93E6oFYBXWtfdgcldBrEAj21h5LSKKC4gd7kmkYZSevYVJGSBDEAAm0L6kE0npoxEgFJWO/xeB7DAjiCqI5EKTLDKifZ+slH4CSv2a0piQaWEwer9Ef8AnFOG4k8s6iDEQruVFy1VVuPZWOSxW4XaZEqALwT/AJyT8near78273U9K8tajqFlqOlWccd1bW7zRK8DvyB9MUr8XfrlmpiZT27mzs7IMeIiRqy8Fby35k8v3Edprui6hod3IwMcd5buqunYqwqhr7GuYksZBdhDLA/SQU3C2t2rLUxTRkKq8WIYgbk12rhiC18W6n9WlNzb29nb3F5NMvEW8cTs7N24qoJOGrLPiA6oW+tLvS5ltdTs7nT5mBKpcRSJUDrxLqvTvTGQRGce9aoR7fkbpWWtQgZT0ooO2+RldMxId7//0PSXl781pNZvtNl1Dyd5ZH1x0FxLFbBSOoruo40r3GcuM8jzp7OegHISL33WrPyvaaRdardeTNN1yK0tWu5bNLWGNljQD1lWVwo5UNRvtmZGpDk6XIeE1ZfN9l+cX5ULcJdL+WS2b2zN9TBtrecuh36q3FCD/NlRlHucwYJmO0j8WVf9DQ20FtPDoXk2O1MVGsYrm5CKB+0CIwwGAZAOQU6OzZNsVn/5yo86PcLLb6To5HLlc27GUKTTdeQHfBKVtkdJEJbP/wA5L/mJJ6wEem2aKDxNtGzAVqR9ojp44OMgEdWwaSJ6vp3S7/UdZ8l6dr1wWlvZtOa7nu439H4whYr3AWoy3GbdfmiBOgXzVafnX57lid7eWyhd2JWd4WkPEtSnHkoJp3zGll3pzsejjOO6dL+eX5hxxObX9ELIrDjM9q3Kg6gr6lD88MM5tJ0GPzQx/Pv8x3uHmc6Z6nIDnBbvHVR+yw9Q1+eTlmKx7Oge9GW3/OQvn+S7himi01reRviYxOz1bYryJrSm+JzGkx7OgOj6L1fz7eaT5Gt/Ok9qryadEhuLYNQTCY8ap4A12BzIu426rwQcvC8muf8AnIjW45ZH0/SLOCQnjwuZ5HKDsOIAUgZR4p6OZ+SFoM/85Oeb7dDILXS7dzX1bdIpOJbud9zXHxj0U6GF9Ui1D/nKH8wzpohsZNP0y5uJC0c8VuZGWKv2AGIH34PGkn8hC7Q+kf8AOTXmq1inTUzZX/MqxR4WSvGtQOJ27f59AMhZfkgOSZD/AJyT8heZLqO21/yZPdT2kbLHcXEdrOQhbkVUvQqp3OIyg7FmNDIbgpw357eWbFUXy55VKWMx4yW1LaKPj7qFbc+2ETA3DD8mZHd65oXmLynqumLr+oeXbaG7MTGRDDDM7ooLbArQ7DqO+WxPEHBzROOfCHiB/wCckvyOeSeFPJur3sJJDxDR41jJr8VA6g7EU7V7HKDqIA1TnHs/Lz2+Z/Uti/On8ldTillj/KvUpfUBikmfSIF5x16MB+ulckM0KU6LL+Cjrb8wPycYSSQfljfJFNGEiWLTIlVQRsQrnlT54DPyY/lMn4NpjY/mV+VNzdxQyeQbvTUBEEU76XAwBpSv7vkTU5XxHubfy+QjcinqV+3lPTPLGs+Zx5SjuFsbf1ZLP0YUnKD7BoRtXMqBvo4cuK6t4P8A8re0a5iWSDyHHp7OiPxuZYGpt8LBEDgn3+jIyyDk5EdIeZJtBzf85Ca/BZi00jRtL0+Gzets8mz1HUlUAU1ys5a5Buho4EiyVaz/AOclPPUdjLE1tpRnmk+O6AccVIrTjQg1HQ12yHjSrzQNDiB602v/ADkHrupXNpZ6houmakGYoecY4AlaB6SA0IG2xGCWQtg0WOIuJL3Dzb5p0Ly95NvPM9zoFtdNo0cM9xZQxwxuY325KStdvfMqIHBbrzj/AHnBu8Wv/wDnIybS7Eahp3kXTErxIkaRYzwbfkrrFs3yGY/j+TmfkATRkWLXP/OVPmC6hIn8laNdAy+pCLpjOiIR4tFyqe+Jz30Zx7NjE/UUiuf+ch9XPpTv+X/lUTxj1YnhiNQSdiV9IAjcmmV+PLuDfHQA/wARf//RmflgTrJZOkfpzQlEWJl4hyDuQT1984+Y2D30pbn3PvfU7Jr78sfOUplFxHLod3wdU4FXjUA8QOlOle+Z+E3F5rMTGRfkjbTy/UIqGVbYD9wzGgqPtb9/oyJju7YzJARMd1VCzSFWag57Co/lIxoLxK1pN6zMDIsIjZfCvI7UGAsolNpb2kM8SSFoyGDoNug6nb9WQLYNn6PaHK1p+QKaiUBEPl0oY3HwqJU48j4mmXYto26nPEHK+JNNtktoUhUCvHhyP7PSld61rmukQS73HAiIRCILCeVJpy/JCwPVRXoT4VxiGypdyXfXI3l9MOrMPida0NPEf2ZZdhlyV4ifrER4sGBB8d6b0+gVwZCQAyjEE7vqr8yoJbX8gbm7EUkv15LRKcjVRyFaVNR47ZssW+N5rIf8I2fGN1dzMA0crsTT4nPIg9qk5iwFuzsbIEXN09WkPxgkKSNye4UYeEhnQJQhvJQ4RWDkg+qrb7DrTII2beZG+NfgHGki96/PD0YjmlyQQ+utyEBYgio8PEYGfEzPTZkkiQKehAaviDUVORnybsQD7S/LfT21/wAg3F0jxM2mLcQ+mxKyA+nyUIwH7RY7dcu08rdVr4gZefR8F+VPq6SzxX9oyO0sjO8iEgBXPfqKdNxmLP6i7qJ9Ios7n1mPRLu3ubRFls5DweJqEryxG3RgRxDkzfTdQtTY3lxHwht2iUAcSanrUADbc5fEuMYVzYkdVUzgWpNY7gE8W4tQEVIqR0rgJLdHk+yjqE7flp5iu1dRaT6W/AsCtTwod2A5fRtl2Kd0HUZoiM/i+GI7hjHaMzFKRIFKndhTbceGVnm7K6CFuuEilOfKpJVTXem9K5GkAoWylluoWaX4JBKUWNFoo4j29umLK9kdZAR3MbsaxIRzJrxO/v065CYTE0CH2n+YOnxy/kn5u1O3Czc9FiM5Vi1SBXvuvyzKxm8ZDqs0uHUD3vh25uhcaFDyZmDwqY2PxUIUdO23jmFEG3dyHq2YR6jvRGYkIoVQvUkLsNsbbq3R0Fvd3SGLlKkqqCJONONTXbxJ6ZGijd//0vV9h+SerWF/psq3qXSQ3KSzm1tZpVMSbkIVdRyeoo7HbwOcx4T1X58yvZ9PTeXZrvytqGhwTy6dFqeky6Yr/DI8Ly/tMN6iv2uOZECAKddkJN33viuy/wCcPtctJIbbU/OFiLIylKWkEzTsAftBJP3e3jU5GVE0HKGqA2Ctqv8AziJqsFz6nl/znaXOmhKTLqdpJDdKR15fVmaNl8BQHxycYCrQdWbohILD/nGi7uwsieetKuEDBZngtZZWVdw3wi4UENTpTf3wSxhI1W1hk+h/8476A19bnUvMd5eQpMEks9OhDs4Q7hpKNxr4ooPtkTFP5mVPsqCDRbPytdeW7jTjb+XxbGyhtXZIXaAjpuAwI8SN8MRQIcSRMpiYeGT/AJE+VJn52nmc2mnMn7lrie3cpQU9N25AHj0G9cxvBjbnx1swPpSaT/nH3y/dcJn/ADDhS2jNJ5AlvIVbsOazAU9jkvy8O9l+fmecVCL/AJxn8q39wz2n5iXNwvFWYWUNqkpCEVUSl5AEPegJHY5ZHDENU9fMcgXpmnfkR+WsEks9xcXd1BG6fU7OW9QKENAwaZFWaSp3IalPHJcETzavz+YW9M89eSdM84eQbnyNHepo9jOqQQ3MASRoDGaqEV2NRTqK1p3y6IgBTijJMz4qfM2p/wDOLWowxt+jvMySx+iWiZ7Jj6UoO4Ijcni/am48DkBjB5OUNYQdwmOj/wDOOWgrZI2s3l5qF5MvozS2hjiS1cA0lVSrGQEncPT54+F3ljLXE8kkf/nGC1iDSX3m0QhiRAkenvIXFfhNRKRv33+jGOGNs/zx5IG9/wCcevL9vcJosXnhoNYFsLh7C8t4EfgKAyxQRuJWXehO+CeMJhrJ9yMH/OMWliMA+ciZQ3BpTYn0wfb464PDiEjVzJNBNLD/AJxj0+ORlPnESCNla6BsygSJh1VRKH5V6V28cZYo8mY1s49Hs3ln8vtI8n6Ff6DaandST6pFJW7uxEgDSRlUqkIkCgV8a5HEBA7NOfPLLIEh8WWH/OOv5p2VxcWYTT7m3VHeC+S6V43PIihYUKcuxIPyyuWI8RdhHXYxEA9yB1D8ivzQDx2jeXebMgLUu4Ai8jQ7lxsPl9GA4ZDoyHaOPvTbSvyN/MBbGXTltoIZH4vJfPej01Bp8BULyB8PhoexwCDGeqgSjtL/ACC/MFNYEFy1lFpdqN7xLj1I2FQaiMKGavTfEx2ZHV465H7P1vrhfLc8Xku88rST2zSS6W9tEKgIrOKcm59B7ZZhG9urz5BKQI73xpc/kN+Y0CxQXP6DiMUQS2c3r8pOP7YUQVA9gThOHdyfzsD3pdH+SHnIWy3N3eadbxySMFZkupZKptvF6Kke3jg8JI1g7k5h/IPzO0aSP5t0ay5fFwZLqvECtKBV5fLYjJeFW7A64HkE7s/+ca/MM1wYZPOWmKzIspD2t1wq7EIwZGZV96nBLDa/nYjmH1PfeUbmL8tLnyPql6JJr3Sms5dTgjARXIoDx5AlfGprlkIcESHGy5uOYlXV8naL/wA44+c52Swvdd0S1tYz6Au/rE0zS0AKMsKxqVJ7rWvvlBwb83YDtDhrbmn11/zip5hsoLn6l5i0/UbuErSx+oXduAGJq3rEzcu/w8N/HH8sO9Ee1LO4S/Sv+cePOCvOuoi1toISVkvXW54bCtaSRxUH+UDkfArqn+Uf6L//0zmTzl5pv7yW7v8AXtRe8eJYZZY7uWJSq7IAoIpTft7ZypkXtRCI6JY/n3zjpV/cpp/mvVIAoI3upmUVFQRv18D1HbESLIwj3IRfP3nCO2uUbzPqPqOAzObiRmbl1o5bkv8AsSMlxbJGGEjvEP0L/JTVtU1XyDo8mqXM97PN/vFdyvzZSRTenxMD4E7+OWYJGUXVa+Ahk2fK+vedPMHlvzFr+m2Gt3EMdnqd3bRS1oUT1WPANuyUG1ORGZBBcaEgI7qf+L9aubZhcaxPc0Jcy8mVzU7lmWlfn3yAiWZlsksOp3N+JonkeRHaiCYhh9BpXHgSJ0ioo9PMLxSklx8LBd1HsEqRT8cgYNoyIKzt4bG4FxHcGJI2JEAU+mFOxIr0qMl8E8SY+lEksMlhI1leF+UM8UhjLiu6lfsGviQTkJklF2ibeSeNSxPFnIqCxJJB6s1Ty67Hb6MgT3pHuTGa/uPVSWW7lSNRx9PmytzH2aV5dtsBbIxoKtt5q8x6ZOU03X76D05hIIBO/CtOrKeStt2IyNkLwQPMPrj8pfMFz5g8uXOoa/K11qSSSTRXrBUcqEJIR0O4JHfMzDIycDUgY5bPg3zN55826xrWqX9/r14zm7uIPTif0U9KORlQMIeAIAFN8xckjxc3dYdPDwwa3IYGvmfVhqiXc93cuIiwidpCWT5ManfG0GAHJVn/ADM8+6a5/R3mvVbGKpKLHcNT26nJSPcoxRPMIZ/zh/NB+Djz1rLSoKMDcHovT55CzfNmMGM8wmLfnl+bBVJI/PuqCZUAcOUDCngwHf3yBlJs8DGzDQvz4/MySxihuPMdzOZWZZGkSKr713YJUmp65YMkqaJ4cfcpa9+en5iepbCLzFMyRihPCL4T0oaIMfEkeqBp4S6JdB+d/nT15ZLnW5RK8RZ5GRGJYdCSVOSEmB00Qnun/nb5xbT9QX9NCOYkMhKI7rWteLBR1riPUaLHwI932ljd7+ev5kXDRwv5ouzaxGkduvAIKdyKZIzo0E+FDuU4Pzj83tKHl8wXQDEBE+AjbwWn68gchZDBDufWn5QaxqvmbSpLm9ujeenIyXEr8fhINdtvhBqa0FMnDJxONqMIiLDzz85/MuteTvOB0zTvME9toF9aRXVrZAqxickrIvOgbgSQQO3Y02yeeVBOgxwlZIeb6T+bHm2y+t6fa+ZrtLO5jKemrqSD1qpbKBIuaMEAN4gpF5m/N3zpMrwv5q1Zkt3oimUqCP8AYNUjfuTkjKSxxYz0phbfmd5z/eSDzTq0buQzGO4kU7dDWu9PAZVKRbBggeiaXP5v/mXrMWnabL5t1IRadGxgEE8kJkJJ+KUowLkDxOImUDTQG9Jevm3zbIzzT+adUkumdQ0r3Uz8hWoU/F+z06dMRIrLFCPIP//UAx3F01QIeQG6kmtT77Vzlnuwa5JHqCypduzoqyTIZHNe/h/tYo4kvdWkhEZiZldWZiAdx88SNikSNv0n/wCcYEifyTBHNOUvBRbeNjUFegHHqKeOS0+2zqu1DuC+NvzgLaV+annPTb1GsyNTlmQuGjR45FDo6swAIYHrvmxq3VRN13pRa3kTxJGtwhR1rFRqCnhWu+V227kIe31GK2LRTTxxkMRUvQrUVHfA2BGHWrN2WP69Dzk+GKRZEHIn5HAQkIca0kJVo7iMNGCrN6gWvjXepwNgMlaPzCZSkCyqiIAUk5KwAPYUJyuZKQZdzJbDUp7p7lTCHZePCUSBvUSgq1BsKZXJvFplBJLLdVJVypoQSKgdqVOxypsiFmoGaaVfTpKQtOAZQ1SdywBBNMSUPtb8nNNkufIUUF7Z/V7tLWT6pGFK8nlDAE0r38MysEqdfraJD87NeEth5q17SNQtJ7O4g1G6K2jI/LiZGIPGhJBBrXMfLE8bvNNkBxgJK0EcgV4nBVzRWqDU+HzwAWs6CAv7CRoiGU7e2+T5MLYVcRvFINgpr8JA3H002yLPipXKL6LAErz6sd/j9iMACQSnWlyXENuYgrKqts9KFa05HEgIKW6jcgyyW8TerGppyX7R9yPHERZxFIB7g+jH8Hqs6GNCagHxqRWmSAYHmnVkkbBmcnlCooIjQ9O/+1lgpiSk86SPIGJ4tX4a1Gx9shLmSxtfZpLJKUWP1ZIzWq1qTgJbIxJ5B91f84y3cxn1KykikFV9TiFqoBFOQDCnXao3wRFFxtWPQ8z/AOcpbWa1/M2wh5cYX0RXjWgJUiZQQaAe2xrTLsx5MdB9Mq73gyIY5OIUsF3Xsfo28Mx7c48ku1FxOsnwIWAoygbgeI8emFgRSTCOTgXaMjbiOtD8vDBTZEGm4XME4mjeQpKpjNNwPh+9d8Fs7NJ9avJHIXk34shCtuTTvvXceOAUwkQer//V9c6D5d/5x11PULPTtNjuL+9nJEEUxuHikpT4NyFOwzmeKFvUyhqRGya9ybeYvyu/IDS7I6nrei2/ofWmgu3F1KskDMAyID14kV26bZcYRq3Hx5s8jQmfn+xhDaP/AM4zKIyumXVwiEhoKTESD3AFQPDKRlg5p0+q/nPTvKX5mflH5JtRY+U7XUILN348BavI8QY7nk4rxHYYjLCJ2ap6TPk+osjl/Ob8r9Uu5k1aAlUdWW5vLITq6kUKqaFgoHicMdSGo9mz70vi/Mj8nESFrbSpZHacpHZLYo3pIW48gOP2fbr7ZM6gBh+RyjfonfnbUfK3lPSE1y48tWmsaWwQn0reGOUCQ1QkuBU9t8sE7FuOMRMqBeJv+an5VtPBJF+WpDTrIZ2NvaqwahbjyYkdenHKjnLmQ7PMuZQ6fmv5B9MJc/lHZXCstAzi1MjDsSainH5YPGJR/J3d+lQn/Nv8vg8Fva/kxYfD/u0tbhz4nY1/HB4pbPyMx/EnWlfmJ+VN/qcOnyflZBEt2Vie7ZIqmaSlUYBq0r4YfGHciWilGPEZPUvNcH5a+WI9FTzF5SsYIr2QQWx9ACoI5UXjuQB9OWSkBuQ4kI5JmgWNDzl+TqBbePyGbq3SQLFdC0UtCFYBm5MeTk9gOmUnNByDpMt8050v/nITyBoMU8dlpGo29tpn7iHSFiP1luTUZljO3pgUNclHURAa5aCcua6+/PX8tbyeFbnylda4srNJ9f8AqsUixvSqgO4LFhWhPT5YDrRypYdnZByLGl/Mb8sNVvlih/L0xSSr6ktwbKIiNlblwZTxB6dQa4Y6qJ5htGgydSs80aR+Tn5gtcx3yX/lnUtPt1kiurG2FvNcMwFUiioUkoBuSAfllnoI5tZjmgbebt+Qf5UTmL0PM3ma8MlQzxxx1hr9kTLQUPsK4mUAz4sxCeaT/wA48/l2bIP9e103OnljNPOyxjhueVN1Gwr1wiMSgZ8kdi5fyp/KKWDUIZtYmhuNPo9wk+orHxhbcOCpAIoNvDI3C6ZHLnPR543kH/nHN5p4JvObXUStUGO6lDgjtzFOVcgTANgGek/tvJH/ADiyIwl1rc04AblG15cCppsQDWpAGHHOCTDUd6xPI/8AzjZbC5u9M893skIpA2nRu8shYioPCnL6cieE8mNZhzDI4vyT/Jq60r/Elw+s6losShrm/FxMCif5aChUe9MnjALTPUZImiErPlT/AJxs0uX/AETV44YmIRonvJ/UKkVqH+WSMYsic9Xu9g8qaz/zj95IdJtA17StOnmh5C8e9MszV6K5kY1336YPQGMhnlGqYl56v/8AnHP8xdftNb8x+eLK41HT7NrSJ4LloQ0fNXPNFPxGqjfAZwlQtliwZ8ZNQYZZ+Uv+cYLy7aP/ABJdaebtKWqRXc3PmDSqrStDvSvbIejvbSNQd6Zu3/ON/wCU0Fo+pXDatq2mtEZPrMd9Jsoq3Oo+zt45d4cS40tRlgQJdXmp8r/84pSpIsN3eXDRnijLcXXGqbMCF6nxHfKTKILlwhqCG7fyB/zixKbZ5dXv7eR6uYzd3CJw5UBYE1Ug9hkRPGylDVAbMgl8o/8AOLdg0sJ19JpVQIgivbiZgQAatxqfv9/A5LxMbUPzUn//1uq/l5qWnweYdFLTKzPcCMAMD6fLoxH7PSlT45xhO8X0HKKxyHN9B/nXZXN35JtDEYbi3sNTilvXACLGHUqrBqn1FNdqCvtmwzbwdH2dXjRHvfMBWNIwRKLjiKBlPGOg6HkdzXNds70DZWt3BOx2YUYISBTw7YWQXSVdvT3I48SuwFOp7b1yWzCkx0qKJZo1aqSeovB+xFR1G4yuR2tsHd0fSX/OQtvHZ/lHpjQxrFPf3Nmg4v8AsAcmYkgVJzafwB5rDI+PX9J8CTzyEIqAyCoIIHh2zG6u3J3oK/1y4Lx8ZTA0bVjP7O/Xr1HzwhNlGpNJIUZZGjkiapbrQ1+1XCVM3oPkdHbzNpMsIWYfXInbiOSkE9aHxysxa5yJiQ+nv+clLSSOL8uLqJ3jWCef6xHy4/EYSAxNdz4Uy/Un9267s/8AvZc3giGUkfGRToTula/ynofcZry7sAkoK9j4SpIAzgrUACtSCAT4H5YfgvCyRXt5YhGFjll4iUMpAY02IqxofcV3ysy2X4oeyeGe5Y26tEFO434g+DKw3xElNk82WGCRRDIHcn9vjWhIBPUf5nMiMmqcHpehiOeCCN2R5Zk4qCQrqV3pyOynwyYm409mf3FjNP5X8w/VVaP/AHH3EckfE/aMTVrWq7+PTMrAb5uuzc7fmfbW0Xp2ICIWWNUY0HKoHavYe+YxL0QPcE3laaFHSMelFT4YkLb1707H6MjYJWWMFCxzKIpjIavGASSakdOvj9GEiiyia2Vra7jjW5YlCHUAuNywBqK4QALLEysvsyWNLf8AIXVdVjlP1efTfTkCrQrUdVI+0PYnL9ILBLpNVtnD4WNpcz1Xkph4giQChOwJ2qaeOVHcu4Mq2RC2ttG6hkVzECys1K/eMiQnjKNs006SWz+sXMGnw3DlZbyZS6xCtTyVQWP0ZACimU9mT6Vf211dRKbVGMc1IZlUjkqniO3TbYEdMeZTGRJ5v0i0LT4oPJUVzKyTWn6NkMqRoCCDHvtUCo8Dmfi2jbzOafFLv3fmRBa3dm03oyQiF7uX6sG3ZImlJUEdKn57ZhyO5ejxkCITqJLh2DNEgeE0elflUAV7bVyojybq3QM0tjBPykaJJWFGVSOW1dz0PfGTL4v/1/WXlb8p/O1ld2F/qPlxjbxzIlwz+g8iioLV4nkop75yYwSt7XLrsUoyF9HqH5u+WbzzF5Zu49F06W5vYby1lt0jDKZII0deQgepHGp79D45lTBlGi6nRZYwy3b5h1f8u/zG8vH1LvyZeXmlCIONasWiuoff4InM5A8VUgd6Zifl5AcncQ1+G+aS2ml6otVbSNT5mjB20+7CsD4H0qffkDik5EdRjP8AHH5pzZ+U/Ml23qQeXdVmoSHpZzpwO3w/vEXemIxS7mH5nGOoLMtE8g+bp7xHfyzqEcbMqtI8PFV7AtU9j1x8KXUMfz2ARO72L8+fK/mjzZ5A8reXtEsX1DVtNvI3lghpGGSJPiPORo0+gnM+MTwgU6GOTHHKTZfHVp+TH5o6lJK9t5Mv/RhjLs3O2A2O6is9Se9Mr8IuedZj3NoWf8ofzGs9Xg0uTy1K086hknS4tXjp3D1kVlI77YfCKfzmPvZB/wAqc/MuCPl/hlpyoZvTS5tuZA6bF1X4u1T92DwiwGtge96H+V/5Z+bhrcF/q/lW90e2tCzy3N8IkjopB6pI9R4Faj3wnDJslqomJrm9l/PDTda1uHylBomnx6gsckyyRrcwoIWePijt6siioPYVPtlmbEZjZw9DlGOUjIPIl8lebJqww6RDdSWyAzvDqFnIKV3IpNU/dmDLSSdlHtDD3oceQfNeoSSrPottZLaTiC4jn1G3guSzEcGETVVlb+YvT/JyWPRkcyiXaeEHr8k1b8rvPsV/pVveafpojure4HFbuANyhaqghaozAdSMhPRE8mA7RwHnfyT6w/Kvz9Berb/oOC6WYc7eeHULUq68QTs8iNUV3FMTophnDX4iL3+TK5Py085PLNaTaBBZfVI1mme7v4LeR4WH2oQC4koTT7a06b4celI5ljPtPCDVn5Mgs/y888W02lRPYacLWS+MHA3lv6npSJVQxiLK5PbJS05aZa3Ced/J6tJoGq2Pl/WNPv7aFfrNjMkEsNwJjzKMChSOlCKf0rvTLxYzGO7g5MsJbx+0PyquElt2tSIKPEjRsqqS3KM0IINK5iShLieghmhV2oOms3FyWh0u9ccQwCW1w1aDrURnb36YDjlbI54jqi5PK3nBbd75/J2tGwuWAtLtrGf0y3gtU5Dt1FD2ywwLSdTjEuaG0nyt5nnlksx5c1b17gfBafULgPXwIKVH6sBhKmRzYweb9D/L2gXx/IS/0HVbSez1OTTZRHZyoEdXC7BhvXLtKKBDp9bKMs4kDts/NSC51C/th9UiM72oMVxFAokKvGSrLxQEgbftb5Vwnd23iQJ5oGcasQA8E8Sk8lT0JKkd6HjuPlg4JdyfFxjqytPJvnB9OtNSi8u6jc6fcf3d/DbSMlK0J+BWPcdRgMCE+PivmyzR/IPnaK9t438q6uLgSxuYBayFjWpHL4WHTpkRA2kanHfN+krJfw/lndW+l6W1rrC2C8NMnHpSAOnxp6ZUcW8OvzzOxk8FPPcJGa+lvzyvPK3mWCQJaaBq/NJT6UzWUrlCCWozBCoofHMPhPMu/jmxDe+ibab5D8+6pcF4fKuqNc3CtIsUscdtFKe9DNxVT4UYfLGOOZ6IyavCBtJNZ/yq/NKJ/Sl8q3KKnFIoorm2mZgepKLLXbuaUwzwyPJjHX4b5v8A/9Ds2kf85v8AmW8iiTUfJ2l29wsZW64zzSRO9agqaVoPf59s5jxi9bLs2FMgsf8AnLfV9duGhfy7bwyA1MkMj1ai1Xi1P5tyCDXHxiw/k6ER5q4/5yd1uyeGBPJumakrnkywyzW4oP8AJAZa/IDJDKeinQwvYvoDyF5rbz35bv8AVLrQ106NuUX1ATh2ckVKGaitv2odvHJwmSXGz4RAgd/m8gvPO/mbylrupaN+nbqWGyaFrVZo7d5I4ZIgyQzuEKyldxyIUstOYLVJcubhb9LpI5Y3y3pHWP5y+YrRSPriyxUKsrpGBUb1qiqRXuAKHKxnJ5uSez4XzUbn87fNHISQSW1qFIbgkdQSBQA7jb26ZE5ZALDQ4x0+2mOt+bmvXQY3dppVxOJAxee0WTkRvWrElSO2R8aXezGgxXyPzTNfzevTZvHNoukyzk/ADb0VG7kb13+eSjlkg9nYr2v5n9Dafm1qTMGGlWFqooJI4Y3RDTvxElD+vI+PJkOz8QPM/M/rRUP5u3dqT6FhaxhiY3T94y8TuSoMlAT1r/t4fEJ6o/IYrvf5qlx+as13IFk0+xm4LxjZ4qsV6cT8QB223rXEZJAblj/J+G9gfmlFz5nille6iT6vMpYyQxyTBKyAKSYjIUPTaq7djTJfmJEMvyOI9/zL0/yPc2/mHyxJPqlvb6hctK8cOqShmZrVN0AeN6Eq2xDH6MyccyQ6vV4OCYHIH8c2C+ePNnnLR5LRNP1RCulKUs0WGElVrWjM0bbAduWTMisYxlyH2vM3/PD8zodRSdrqzSxeVY2X6ijKnPcEl69SO5ymWUso6TarLNLf8/fNq3FwfMNxp+rcLV47JDbmkZKgDgUkRt6UNGpkfFI5tn5OMiPJgtp/zln520+K3so9F0oNDM4ig4SlowT8LK4kpX5KMr8Qkuf+Sgb5p4f+ctvNHqma/wBG0y4d25FUDowotFrKHem+/wBmuEzNOPLs3GQRve3NL9H/AOcofMGoXk1vceV9Lkkij9S3rNOHoGru3I9D2O2IzHomWhiK3ZXbf85U65DI1zc+VLCVISI5Le2nnQuz/trswJX2C5IZS1fk495TKP8A5y7eOMrF5Mi9SAuIVN24XwK7pUEj3+nD4xSdADvxFSt/+cs9SvJXtm8mKsZXgYxfEfCPAeiB9xOR8Yp/IbfUXH/nL1IIjZN5FXiqkD/TAfh71/d4Iy7kHQ7czaA0n/nL7QtNYxSfl0bG1aQB5rKaEAA9inAV8euE5CGMtCJcyXt/lj88fJf5m3iaToFlfW9xPGzRTXyKsYZT8SExyMU+6ntlkcji5NLLGLBeX+cfzev/AMtfOuv6Nqgm1N7K0t7vTL2OZbcywylgYHAT94sZA+KgqDTJZJ0B5tmm0/jX3h59ff8AOYOsJPdS2nlCynEycB613IV471qqIoJ7b5R41FzP5OiRumVl/wA5oebZJo1uPKWkpZSKwPFpW5GncEmoHhj4xthLszGOSb2v/OSHmzVHiex0nRIYQatEY5fiI/mYvXbwGHxSSw/IwA5q83/OSXnhUULomhhfiYqIZWG3wgfFJX6cPHJnHSQvdhGof85TeeLWKWYaVosklm3KOExTKp28FlHWlOnvkDOQ6s5aGHR//9HjSLG8iP6ap6qkOyMBTbao6DfOSJJ5voF0yPymY4muxICrqw4kUNBTc12wxFMJHiG7MXmkLoVITmPhA3p4ZK2ogd77z/5x3VH8hXDNIPXWR/TUg1fqKVB6eA/HLcfN1+tFEHueI/mmklv+avmlPS4utpp7hyfiKtCRyYdSRSle+Q1A3cns4gwrzJYD9bekvJq0JFOm9O/vkIuZI7oSW7ZxGitxHQ+/vv2wndMZAIdZJVk41Xi5ou9a0PfwyBizHNPLGEzSWsDkNznUceop3xlKgkDdB29wzTa7CJA8djqUlvDvUhQgYA4k7JMURJIfXZWXgpAqV3oQN8Rsx3RKTn0yX+xHSpG5ocPFaLXzTryWGZ1R3UlYuS8nWnZd6gjaoGItHEBzID6q/JTS7668sKrQrDJEDDHKI2iTdjxorANsKD+GW6cl1PamSyO8ApX5102eR2dIopY4yecTjkrsR1FKb79T92XTNOJghKIfOuoaEGhv5BCjParEzKTXcvSigjrTwynm51kc2F65a3EEAjhgZWAFGetFFN6n5YCHJjGt3j+pSma8tQkfExJwmC7mQftNQdMrLlYxuQoSO5Ug2oC1T6vKjcStD1K/LucFlluDyRlvEU/Rtw5k4u0scUpNacGGygEjJRBa5bmk9M0ZDLGPhI/fyrt3/j7ZOnHkOE0h+Bl5ytFwBIpTYGvXYnfDu2gbJvBC6uAjLLIyD0kpTemCmDHb3lbySAj0ZxyEhJ5E/QScDLh80klZVjpQ1kowYbbePTHiZ1EPp/8A5xdmim81m2APrQRNzStNnG3X8cANFo1Q/dFIf+crYbyz/NKycJzhbQCzszB6Ks6AEE068txmRqBQj7nF7MnvL3/ofNXIlR6lCqNUUFNvHav9cxQLdqTTINGZZb6NRQL6LMAtPnXJNMoln+nXcCD0oW4XCgjjXc/LFrTCK3WSHm8p3clgCN6dRU9MkiWzzPXJ5rbULuMS+kWIPptQilKjx8chLYuRDls//9LtGnf84nXl+sR8vfmPpOqwzcgHS3DsrcSaVR1LKDTtXOYjGMur12TXSiOIwYzN/wA4+/mJ5QvZbW7vtG1W0kA9a7s45I3jZdh+6dn5AnbY/hvln5Yd7A9oA9GUaT+Qes6n6FzDr0Np6K/6VazWNwnAdwrE8W9qDAMNsRrBez62/KnyvaeSNIXQre9fV5qNOZ2QQ1J3KkdgDkhDhLjanOcjXnb8tdG88K31+JdJ1GCOtlrVvLwuFSpDxkuKOlD9kilQMkKkN2vHkljPpeKP+RFmgEqecpZbczNbzyG2h+Gn2WG3xD8cAwxcsa6YG4W3P5AWMNzGF88FYliaW5ae0jEY4neSMgBlp+0DiMUQp7QmeQVLT8mfJyyxmbzfdailyGFrJatAIyyrUfCoBA+eA4opGsy/zXaF+Tnl2y1GLU7PzXrFzbwyE3EBaApGffmvTIS08Jcy2DX5B/AEtk/I6GLWtcnsvPMUttq10L60tntoWl5FQpAYHceOE6eOwtH5/Jz4QzC0/wCcebN7oXGrebroQhV52kdtFDIS4O6y7kfIY+COTWe0cnTZkCfkB5TWGcw+YdTRwv8AozNcoWABoWZGG59jh8AMP5RzA7Fk2i6V+W35a2LR3esaW2oBqXOoalLA07ctqArWnyGPpiwySz5dyD8GVWX5ieTkNstv5l0mSHkpZUuI6Etv1G46DvhEwOTXkwzI3BYrr2rfltNcPHc+fLPTTMpRITLbEpT+WqHkfn9+RPAebKOPKByYbbeXvyj1a6a3g/NOO7ueQKQLLZqy7ioasYA698QMfeykNQOih5t/KvT/ADFpF9Y6brkENzLA0FvdfWLZwH5VEhCwjkOPUVBrkuGBtmNRmHR4LqH/ADiL5mn9CWy846UfTQclNtKWlI6kMrgb5WdPHvcgdo8I3juk0n/OL3nS3k+rSeYdMCE0Wb6vM4I60C8wRT3w/lh3sh2iQUxi/wCcVPN6PbP/AIu0sR+o6Rp9SuPS9wD6lAScl4PmxPaATqL/AJxX84TcBF5i0qQACR43hmjG2xX7fXwyXhDvR/KG+4VLj/nFv8wL2BCvmLSAnMmKN45Yx4VB5dNsHhDvR+fj/NRdv/zjF57jQINQ0m5mj+JaO4oANzyNcBxjvU60dzz2+/5xn/MlNQndI9Jvrdql4oL7jKF7EB0NcAx22DXR3CGP/OMX5l3UFnbyWthYu0jKJ5J/VaNG+y0gVVZj9NMPglTq4PavyX/Inz9+Xvm671rzElg+nQRcbS4tZ2ImfuAhX4Qfc5A4q3RPWwlDhA3ZR+eP/OPl9+bGr6D5j07zFB5am0izuLKe3u4TLHOszI/MNGytVSn05ZP1AOJps3gk+dPAf+hN/O0t5NbJ5x0Rl4lxc/VZypIoBGU9XZjXY1ys4vNyz2hEj6T80Hbf84reeNOvjF/ijRGuipEdukc6HgWK8+bSHp3yw4wGI10ZbCLNtN/5xv8AMFpyivvNuiJdWzD14oEZ2APSpL1GR8Md6DqyOhTR/wDnHfWkpOnnfQLS0jKn1rlSqliePGnqDia7Ad8eAd6nWGuVsL1r/nGGaTVruW7/ADc8sFw3N4JFZJPToPgNJitR40+jAYw722OrmBtjP2v/0+0/849Wby+cIY9Pd7b9xI9uoBVEcdTsaAeJpnHYxwye91pJwn3vq/8AMq9vV0HWryPUUhntLZHibipMiK3CRUatQxNPormzB6vPgDi5Ple1/M/zUhME/ma9ijk3eNpFMfAjopp0yjikOTmeFEdF0f5lebLIlodXuJZ3kHC5BG6DooNKAD3yvjknwYkoK+86amwEd9rV48kxLyFrhitWqSvHlSmPNmIQGxTz8vdXt7zXbfTJp5JRdsQFMjFAw33HI0ph4jYYThGQeqfmXey+VtDhP1j1H1Gb0Le7LUKDf1KEGoB98y5y9Lh6cXOnybc64Y7mVrUyW8O1CjEN8I8V8cwzbvI0OYbh1u8UExX11CJB8ZSZwG+YrTAyqHQJlYarKk6zC5leZfs/EQaHspHT38cWVRPQPRdE1+81zVtPiuLqdpDLH6Mq3ExeqFQB9uh49K06YRM20ZNNAxNAIv8A5ys8w3/lv/lXUWn3N1bX2q/Wxqd6GIkASJtuSMm/LfMjNL07Ot7P3ySBHIfpfD9xen607SolxJIeUjS0kZmruSzVJr4nMUct3ZmW2xpOTaSxaXa6syqsU179USAABlITlvSlfbCN0ESI6/O0R9YjVpUEVHkB+2F29q7/AH1wmLASK6GZbW3i9MKryMeUi0BalKHbpgrdt4iEXb3V3PMlLiVOJBrFIw6fI9jiQjiJeoaVr/mZEhRfMWpmKBgEjFzKAo/4PDvSiMeoD6//ACP1mfUIdVg1ORtUtjHylhum5j1C3GoZzVagnvTLcMrLg6/AAOIbWC+OPNPnDzbH5s8x2y+dtbt7Ow1W5hsYBdkLFHC7LGlQoJCrsOW571yOSREnIwY4HHEkDl9qVX/mzzVf23pzed9ba6uUEc1wl4Y5GCn4QeFEAHsPpx49mUcMb5K0PmvzVEzSRebdeDysvIDUJiqkLRiiMxWlFrt74BK2U8I/mhnei+dPMQjuAPNerTxSxj6yTdtV1HXfr86HDYahigeQfS3nvVvMGlflIvmLy7c3Meo2FnFcG9jKyTJAftlTL3A7b5diFxdflAGWq5Pm4/mv+YF1BYgedNQEcMXKO4QRLPJ63xUlcx79elBlZyHo5hwR4rpATfmJ521GI/W/OurmVR6bFJxEnH+WiqBX3weIaZjBDnW6W3XmfzRdacY7rzdrCRoy+gBdNVadGFADXIcTLw49yvpvnDzU2qadOfM+p3Pp3EAkb624VgCo+JQd/hGAyLIY41yeyf8AOVVqX0/8uJLDUr7TorppJrm+sbiS2d5EWqrI6EMV70PXLZ7wtw9JH99yfNNo87PM097e3Ek0YEtw9zMXbtuefbMQHZ28YRO60hXWaOZpJ468pPUldwxB2Zgz9QOh7YSWYERyQj6fp/KdntonqaowWpLeJJ3yPCyv8W//1O6/kIxTzhpaySCJZvVjjUN9ssvEKBUfF+s5x8ZXJ7zVj9yfN7J/zkQ72Pl7TVsqQ21zdehqsqgbmMVSMlhy4g8iD0ObDiHC6HBZlyfIfpesi8VEsYfl6i7gEdtq/dmOHYG0xhtWht/VLyxMTtEo8em+4wVuoJS+VbtriUyV9BkCxGRBzVgDzJKtv7ZKqU8uTPfy30u4i8zaNf8AqRwQwzpKZabLH9ln2rtTYnpjINXFsXsX/OUunK2jeTXtuMNr9am9NYwiqXMdeVaDk3z2y4GxTRpD+83L5ENu1AZBxoAzuX6L79KfTmPwl2xyxkatHwCF40YTQyxzHjbukqHkfAb0w8LIcPeiIVkheWE8fh3kSo5Ke9d/1Y0pnEdXpf5eafdXWt6ayRgmK4WRpN6cVYVWoNN+uQINpnOEcct+YNIz/nN48r38sLx4RGtt9ejlkYfAo9I0VpKBVBPY5kZwTCNd/wCgur7PkBKUidyP0vigJA7RTNNEY34ygCRSrIDXlsTyWncH5b5XwlzDOA6vT/zB+qWn5b6J5htLpY4F1+xLOqmNfSmYR7GoqhrSmRwQJkdnMyziIxqQ3YxdadPbm2nmt5YIL+Rxp00kDRRS8BVxAzKA3EbkAnJcMujjcQ4juFtxYXcVut5cQSx2ryLFHcPGRF6khPBfUIABb9kVx4JBJmLAsMr8uaazTl7giNGHwGQhKgbVFaf7eQkCObZEXyIep2unepwt7WE3LyMBHFbgyyPXsBGGP4YNymURDeT64/5x98s6zanXJNS025sFlgJg+sx+jvyXiACem/U5bp4ni3dd2lmjKMRE2/OTzbDfab58812+pQScrbXLsXUTVrX1WpStTuKd8cwqTl6cXijTHZNQkknBAeMM55EULcf5aUplXELptEQCjFubqIRyQAiVD/oztuVr8IYgijGgoR70w7KQP5pZZFqz2/7y1icQPD/d0BZKiu1NiK+/6sGxQIgmqp983t4E/wCcaNS1OWxGomPRmAgkbgjoVof3njmRpyQDbqNaB4oi/PjSrmlnbxyXM8zQW8YtpCwZm2/b8QAcr496drwgDYKiTyyMwVH5CrcxuK+JA7fRkTTGgiY9RaSxmhYn1DIsn1hzWSnQ8VJBIyIILIRJVNLd5L6yRlAkedEWnwgksBuex+eMqBZRx7WX17/zkrp8y+WPI8rwywrbTem7k9WaIcFrtsSepIy8i8dOv0k+LMR0fI9u08MgMrUmCFSppQ7dK1pT3HfMSiA7SBsSUFilfmaVANUKgmm/QAdcJIZC2uTh3i5MDzA3FBuK0LdBUdMiy3f/1fWflbUPyV8pXn6W8tm10PVYYzGbq3gnAlRvtI0bJQVAFOO46VIzmZZ4E8nrDo9SRRIPvIZzqX5q/l9qSy2t1fNfwrbxLCbq0Ev7wL8IKOrVAqd8idQO5f5OzAbkD4sQ1TzL+T8pnMGm6c806qskkGlihYe3AKvvQfTkvzMa5MY9n5j/ABD7f1Jla6D5P1Kykn0nSNNkmEQlEkFnxVl8GBJcU8VOWYMkZ8nHz48mHmxdvOv5eaJqD3C6BZ2mpaTdLbvPbwGQIxjBfgDy3BNKmnvXJSkBKiyjgyZIcUeTIoPzv8mm7jTT9FAe/FGkS2hilR/8kcOPx+zAe2V+KG2Ohn1KS6t+cvlaRI7K9+tTyxElopoFYwyk7OpDEEgbdMIzAMBoZA2oxfnRoGmsrtayarExDxOY42PID+VgtP8AP54PFizjoplV0/8A5yA8mW9vLFeaVeIkrngkMFqxfkehDAEU+eA5gn+T8n891r+fHkuwiuIV0PU2lUsYLlUtvgBO32jy/E4PFDP8hIc5o6H/AJyX8sQOjv5bvXWUFTKIrVGZqftHkT92Dj3YnRyO3Go6t+fflbVbRoJtBv8A1UWlq7JbyUZakbOWBA7jEZatl/Jx6TCVj/nID8voooZZPJvrajbBPSvTaWSAb1cKgOzdwele2SGcDmwl2fKvrfQVn5u07zx5BafTtPjjScRSm1uBGJ6xnl9uBAFotKkfRl2HMN3C1ekOGUbkaeQp+cXla4ljiu9PmrHIyGSBg7JIn7usLstQpG1aAeIyJy0abxo5SiJXzQNz+ePlS1Z7ePS9Qv4YHZZ0do6iWLjxpG54qw5bMO2R8WmQ0J73s2vP5Q0/Sz5g12y0+40bTbZZptRnjExIkb4TwVSX5HpQZbQkHCIMTV82Faf+Zf5PaJJda7Y2MenyxL+81GLT5YwqnfqwUn6BkCAOTbUpemyyfT/+cjPylWMNJ5gmbmpaaRbe4idWG/wqq138d8AyAMjpZX5PMvMXnL/nGHzdd3eua3b2GravqBT63ePY3iXXCEUBb06Ecq/FU1PfCcsSVjgyQFWUhn0//nESacerZfV9w4eAagI2rvRRzJr7YfT3MuLJ3si02P8A5xNmtp4o9Ht5rd4jEwuLS5Z9js6liXLDf4jvieHuYyln6FH3Wm/84wWj6gY9Mhl5xohjihuIwi0qDGvOiknqQATgMo9zIDMRuVTUvzV/IjRfL7+TtQlubTQb+1aBNPigkmrG4+IeohaRSfFiTkRkACfy+SdXzeMaPo//ADiXHf2cn6Z1doFQoLaeW9VQnQBAi86geJp7YxnHucgjMORDK9H8if8AONXnC8udE8p6hqt5qlwfVlE1zcIypWgEJkFB74kwvkwJ1MRZV9Z/L3/nHfypbw6J5puLrTtVlVqv9Yu5pZkhYEN8BAFa/F8OGYjDoxxZsuU0hPLT/wDOMXlq+t9XsF1A31tIWhkuUvrqIOp2l9O4cqvEjag+/Kzlx9zYcOajZeg6x+d35Pebra407XHbVtPikFYbvTZ3VpYzRWAA2O3XJ+LEDZpx4JiW2xSaXzD+RmsraS3iWEcunRhLT1NKnUIlacP3cYqvehB374PGg2DS6gcuXvUdW1D8gXcA2FjfAOqiGLTWXZ0CuQ/EfZrUU7jInPj7kjS6j8SSOSX8kGa5gbStEureWAwN62kF2eHlyAMcsTjkpb6N6HfaQ1ED0T+R1B5n/ZP/1jW3vTIzuiCOI7uo2IPjQ12+nONoPol3zS5L6JZw0zARozLRCBsQRT6cjszia8vgmNsSrGjgq3cHansMieTbZPW32J+SkLXnle4ZZqP9lTG3Flof2qg1+kZkaI+qnT9scg+TvzIgfTfO3nO0YlQdTWdUKcRWW3j37V3r/DMnLXFaOzifBruthUmoAop6yKetab9PvplYxno5OSZIG/RIrq7khvFn5Mx5Amo6DxqcnR7nH+KNF/RXljlEhfd371PsKZEjyZxJHVGWM8BdJJraOfmwAUpyNT4YD7mYlI9B8rVL2V4JrqCQSrE9SpdWQ0ArQEih+jAL7lO3QfKlsN7DIihpSkiUKNQsSfY5Kz3Ndoq4ul4xsRxcD9+tahm7sCelca8mQka5JFczRcyrMoV6GBACdu4rXAR5Jjv0fbn/ADjldXt9+WnmB1SR73S5prfTJl2XhwJ4ltzUCm9aZLTR9TgdrEngvufH2n6o1JJ5ZTAHvbgzEqAxdJyC5Rdq8upA3xyRqRcnDMjFG0dqEJa6vPSuJIxqd001mapx/uoy5bmrMAzdBXb8MQAObMzsPsL83oLiH/nH3XLleYtPqmnovqsvPj6nL4XUDY96j78yMP0un1Q/ee4vgjVtZvZ7VkeUi3jjURxBeJUU8aUNcx72c7FH7GIJeSAo4dt6kBGPEbfy75BzaCvZXEiTGS5dlWNfURAfiNacSCvQfTjW7CcgAnBvrx/9OSSR/TX02UhXRq9Kmn9fnllU4PMplZaldckacsKbSWi7ca9KhRTfJAoHpZm18rXFuJY5riSeBKyQqVVHA2Ujev34yhQtI3O5eY+a75rrUpAwf1LZeLxsGHE/I/1yGzl44xSW2uJECkBlIU1HuPbfIlsvufRX/ONk73H5jWMUzBoVibjAzBQz8vh8ACewyMiQbY5pHwiOr0f/AJyhlm0/8y/JK+lHNb3OiajEttP+9QEvEfhU1HIb9CMv1H0Rcbs4+qd9w/a+dPVSB0Ik+HiFr/MBXqNuv4ZjGLtOKwrzX05DleKhRRQtCaGu3f78gQKSAByRNub6QwT+oyqAacj39xkIgWvTomK6mV/d3Ch67eoOxGx69a++WSquvzYxKuL5wBIVUqq1SP7Snie/jTKqbQX/15C/lPzrb28E0nkzXPq18SLe4S05FiBU1RWLgeFQM5LwcnLhP2fre6/O4LrjH2/qQEHl3WWZIW8q6w7Su0e9jJTmKAg9xSvUimR/L5P5v3frUazD/OH2/qTdfI/my1jDReWNVXiVMitAWpy6DZj19q4Py8+5mO0MP88Psr/nH/y/5l0exmXVNDutLilZ1lNyqivIbbEk0rluHDKErIpwO0dRDINpBJPzl/IHXPOnmW880+V9WsLae4t4otS0jUAyhpIVojLItQKr3KnMnLAEuLo9V4IIID53n/5xp/NPm7rp9ioQ1P8ApnIeBNQmQEDXNyDq4Hc2hJv+cZvzOuLWW/MNhHPAnw6bJcN6zkHcKwQhfpyfhHvaxrcfmo2v/ONv5tEF00KzYMilWF+iDkR0r6Z39sHhE9Wf5vH3FVg/5x5/NyM/WJtPsLdICfi/SCNQr7CPAMB71/O4x3/j4p9P/wA44fmvcCK8P6OvFuI6l0vjxB/lqYyK/LCMHmx/O4j3/Z+tIP8AoXf81LaNWttPs9RDj4ljuTGYyDSjFkIPTsckMN9Ws6zFxdfx8W0/IX809Qd7WLSLR2iYJKz3ioqsR0JCGuJwnvbTrcYNG/x8UZH/AM4w/nDcyBf0bpcawUoz6hUV6gCkWR8DzYnX4wev4+L6+/JX8o/MX5YeXNZ0rWtVsZpNX5ObW15MiiQGqszGtQDTbwyWPEB1cbUaoZyPIPl9v+ccPzItprm2sLfT9U0u6v7q4s7tbgwgLLKXCusivQitNiRjPGSbbsWugIiMgdh+OqTap+Tf5gosP+4y3DabDPbTD66hrJK8bIAwTcnjTInCW2WqxHvfVf5maPeaj/zj7r2hw2ckuoHRbaRLONOcvqxN+8QKKksOXQb5ZgsRNjoXA1Uh4ho9X52+YfKXm2KO1eLyjrQt/qazO31SRkCU3YgAnbwpXKZ4zs5uDNCzuwyLy15mnMfHQdVYPQ27GxuE5Bv5axj8cqMJdznxyYwL4grxeTfNSy/VZvLuq2783f4rOdSq0qxY8CKb5KEJ3ycfUZoVtIMz0/8ALzzLFAkMeg6xdTseaSfU5nVwe4ooG2XSBcKGQAbprpnkTzhI7pH5bvpbhRR3azeJhUbgiQLsf7MAgWXixTWPyR52VJnHlnVIZQCsQSB6BSOvHuPAYTGTLjj3vOtS/L7z1eXs6L5O12aRWVZbiOzlX1PA8pKZDgJ6N/iQA+oKEv5d+fdOmVtR8heYY45EKxcbQsXr0I4M1Pppg4D3Nk9RiG3EPt/U+hv+cc/y8842fmmxvL3yve21vppC382oIIeHIEowUn4yOtQcMoyPRqy54cB9QN9zO/8AnJ/yd5i1TWfy81rTdKvtTtre91GwuBbxGT0DLA5Ekh2KK5UAHpUjJ5oGUYgd/wChr0OaIlLiIFj9L5vvPIPnP639Xj8p6rI0T0kgFsWowNCoNaEe4298pOOQc0Z8Q/iCPXyH5vEby/4U1YKihvUNqVAFaV3Pj26+GROGcuQSdViH8QRdt5T84TQ+tH5V1eWOFxDKyW3Eox6cg7qQD40p74RpZ933frYS1mKtpff+pDX/AJU82aXeW8N95K121ZlMiEWfqpIAatRoWlG1R1p7VwHTz7izx6nDLnMLr7RfMkcz3qeUNdSGdeSPFps3p1O3YUAPWpyvwMsTtFuGqwV9Yf/Q9/8A5F/mDrvnTSNRvvMTWrXVvcxW0M6p6FVZeXx1Y7nsO2czgySkd3o9XhGOIIfOv5ofmn51t/Pfmvy9Z6w2mafpV3S1itlRSSsQIcSENXlWpB60HhksxouVosMJYwSObEYfzl/MKOzjQecrtqKa1iiqS3j8HUeOU8Zcs6SHcF1t+bP5nCEwS+ctRksj8UcSRxgsR+yGCVphEpHqg6bEP4Qjovzp/My1AZPNhdRG3GO4hjk4c6ggGgqaDocbXwYdwex/kp5185a1PrE2v69dajA7oIZbgRhUPGjxgIiFRXep+/JQslxdbGMY0ObD/wAyvzQ84+W/zF1LT9K1yS20+xih42ZCtF8SVJoy1Nfc5dKPm4uHeLCP+Vz+dnuJVn1xv3v2hwUVHYggUGVEHvb+AdyYW/5w+c4I39LWWgWRWVykcZRvEcWBofHxyNnvZeDE8wm+n/nl5ytdLS0i1d4UR6wWwijYMvcAsDTEE96Rp8fc9j/Kj8y/M/nLVrmyv9baW3W3MtrbpFHRabUIAr1AP+1lmOZtx9RgiIXTz786vzZ86eQfzKfR/LOqW1vZ6hoyXQaSH1T6vMRlkqabVrks1grocUZwJI5PM4Pzn/M+8S3T/GFwt1aBhLdxpGC/IGvqKy8eu4NdsoMi7OOmx1uAzVvzR87wafpejz+arv6/eadFfi+pGHFHZWqSorypvkBI21HTwEuSQ3n5g+eAgCea9RRgpCskqDcmtB8BGSlI96Y6bH3boFvzB87RuH/xRPKWVDMGEXCSgG7Lw6+JyAySrmp0kDtTOLH87/PVvFHFNLZXEES/tQ7tXepKkZcMxaToYbvQ/KH5za35l1e00y5hsIbeQErKEYOHXcjc++SGUtMtLEDZC/mp+fdl+UlnDqE+jDW9S1LUHtLYM4hS2+AuZZB8XJaClEB360zIouEBZ5vOdP8A+ct9a1WK3kXyloc+xkfhLLUoFoRRoxv+rKjOXVuGmHO0sH/OW3nBJ3W20nSre3FGtkZpnZQOin4VBp45HjkEnBEhNrv/AJyg8z3yCS30yy02ZWFHkke6APHtGQgpy3FW2yuWeXckaeLLPJP5tebNa1G1gmuLJofUD3AUOgdZTRyG5HifbphjM3Vs5YYiNp9+aP59a3+W/mKz8v2mh2+t2GrWjTQXtxcPGsUi0+BqKxcb9suyyIYabCMg3Ly5P+coPPa286r5b0YpNJ+6E80zCMD+UcAT9PyynxD3uSdHC+ZWS/8AOSX5ghomtdN0GJiNpAszMlN61bYk48UhyLZ+TgOe/wBn9qYP/wA5LfmTIiWzWOhyuxV5ZjFKpYg1qRuDTAckhW6BoMUibD0Lyf8Amt5j8+Qalo95p1hpt5IkawX+nTvBNDxYFpozKNiKdOlTTLMWaRNENGo0QxxsFjvmz88/MnkXzPqnlhktdaj02ggvdRYqSWUMrEJyQkHrtTBmy0dtmnFg8SNl5Zq//OUvnyeWEGHS0lVP384tGPNa71HIbfflZlI8nLjo4hfB/wA5Q+cBbGkGn/vT9VVkgdQvqChenPsD+GHjLH8pFQl/5yz/ADAgtJLCG105pPUENpeJHIzKEARmMZPF+QFeuE5ZAbM/ykH/0fWf/OKMc2peXvMscqsQbuKU919RlNVUgUAoT1H05y2ml6qep7QoxiHzT+d00tr+bvnqEq4eO+ikeFQeSF7dHFQB03+7LdX6S5XZ07xDyedxs7FREysW+weOxPf2zEgbHJzt04tndXWOZZFFf3gowoR9I2PthtBBHMNSSiroiF1k4gCldiacgab/AC65LiDAxfYX5B6haeYbW50piIb+3too57UqCjMooswYClTQbE/RluKXq4XX6/FQt4P+eVpc2H5ra9aiQmVbe0jEkg+0PT3XL8jiaYEjlt3vKEW5bmGkIEIBKUFPoynhLlg+5O7GD1o7mN5nUwwPLCI1MhLL+zRa/STkCG+JtCAymJZoGkCqgcqT8I5e3WmGipt9G/8AOOf1iLznEWi5w3drKrEPxYhqDmCfAg5EbENWosY5EsV/5y7t5bb849HhU84ZPLPOFWTiRxnTl1oSd+wrl2oJBa+zNxPyIePaY7QI8hdCW40QdO5AHuaZjGTs9ujKfOjzW+q/l7NY3Yj1CXSjBqOl3A+GSDmHDoytVCtR1G+SjEtZPDPp8wfuXfWgZHjaLmKU5yVKkfT+vIHmzBFk2ua49OiMo2RaNTalB0JwAhN1z5qD3Ubo3EsSK71oNvDJBA2DegatNpmtWF6rEKkqmXtVa9ckdmvmUF/zmZdrqFp5FhgdHFxdyX9pRaSyxGGtaAkfAZBUmv05nRNxt56UCMpB6Pmny1dTQRCFmbmg+IcqAbdOQGUyHm5cTsnzSzmVFO5CFkjG53O1KbnIS960nlrqE0JFZOKkb/Z4EleJBJ6E+GVU2g1yfTP5K3dy/mHT4wEVLshY6AMalugU/wBMeRZg3Hdmn/OT2lPputeVdRniMf1v1bd5wCeR4Eg1qVNKb8cyc3IMOzjETmHzSLpowGVeS/yitajc1rufnmOXYmA6q4u0ngCyHilCyqAK8vYbGmG2UdkasrL9WKyb8SVZetffpQZE2zs/zntv5Iak/wDjiztzI3qTxyLRd13TYE06fT/XJRJHVo1cQYU85/PPT7vTfzV8yWNwnpwXQt7i05ig4SJWq0FKV70rkdSDGYJ6uFpT+72eJX0kNtJBG97EssjenahmXlzr2B6/TgjZjblCcbTL6s11B6sUcjSmWPmWUDk/RmWmwFMY8koeOaeyVh+jIp7jiUWW4BJDh6grt+z0qMBM+5Ip/9L6Eflt5Jsvy8SddC1axv7PVZWaMy3ityHEqAOEahh4VU5zmPhibDvpylkqwdlPzx+UHlz8w9fj13UrO2XU7u2S1u7uK+eD1VgH7skxoRIVrwrw2AAGTmYHmjFPNi2jde5AWP5B+TrJLG2t/Knl3UJoV4Q3N5e3dxJIR9r1uSfGfCoyQjGlyajJI9QxnzD/AM486ILmS5i0WHRImRpWjsb299JKdkS5gk417KDQdsPhiScetyR6/N5XF+RekO9zJJf6r6DsJbO/hEMkqg0qrq0XBkJr8dQxFK5HwYtv8o5ub178s/KkXkO8v7zTrh9RudQjSJHvHtrcKFqSsZjfqSd69exwxwRBsNeXV5M0eGQSnz5+V/lrzt5o/TGr+bjpmpXluqTraahbQ8BEpI9T1BN06VIG22+SNEbtUcmSIqPJhdn+Tv5e/WIba584wXQkjWrt5gg+GStKKI7QE1HYgDtUZHgx9zYNRl8/s/Uym2/J78stLv39DzbYzIVMckU2t1njUjf+7UD6KnE44c2Q1GUdfx9iWzflR+VEhs7P9M+XLaPTLhXsNbg1Qpqciftw3UzFlZGBIosYp2IIBw3GmPFO+Zej/l55X/LHybrlxJoPmKxu7r0WEUVzrTXD26k1L0MagA7KCxPQd65XwxWc8komJ5FC/m9oX5b/AJj6ppWqeYPMul22v6VC1vZX1nqZgMkB34yxPE4ehFQVoffJz9Y3XBPJh+nrTz/Tfyi/LZTBLLr1l+5CzX8K69GVIUVbgzW/HixAYg0PWmUnFj5OVLWZquz97Mtc/ID8u/N1taXvqXBIMJ03VLXVDLweD4x6Z9GhB3qtPiB3yyOKA5BoOtyg7n7Ast/yF8oXFzHfW+sXYmYFZ7ZLxREpHYQS26kfKuSGONIOsyFT138h/LeouJrW7XTrhwIiuk3cS26KqgM8kEyAq1RvQmpweFFiNZkGzDJf+cV/NNuYzaeabO8sZWqHlgdpRXtxjZQSCKdsicIbYdoDqPtpb/0LnqiGMXl9eyfV9itpZIQylq1Bkuf45GeANv5/uA+9O/OP/OMdj50TQLm71e70n9DWUtnpLTRCR3eWQOfVt9htSg4yg/PLocIhTgTmZZDLlbCrL/nCy6tElkufMyzRtKDaywWDxsopQiRC8iseXcFadwMhwgtnjEIez/5w91mxuIrnWfMdhFZ20oZhBaz1khLVAblxNfGnTHwwjxyeSpr/APzivpyzRappXm68tbd2f65pk1mL1FZunpmI2roAB8NS2IjFPGR1ejflF+UnlLy7raag95q+t3NhVrUPB9TjjdepkAU1J7fGPngMBfJkckq5h6T+dPkO4/Nry7pdjo80GnatpF79btFu1AV0GzcmiJINPY/LJS32Y6fJ4MjLYkvnSD/nHL8xDbTpPqGiw2kL/BGZ7gcm/aLLLAiA9ia1I2plQwmnMl2hHlwpbP8A848ea0LW91qWnWt0rBljjS6mjZG+y4YIpA9uOHwSo18e5Xj/AOcevM0RAv8AWdNgslXl6qRTM7hhQEK/AAE7VYgY+CzHaIIunu/5XfkfD5P1aLXp9Wm1a4RTxtFtFSKpFDyaSVmJ32K0+eTjhHVqy64yjyZP+Y35HaF+ZetW3mDVLjULW/sLZtPZbD0ijDqrMJAd19jk8uOM6vo4WHLLGTTyS4/5xQ8ryS6XdnV9RW+02KaIXkFpCPXSXZkm3AYU3Feh6ZUMEYggFtGoJlZDLdD/AOcafL0FpcW8uqX13Hcsn1S4McUTjxUrRqmuVflQBtbZLXSA5IPVP+cZfKsAC3WsywuSZXWaaBAqCpYufjYV7U+7H8vERssRrJnkH//TEyrLLbPAJeSqgEbFqAkbg7UP4Zyd29+YjuSexv8AUY0iha9uBFUuvGZupO541/gDkbK8A7lax1a5tNSjmiuLhis60kEzKwBahPI1JwSJHVlGMa+l+mmnazYz+RLCPVFuNShaAH6t60guXJWhKSI3PY+HTM/T7jm85rIcOSn5qea/NOp3Oq6hLZXtxHYpeTLb+qXJWONyq8671ApU0r1yOQm3MxY48ItLI9dur2xntERrm9ll9T68HO8ZG4oCRv75EZC28Eb3SeT9JSOWmf8AdtH6ZckqDTx98iD5qIxHILfqU1D68nFiopvVdjUda4bYkX0bt4Vhl9FY5AhPNm/Z5eNK74JS2ZRxAFPbp5LWKMRREBt5Au1ffpkbQYiKZ2dy1u/qRTvxZa9RUV8ahjXDuw5u1C/VnjDv6ksY+yZCQ1fDkTT6cSD1QJVySYXMVzI8c0gkKhlEsYoyH9k1PWlem+GhTdRfo7+SElzJ+WOiPWRWuUbn9Y4rGqrVPhQHoadj8jl+CNur1sRxe5+f/mW9kg8y68kM6qn6RuEEkZfgQHNACxLH5VqMqlLhNObGFxukJbeYtd0+skWoTRFN4+RJFex4tX8cBkzhjiRuEzuv+ci/zYtIvqcHnK6hVBRSI4i3ShJJU1O/fHxSyjo8Z6MKm/PD817qYPN+YOuPzNEQXToF/wBjHxH0UpkTlJLcNJj7k+8vfnH+ZRvkM3n3W5wY6SLPdyODQ/5RP0eGPEVlghXJlB/Mj8w7qaS5l82arJIFLoGuZd2BqPhDiuS8QtPgwPROF/NP8xLuO2RfMt+Xr+9i+sSVIP8ANUmv+YwcRPNPgxB5MlsPzZ872EkqP5ju7WaQ1UKeRqBtue2w2xjLhRLAD0eWf8rt/NG1vdX9PzvqIF6zc946IVNBwHCi/Rh8Utg00K5Icfnz+bUdq9qnn3UUE8okeWqGUFelJAoI+Qpg8Q2n8pA9Gcfl7+dv5rG41CT/ABJfa6bdllktLyRXT0z9qvMUI9vwyyOQlpngjEbB976JrP8AiTR9J1G5YWE2qEO6IKxAMtOIB2Q16k9fbLRK3W5IcMqp8ear5z87WeteaLIa/OkWm6ld2sCmnpeh8ICrG+4qD4nffbMXLOQm7jBhhPECQxObz350tDbi282aqDDH8IN1M1AabU5cafRkTIlt/LwPRiVz5+85vNyPmfVQWY8nF7N9od9nAFcHiEbsxp4dw+SYQeYfM+oia71PzFqNzGqAPHNdSuCP9kxI+gjHjJXw4D+EfZ+pp9V1l34Pqt1JAAVC/WJGWhFVovLiN/b+mCUj3s4449yGms5prJLiSef4OglJapAofi7U8Bh4yoER0f/UNbmOThcuxkPpoRNIgIDtTf7/AGzkg+gHmxC3jcwxSemS6syPJXdajkQaAZE80mVNRwPWVo6N6TgOvdSSBuDkJDdmDs/T38trEat5X0hJhJC2n2QdWAWjApQqtRXfrscztPQDz3aVnJ8C/OHzEmmx+YdWineMPdapqDRwM4ViHunPI126V2xlKjZcnDE8IHcEHbLbWChknQRs32xIoA/1iTuadhlTYYhxb15WH7u43J9Kq7D3Hj3pkhG2IkIt6fLZ3UzyGIFVQMiygojqP2o+YAYeNMBDLxAh54Ve5dEgYxk1aRKED5AHpjwqcopu5nl9N7cOiyj+6pSpC9+pyQAayQUiMeoN8RWQqwJMi0Ar7b5Kh3rsAhJoZjGz8fV4VMtDzoo7sVrQfOmNArxAFUtoPQshqRkimtm2WSOVGRjUiiMDXl7AYPD3beKtw/TD/nHjUINR/K2waOtykEU8BthWGVHj5CjLIFNPCmXYY0XT6u5SNB+bfmiO9tNV16LX7S60ea01e6kZb+BreqmYlXVpF4mq7gqTlU4+ouzxZAYDfopid7q3DBlkJ6cHDfD0U1qeoyNNnEGAavDJHMCVYcq/FStflTrkZBnikksPLnzJLIG+E14/RlZ2cq9mb+V7YXmqOnNEIi5MXPHboOu2ESthImnrcqQwwAPRJSoHMAkGmSaQSxkT8LwyRKqiKRfUGxFD0bI8TPhJZdeywwC0uBH6qXBCowAqznqd+lffJ8TF45rCtFqV2sMLopYsVoW679sW0HZCQurgVXjwJJIFanwyLITZZ5PuxFf3wUMfVt+Kg7A06kU74gtcx5P03/JuKDW9A8uerKI5bCMJwL8XKMvego1O22ZOGN06nWSMJX5PlH8z9Nk0L8yPN2mXcPqLJffWrdmNGeKZRRgBSoHEj55Xnrit2ehkZ4gHlmsOJLoOifugCfSWqbdvllNhyAPxuxa9B9S34BkRI/3la7E9yO+RPJsBZRoOqkRTJKom9MDhUbfTthBFsJbohpqmc+meRIYVBAoB8t98BLIEDqrR3Uz2gtQ5RFYMqgEhWO/I/PBbIjd//9X3l5b8s/kL5lV9P0vRLeSZwPrNkY5UdR/Ny6Kfmc5v0PS5I6mG5ksvvyp/J3y/PK155QtlsHl9BroqwWMOAYy1SNmPf51yfgxaPzWUmuIlTbyH+QKsirpWklgeSyJK0pAPeopsPA4DDGGXjZ7rd6Zb+evJGiWEMNhqdlDpenR8GitWq0YpRaIPibIiUYigieHLM3JgU3n/APJ25iK3MdndR3MkjXEH6OLMZAK8gCtQTyJyZyxPRH5XKD1S/T/NX5KWtxb2ctppsclxMLeOeTTyIh6hoiyuwNKnYA0qcNxWWLLHq9J13QvyjsLO5vvMHlrTpLS3ZDcXrWwZIg2wZio2FNsvERFxjObBb3WvyLeO2WGWyvrW0IiihjgLx8d/hXbjT5ZSZwttjjyLG1j8lpIGtU05bNDvbzyWLkAnqEYL9n54PGxp8OaEbzF+VtuIba1t47iGEFLhE00nmB0dX4n9eR8TGyGCfei182flPctHEulmL1GUK7WKqsZB8Ttv3x8XHSnBPvZl5h0zy1pXlq78w2el2Udk1ub67ijtkRpLeP4noKdaZdACraDxXRLxuL8x/wDnHc3UGvNp1rb6pdRr9YK6ZIdtmCyhV4tuo3G+Ni2fg5O9k2m/nt+Ti3r3LavexEwv69sdOmSKRaUPHggqSNhhEwEyw5OaMH52/kc93arePfzW0i/uJ7nTmnSIjcCTmjUp0GAGJLWcU4jqjr38z/8AnHbW7a3+sNZ0uEDIJNLMZUAb86IN6dAcjxRJZxw5ubzW8sv+cTZJGhn0yyukuSXa9RbgSITsagDYnruNvAZCw5IhlB2ULP8AKH/nFbzJL6GnQzwNM/wol3cwVHiCSKYLiejOWTPH+JkF7/ziX+VmlD9LaRLrsELxExOdTllUg9DxJNR38cmMUasNJ1uW95Jbcfln+TVpzXUr+ysZLX4HlbUvSeTx9c1qT7nEwiGZz5TyCh/yrj/nGqVlD+arG2BIcyprXJaHvse2PDFRlzIsfl9/zjW0RS9/MK1kCOVg9LVStFqONd9+3TBwRXxc/cpTfk//AM4m6/qFpaN5+Mes3ri2tFtdZf1XkOyrxDUJPhhEMfeg6rUx5RTDVP8AnEn8nNEligvPNup2N1LJ+4FzqKq0ij9lQ5oSclLTxAtGPtDPPolunf8AONf5PxajJJY+Z7649AMk8y6lGw4t1EgJoBlZwxtsOrzAWQ9q0DU/ye8lx2mkW/maxjSxAilvHvEdyw2QsR2X7stHCHGzDLl3IQXniP8AIPzesc3mLzTpF7PGtLS9F0IpUUdmkQgsDU0B6YJSxnouIZ8f0ggMRs/In/OM/mrUIdCtX0+51aWILE1nJKsjEfyyDp9GVxED0b5ZdUI8dypA+Z/yQ/ITR7n6rrurfoK4lUSW1u2pOjtH2ZASOQ8cnOEKpji1monyv5MZfyJ/zjBbrCbfVDBcA+k9zbX07EjuzspIrkOGFNkJ6ona0dJZf84wpbRrcSXUksDFPXgFyxkAYcXlYAhj88AONsMdYeV/YhL25/5xolt4raHQ7xBC9beaO1uFnYdSzSmnOMn9lt8bxoji1pPP7R+t/9b1t+Ut+1pqVqltA9w0rH1La3IaVyVqKRt47U8c5P6SHuNWLxvX/wA4ESHylfjUoAiXF/ZtGyE8CxRiZUU/zHqp+/MzLZDo9JtN87Wmh39xAtxDGxjQbALVlT2Ir9IzEESXb+PvySOdWgmeKQAyK1TVakg+5qaZEgsoZSVETo8nACvKpdwN+3dqnEKSpRJbSXlohCRhplKOwNKhgad69O4IwCZtTyfTHnvUUs/JWvNe2zyx3WnQWzSRoAgkfdK/FyU0/mFPAZn8VwdLL66fK8t3LHbwOslVA/eKxoDTtQfwzAkN3ZnalV9Vd4VQgmrUVe1f15CgyEkbBdwyW0qxgmdBRulKe3bIEMwttLoysiFSGVwHI6AnoaDf8ckKtjI7W+n/AMzYjpH5F6pL6zRhNOWKgY8ipNCAOTAV/V1zZQ2i6kn99T86hJaKD6UjOQgPKhBDV2FOnTMck27SUjTSTzzM0g+1H+0AwIFO/UfdkwLSJbI+0uUj5LMAQrF2HWrU2JNeh+eA7MDuk1wE4NQEncKa/qwENtrbc0VTPUkkfED8W3TAyp7h5YkQW9s0MhLhxw3+IH2ymXNrmA+iPzC8+eYvLn5Q2l1b3xh1VolttPvI4yWQsQCyhh1AObGG0LdXwROfk/N30zdyXUsyC6muGJnmlPKWRjVi0jPVmJ7kn6MxCbLuYgBN7OMJCw9GIrGAOPAEU8KZEhKcRWdjLGOcMDM5qCyJUdKU2+GlMAUs+/Li0gXz75UpbQkDUYzUKtCQDRjUbZI1SLBB3e+/85WpFHe+UmuCZrhZ5C6TKHX7G3AsCAPlTMjJI+GHA7OH7w9z5s0iS2dp0FrHFbtEC0aUAagFQQONa/LMeJLtLB6I2O4s7WQi3tYoGQUVkUAGvau9RiWzmOSGN68vqcvTMgqaoqigPgaA5HibIvY/yWug/m21rcPM9sryRkGhQoDx96eOAH1U0aqvBLL/AM/LdYvNHlq6uSPXa1lgElOQYcuVN68SMy9RyFOu7MlRO7yBL+CG2kteKRs9TUGpah75jCnZyHxQTSrNExegVm3AND4g06HBMBnHZYsiJIihwWcchG5I5LXcivTftgoLIP8A/9f0F+V95r0GueXtVg8raxqGn3l6ljLJ9U9H6s7tu8pneJvTWnxFQx9s5XwpCre3zavHKJFvq381mOseSIHsY31GbTdTilu7X0yzMsVRzHDkxAr2OZciap0OlFZC8otZb9XsnfR725e6A+CC1uJFKDpVlj6jwrmOAQ59gEsM866Vq1zfNbx+W9VgkUiaGT6jOgMTbH41Qrv7nbHgLZiywvYsKk8u+aYJfTk8r6v6zJ6iILK4qUI6rRKNuD0yIwll+Yx96daH5O8zXF0v1vy7qVusEqNKbm3ePv3BHX/KIyJxmJZjNAgi3vf5ieX7vVfJi6B5af8ASWtzy2stzHeyrHMY4thGZHKKSvbpmSOVOrBHGC+cf8AedXvJreTy3d1VgIjFNDPFIy/aAaKQkHwDkV7VzFmJAuaMsJFGaj+Vnn63EDHyfqVx6lA5t1hYIp/m/eg/QtT7ZKMJKc8B1Q0HkLz4S3oeTddeOvFJUspOB+4frw+FI9E/mYAcwjLX8u/zFN1AkfkbWiZDzRZI44y3E7qfWmRkNN/iAr2x/LyB5MfzcN31B+ZXkvWPzF/K8+UdMKaJqsqQhfryOqGWGmx4cmWpFA3Ej55mQsCi6wyAnxF8IXH5E/mlo6yR3vlDVZJbcmKS6jhjeOWrEUjFQGBrtxUEjtlUoF2ENTE9VZfyc/Mq3hknm8k6mYIK+oWjSqqf2uPqBiB322wiNMxliTQKM0P8ivzM12SX0NFh023KD6tPqV7FC8leyxgsdvcDIRlGRq2MsgCbap/zjV+Z9mgP6PtrgDc/V7hXJoKnbiMkYlA1UQXjOoaBq2nzG1m0679ZBVo0heSq9agJU/flRiXNhMHmmnkrWHtvNvl2zm9Y2897ErQLFK7cSabxqpancmmDg6ljmI4TX6H2T/zlVbQW35TeX2hkMcsuooBEQQvEqSaKwBA2zMiDwOoxT/e2S/OrTkRppi0sUaqpLuzqAKDvuf15hAHud1Y7wixc2wBX6zCAAAx9RVA+dThpTQRMt7YwC3WS6t4Ec1VzKik/ed8kLSJR72dfl5fg+ePLX1acysuoQPLHEBNxjJI5lY+R4+5FMgUT4aNF9df85hwNLofkzUkXnFFd8TOiFmIKdyAQF9jmTMegB1mhlGOQ7viuyuHUojK4AiqKqQ1K0qNtxXKBEu3kRXNqOdKoJLlfiLGDmwUPTqE+XtkDyZQyRA3IRFvp2s3VwFstLv74zfFarb2kzhh02cJQj6cgcZCTqIDq90/JCy8yaL+Zdjp2peXNV0q6eD1XeW0eNVjfdHJcjYjqBkhA8QLj5tRjnAgF6f8A85Px0vvJU9sgZTNcRvw5AB5RyX4TWhPapzJ1ANBwezNpGyHy9E4lMiJJFcMCV4Bgz1HUbHYjMQAno7viiOoVLG6t715raK4j9WKnrW4qZEI2FUALD7sNFeOI6j5o6X10eJRZ307t8PKKzuZCpG4PJYyN8IxSLXLUY4/xB//Q9D2//ORlgnq30vkGGcQujoHviJUFauK+iQ1aeAznDnJL1H5CQH1Jw/8Azl/pixk/4AZlBWsJvQ5ao6lvTBqPcmvSuJzFidDRtq0/5zEtFk9KLyY8S8gYoWuxSp/2JIP0YPFQdFxdX1ppnnC08y+R7fze9nNYhIXueEZ5yoEWrBWoOQPcEZfhnYcHLjOKfD0fKd9/zlLodvfRvY+WJr4GZucktyYYvSO49JQshFSSamtNtjQZA53NHZ5q7Qrf85YW2mzsdM8mWKNurzi8mfxIU813AyJyMo6GuqSj/nLHU2edrjytZXVw5rbSu8i8Fr02BJ9ttspMiWf5MUhov+cqtXS4mkk8r2CiU8yolk41+YFT99PbGyU/lAQzKw/5y41Z4xF/hC1N26/uFWaV0kB68gvX6TlsclBoOhiChIf+cwPMTXc8C+WdNVIthKrzsUPy+H7qe2JzyZnQx7ygr3/nLfzy09IdI01E5BiPTlLGMDtSQcfo/HHxpdV/JRUE/wCcvfM0SLOnlrSbi7bZ7sicj2LxB+Jp03P3YRlo96nQwR+nf85f+cb0uL/R9ICRgkOkUq1ZyAlFqQdzuCNxXcYz1BPJH8nQBfUfm3z1PpP5dp5qu9Ht7u7bThc3VkkhETtMv7uoopPJiK1rQeOWbyj5OFDFWWg+Tx+fPm2zulntPLujQAqQsfq3cg49gSGSv3ZgwgImw7eWlHIlM7n/AJyY/MA26LZ6bounyoB6lwkUsrPQU3WRyBT2y/x5VTEdn473YPF+f3mVSn17RNKnb1FEd9Cs0MqBRQKpEjU22wDKerKXZ+MirPzTM/8AORl+t476Z5T0+3lQljJ67hyrdfiEa/EfEEe9cM81ckR0HD1pO5v+cl7u60mGzvfImk3ECSrKsJuHejqa14yROu/yx/MSIpEuzY3Yl9ijD/zkB5Va9llX8qtPhmRN7ilv6pYjlSoh+yOwAFMPjUj+TT/P+xkNt+d/kUoklz+VtvK7APwle2dAw6BE9ED7zkvHHcwPZpH8XyFfpLU/54eRS0k835V2qREUhihjs2Kkj4iS0QauE6jyQNBP+cUPD/zkL5E8vXS3Gm+Q5LS4CExeg1rCyFuoDRxVI9iaZA5h3JGhnXNMZf8AnLHTbm3WI+TZZaNzEJnTjXuaenSvzByfjMR2fIcibbsf+cl/Kc0wafyJPCWJMJjuYCKbdvTFCaVPY4+KAAj8ga+ovZtB8yaD580SLUtJ0KOxluHPL11QvzHUcowrgnqCKZOOQSNAOLnwSw+bypfzt8qabfajpepaff8A1yxnktNVtbcoYjJEwILcqLIGU1q2+MpgGm3DpJ5I2Ew0/wDPvyWmo/XxZX8FwgET+klsAYwa0ILV6knrTIHIDTaOzstHdJNf/wCchfy7u724/wBx97f20sNJ4bjghZwa0DJyJ8asT8sl4gPNgOzcsAapit3/AM5E/l1yPDRNRjtkUbxOqyRldwwdCjEV8T9GA5YJGhzV0Rek/wDOSvkulw7+UtTaNONZ3lgjMtdiVIqQKH5175Dxwp7OmOq28/5yX8nzxONP8naxByDMIzewKnME9KRM3zBJrk/FC/kZdZP/0YiHuGtZzEebhPs9RShPYZylB7tjNwWid45PiV+JHGuxO3XbJNZrvUrYxi4CryrGQBGxO9e4Ne3ywb0mIBfsX+XlmW/KDTjZRkSnRJkhRFBEjGPsNl5A+AzK0/0l0mtlWaIfklPIJ7flByFHYXcZ+2kisVYOK7Go6DMacaLuYEmKXMSYlQOI0B/dFux6k1p44btIVFnNClRGyLSYgkh/cnvgIQdgmRs2hS2lhqkVxHzQqRy4077kDFAmpxXf1VIncSL14xIxFGHeop1whjzLYmmWRZ0nYM55SRA0qG3+/wCnHqmwmcTyyl40ZjSpepoFA8R1HywJG6HtoZZDKWCrAqlp5pD8IUd6VGIU7JDdeZrGzmi+rp6zc1VSi/DJvuqHxpXJcBpqOQB+mP5rXM835H6fecXk+q6fZTleOwiLAfFuTXeu+ZIj6fg6yEv3+/e+HI/MBuQaFSzbqAK7d8xQCHcykC1+k5GahI402AABphpgZ1ySmWUEPQ/CW5U/swEM45LStLto5jwVlFPiYn+AFRkdm8kk8k3kuWlt+DndWCo21a0r2x2Y2gob1vWuJfUK8mAZ1oCu1O2AsuIDq3NqsqzIy3DgqKeiakGvQ740aSJxPUNy6j60TRT/AL0Mw9NWNAppvxIPfAU/FCSFGEYELFwCCw+ID/WPU4lFnvW2rklklDBVBIptv8sk1yEuhRlpI3rfuiaMQSm5UL3oO334DawBp93/APOPEUl15duFaPkLecm3Soqrin2eXTrluE+pwO1JGID5O/OGztdB/NDzZa6fyt4pbiO8ntmbkUuLhG9Yiu1GoGpks4Ilbfoj+75sGt7t2ahYkitSBuaiuUt5Hkwe7uJVmlHX4jxQUJqevz+jCppKJCFnhDNSN3VZSB0+jEsDws2mLiRVWNNl4x8NgRtSowD3IsdylHMkaGFonE3xUcGgSh/jg5sur//SE2nkL8wrKdLK/wDIep2UjmREdmhaM8TQkMrbggVGc14Reu/OYv5qL1L8jPzDvIJb/TtHaE+m7egXUtIA1HRlp8JFR9+HwTVoOuxsMg/K38xGvFtV8lapNcRAO3p+iBQbVVmYA1O2J08kjX4ov1Z/Jm2k0L8v9B0vXJFttUuUYyWZcyOpAoENNq+y5djiYh1etyceWw+ZNe/5xF0+TWdV1Pyt5oe3s76/uLi4s76EGOAzsWKLIlCwDMaV6DIZYAt2DV8Edy8/13/nEv8AMGFHXTX0q9cgFJDO1sinwJIbIjDvVtp19MWsP+cVPzHDf7ldT0TRpahY1R57sntUEcAd/bJeFustfsyaD/nFf8xvUubOO50uUxAEXgMirRugdWJKk+IOR8JI7QCHi/5xT/NK1nElzbWF5E3Qx3fFUPsOGTEJKO0Idye2n/OKXn+eCT1rjT7F4iXksy7yMVP7YYAD8MicF9VOugmN3/zil50tp40tNY0TUGPFVmuXksypG6qI25Bt+hBBPhj+W80fngGM33/OG35watIefmfQdOi3WRGMsiUJ7qrLX6DlkcA6sJ6+N0S35f8A+cFvOtlqlvJrHmnR721tblHu4Y4LiOsP7axyGUlCw74kGmoauNvuqD8uBdeRU8o+YdUjvkgtVt2i9QoJLVDRFkkBrzAA+L8MsjKhRcSUiZcQfN0v/OHUSTypoPnL07Fn9QRX1kWkUHpRkdAxA2qQMqGIkuWNbtyRcX/OHVxMg9L8woJJCVKFrAlSKVNKTjcZLwSp1x/msT17/nFLX7EJ9T8x218rAfFLbyxUYiorxeX4T4/hkDBux6u9yK+P7Hn9x/zjH+ZllJCksuiRB3A9RbqZxxpWqpx+4E7ZX4G7lfypAjcIp/8AnGzzzIgXT7ixuFIqyTrJbsr13ULU8unXvj4DGPaQq6P2I+L/AJxm8/29rJNJLpLyhqMjXDLXwUGm+P5YhnHtOEhsT9gSuf8A5xf/ADQvbkFX0qrrWguS9SOgFFxOGSR2nAd/2Ief/nGD8xxI0PPSLqeoKRw3bIAOPeqUXfAcEkjtXHLofib/AFIST/nG782YiZE0eyvoSvwyWuoI9N6VIZBj4EmR7QxhL5vyF/NG2k4XflVrN2TnCZ7lCsv+SGVTQn7vfCcJDA67Gf2L4fyM/NG0AlPlYsJj+6SK6jah7hgQCKeODwSsO0MNEWX2P/zjt5e80eVdGurTzDo0mnXF3c1hWVlkYKp+0Suwr7nJ4sc4SvZxO0c2PLEUeTxT86vyF/MfzJ+aWua9oWkW15oN/HbPBfTXixkyoHEqceJoaNTJ58cpSvouh1cIYgJc7LzqP/nGj86IkMzeWrZAylkCX8T0X9k/ZplXgkOWNbiJ5sYuf+cX/wA3GmYS2Wm2Uu5VJr0cm5dQCqHicfBmp1uMpcf+cXPzjuFVLfRtPuZWZhxN+AYyndiYtgexxOCSPzkF1r/zjx+eEFvLayeTjKYQJRxvofhUbqQ7KPhPQE4+DJB1uMdCtl/I785bKWE3X5fXP1e7FXuI7uB0Tv8AvTyBWp/lBweBJiNdA97/AP/T9G+R/NOu63qf6LbVWd5lV7f6wysFKGpKg9KjrnMxyHveuzaeMYXT1Lz/AOaNY8h6JKkVzFJq13qaw6VfFeQ9B4V9XY0XmpoN8ycsuGLrtLhGbJVPAL780PPV7bLZTa2oktGYJeLbRpOKkkAsO3bpmFk1JPIu+HZ2KxskMPmrzXMri7826nJJGS6FZFQqx6kcFXf3OUnNLvbfyeG7pCN5o8zvwE/mLULhXblyluZKE9TVQadcBykt8MGMbVE/B7r+UvmLzBqvmtI7rXr2fhCXKzzPLEVTsVNRksWSRyhw9djxRwSPDv5Mq/OH8yPNHlXUtCsNBvbawupi17ftd2wuY2hVx+6ADqV5dK+GbPJMRG7z+LBxy3eSeaPzp/MLXrq2nTWP0Dbp8X1bTBxWSo+IOzqSwPgRtmMcxPJz4aSA5pQ/5p/mFMUY+ctShiT4YUVoBxA7bxb4+NNP5eFqi/md+YpSeM+dNR4k1Un0QwPgCI12+ePjTT+TxHmHtH5X6lqXmS21KXUtcvNX1WBoljlvHZhvuyqFoE+gD3OW4pmZouJrMUcYAA2ea/nV5z826X5+1HQNF8x6npWmafa2qyWVvMYucsg5l+dC2/scc8jHZnodPCcCSAd3mOoee/Mt8nGbzfr08jQrFJbG8mUFQN1PEqfpzF45uedPCPKIY7b6t5pR47+HzZrEepWEiGxgN5O0KkEkqys5Vh88RItnhQr6Qraj5u88ajepd3fmjVrS5g5JEIbyWKNVcfEFjDcSD74fEkOrGOljV8IR+kebPPWm2xsbbzVqi2UkxlEwuXaZWc1YB3Ytx9jh45d7GWniNiAncvnXz1KsSy+edYf02qtLrgyjw2UVHsa5ISLUcWPuT/QPzB82+vbac/na+ltfUDCKeVZQWr0ao5ke1ae2ETknwMf819JfmL541Ly95K0jU9H1COTXXmgR1uP3sYWQ0LJHVa/I5kcR4LdZgw8Wbht843n5qfmjc3Vu7+b2t4zyqltBDEgJHXg4foPfMQZJHq7eOjxRPJA2v5nfmetzN6Pnm/EKEc+aW7cafyn01wjJMcimelxdycP+Z/nfjEZ/O+otIG2kYQk99jSMd/HJ+NKmI0mK+Sc+XvzO83Q6jp0I8zSXEP1tOdq9vCzSl3+Orhe/sMHjSRk0mOuT6h/NnzvqegeV9Z1fSbsWt9baelxa+pH60azBduQ2JHsDmYRYt0mDH6qL4vH/ADkJ+aE8dYtR0m0ubuIAzxaftzbevH1j1PauY0shDsvyUU6s/wDnIb82YIVin1nT5F9MVeKxCyM6n7dTIRT2yHjSpI0WMFe/5+/maXeQeYLe4jukJulms0JJX+UBhxIPhkjmJYHTQBqkx8v/AJ8fmbfavpVpfa9p6x3MyQR2yWPGVhzHxI3qsOVO3TBLKUDT4x0Zl+fvmzzBpGpeVk8ua/d6C+t28sep3Vr6R5MlGHNZkcAr0rTLMt8FgtWixwlMinhOt/mJ59uEgin84XhCJTnB6cXqUH2molK/LMfiNc3ax0uG9wk0HnvzlbxsT5w1W4aSP0eU0yueFKEfYAIptTIeJMDmz/L4ieTcXnXzUBbSN5l1HktVUPcOQqbfCF6bYRkl3sZ6fGBsH//U7n+TssSedNGjcLMtxN6bIRUoGHUbUqPGh+RzkgASLe3zkmE75U9j/wCclPL91Z6d5cuYI3mtLLULo3l0il/SeeONkDSjsStBWlT2zLzj006vsmYhkHcR9r5HYLA7z1+JlIlYdKHu3UVH0ZryHpIyWwGQLIFUMGWqyA1qD4e2/XpkSDbOtr6KPwBYSWYmRmHKm25p1O23fCxJojZ9AfkRNJH51trZJgU1C1lt3iOxYgVBUj38MliJ4w4naNDAfeln/OQkyRfmF+jXd3uLCyhjnRAOKs55KOm9flmxzkXTptHuOKni0ry+p09QEGhr2HWmY3JzefNCys8ZDVYAbllJP9cUiAPJoXPwK4E1GqOak8aj36YshIF9V/8AOOwtpYdfhW4WG4mEcywsTWRF3IYHsPEGvzy3Tn1OD2hIAB4v+d91NJ+anmcoJGa2+rQyLMDTkI/2StdhkdVL1uToIEY/i8e9YG7Bk4B2BWp5bGtD7n7sxQa6uwAsMlintUhVCOIJagp1PWuw/Xk+OIa5fjqgn4TM0npPLHEOICj4v9iDsaexxuJZAbEX9ijd3s1q3pLUKqg7gA7gEg0r45ZHcNWUgSSZ9VYw+rJIFjqSC1SadG2w0xEkz0e6t3v7GWKUFXmVg1D0r4VGAdfcyjVvtD84LX6l+U+l6nGVNvFc2BjRYxQGRuJPLiT1Pj/HMkn926jDZ1NB8oJqBadwxADGtT1JPYV2Ip4Zhg0HeSsFQe6iU8z6jpUllj32PfpiB5qRSHknha25IzkA9DsansRjYQKrqnPli6jj8w+XXQSSAXkRVTtQ8qUDd98jMgMvSQ+v/wDnKO3vLT8nNXvCAFma1DugZWjV2UHkSWrSvQ0ObPbwhu81ikJZgPN+efqNHdcVrxj4iRNqN4bgbZhnY7u6IPJMJLqZ5ClC0a7tGPhIH8ae2AsBatb3fqmeSKYkyJwZXB5VJ6Dl0riiQNst8mES+bfLoYgK2pW/xtsEq4qDXYU7jYjGVFaPCX1Z/wA5caU1ha+R9cESSBb4wM68iFjaIUq3wg7/AD98vzD92HD7PMvHfE9xO93LxZj6UVSGpQU+XhmBHk7at91qqx9MozMASKkUWm9cBrzbAYppDbuiRbPHwJLKKdPeoOS2pTIB/9X3npWnf8496HqMGpaP5psLa+gZJIFOozTcC37DcvhPzFM5w8B6PR8eo4SCOb1vzRP5W80W9xp975i02bTb2NBd28eoQq0sYFKfbqSpAZWG4I65ackZBxseLJjkJDmHkSfkP5CNraaivmq9m0645rFqML2s0TAdY5JI0avz+/Kzjg5sdfmBqk7m/wCcdvy+mSK4sEutKjhhJvpxfRj6wrU/eESiRFA/mWmI00S0HtPLA/oef6h+UP5P6BqEdpqXni4uTcRma1kj1G3qoDANz+rxEFNwKsK7ntvh/LRBbB2hnluA9B0K2/JH8vJ9N1S11Hy419brwbWri5ju74g05H1GqR/sUBxEYQ97VLJnzjcdUu8663/zjf541Z9b17zTY3NyYDb3Fys9xDsv2SSg3Ydj1yRnGXTojFjzQFBjFpB/ziXay8/0zY3sJRQJLy7u5aqB8RXnsPvyJ4Uy8ekzaz/5xFnf0ZdR06Fq1Fxa3V3Ft2oQSp+QFcmBENV6iP07shtvLf8AziWK2ketaRcm7oYorjU7gurDuCXQ1Phkv3SfG1fefkzLTr/8k/y5dY9N1/SNHtbxmIjF968hHWici5Zexoem2C4xNhjOOfKKkCwrzJqP/OMvnHzCura7e6Zql6yqLq4Rr2BpwBRPUMZVJOPuMByQkbIZYsepxAiN8/x3rZNE/wCcQHmHpHy3DIDQWkk9whqNt+bjlUeI2OEDCnx9Xy4j+Pgmd/8AlX+T9lZTatZ+WdOurFB63qO0io0ITlVFEoBoDsV65HwsZF0x/N5uVvItG83f844acLtx5cErxxsq213FPerKrHfgkjcBT33ysTx9zmSw6kn6isu/zB/5x1hti7/lt63wc1lgto7cBmJJTg0poPkMHjQHRH5TMd+Jbd/lz+QVnIItfvNM0e8nVZJrS412eKSNGqVLQRyKqE5aeGPNqhkzSHptXsPJ3/OLgIQeYdJJCji6a1d1JruCfVFfpyNxLYZagd71XzfJ+U3m3yQnlCfz5pNlpgmtJYYY9TgRytm6uiEurjfjQ1FadCDuD6aouP8AvRIS4SUn03S/yDtXeC0tfIdhDRI55jJaXU8u37bymQuK77t7YSMdM/8ACDvwpinlL/nH1DcRarYeWpYJ5a+orJGOVPtJLHIOA8ATt2xuHcp/MEdWLav5D/5xtm/dx6kthVuUR0/U3kVkQdJWlZlPtQrTATHubcc9VEckPY/l5+QCzieLzheWzxsjwy/XIWIK/EKniTQHruMgBCXRmc+qD1vzvcflh+Ynlj/lX+qedtNvtL1BYVLwXkUd2WiIKtyXckU32pmRMxoAOvhjyAiRju8P1X/nHX8j7ae1ik/Mw2U7qStnLqNu7yAHi1Oa0WngCB7ZT4Y5lyjnyzP09Vw/5xr/ACzltje6N5j1DXQtXjki1C1mRq9yiW4BK9iOngctjjiQxnqsoHrFMfu/yQ/K3Sr0wap5uaF54hOYZtRiikt432WRWURcqHuajxGRMIDmzx5csxcWV6D5H/5x70y9tdZs/MsJms5I5raYa3ziMsRU8/THTkd6Gu46gbZXcLQTnIIroXpvn7Vfyq/MeHTdI1zzTpt5pOnubm6+raisQ5haCQsDyBHYA/QcnKcCKacGHJinxCJt4035Z/8AONSThh59lgjBMipHqYYUPTjWMsD49fkcqHAA5ni6kj6U+tPyt/5x21H9zY+ammmjKqkq69xYlurNHJQcae1fbHhxtZzan+at/wCVf/8AOPVnE0UnniHUIIJnMCyaovKPgxDoGjVeQqKDYe1clWNkMuoO9P8A/9YNBcODOsjc/UHHma1p0FM4wEvolUotOgUGVfU4VEbEVAB6gD9n+OT97DhHciLPVv0XHMtlcXtj6Dh47a2ZkjqTvVAaCvelK5K65MTjgZbh+ln5WX82ofl/pc0vC4VYGjn9dS0ciMu6UIIr7Zn6aZkHn+0cYhkflR5svXj8xazFBzgjjvrlIbcbCONZnCpT2ApSmY+WRMqdtigBjHmkz3jXKJWak0aAfARyP+t7nxGRO68uSTXN5KSIWLIjuC6klRyH00+muGqQSbRtg7SW1x++UBePFT8XNj4Cp6YKTI2GTW0lsLKWO5kkgkUKLSh+AsOvJWqQPlgIQEq1KWZTbNEXjjWgF0GINevbelcAi2G1BGmsy5Xn25vQAMTvQmvXwptkmXAyuz1Xkvq+tQ0oyN3Peo9siY3zaZXFDXF88s6XSNUQKShFOrdfGoHyyzh2YRFl+mFtYC4/J5763dFdPLLzWyuFbkPRHIDcVr79MycI9JBdRnI46835+2foTW0IloVkgjJTdO1TWh3I8RmriQTfQvQ5I70SXRTxzySqXpAwIkWtAKUoDWm5+jGR8kjlzZz/AM5NxRL+Y5miieG4vtFsJpIwvpjZWBJoACdh1zN1XIU4PZgFSHcf0PAIoGcyMJR0qwLU+mm2U83ZmI725EEdoTy25bjqT4eGQIvmgCuajHwL/DM5jKhnqePEjwG+H4pq0xnaYKoaVpGHTftlgpolYlzZP5Z1SXS/WuxwlVgqTI4Uq3IGpZTv37ZOJ2RICRpNF1SYozgoJEZmXnXiik9FG1fpwnJXINfCOoYtdXUzXCXHMoyk1dGoCD/kmv3ZWSW6JsboSGdgvpR/uYw5Igj+FSDuSFGwJyM/UOZWMQ+9P+ceBeHQI9RtJTztKiWFty6A9H60Hy3y/AaNOB2mADfQvlf83rCz0P8AN3z5pMUywxXdxa6zHFxqsS3aHmFZQAV5x1pXqakVyGqJ8WnJ7LrwDXMMN06YwzJPBcpIImLBlQFXPYUIG2Yx5uaeWyaTTs5BuBVqhvV4qaNTqSabeAHTJRLA33pdbXFzI/C7liMiqzL6KkKQD8J3rRhhJ3UXXNFPcI5qSWogNH+Kv3/djxUyiLWvIzQuysELcSTsd+gIodia4yteHd//2Q==",scale:100},{id:"stone",title:"Stone",fill:"url(#stone)",width:256,height:256,href:"data:image/jpeg;base64,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",scale:100},{id:"knauf",title:"Knauf",fill:"url(#knauf)",width:256,height:256,href:"data:image/jpeg;base64,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",scale:100},{id:"wood",title:"Wood",fill:"url(#wood)",width:256,height:256,href:"data:image/jpeg;base64,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",scale:100},{id:"glass",title:"Glass",fill:"url(#glass)",width:256,height:256,href:"data:image/jpeg;base64,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",scale:100},{id:"plastic",title:"Plastic",fill:"url(#plastic)",width:256,height:256,href:"data:image/jpeg;base64,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",scale:100},{id:"metal",title:"Metal",fill:"url(#metal)",width:256,height:256,href:"data:image/jpeg;base64,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",scale:100},{id:"granite",title:"Granite",fill:"url(#granite)",width:256,height:256,href:"data:image/jpeg;base64,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",scale:100}],lt=[{name:"Light",value:"light-v8"},{name:"Satellite",value:"satellite-v9"},{name:"Dark",value:"dark-v10"}],ht=new Uint8ClampedArray([0,0,201,255,0,0,203,255,0,0,205,255,0,0,207,255,0,0,209,255,0,0,212,255,0,0,214,255,0,0,216,255,0,0,218,255,0,0,220,255,0,0,222,255,0,0,225,255,0,0,226,255,0,0,229,255,0,0,231,255,0,0,233,255,0,0,235,255,0,0,237,255,0,0,239,255,0,0,242,255,0,0,244,255,0,0,246,255,0,0,248,255,0,0,250,255,0,0,252,255,0,0,255,255,0,3,255,255,0,7,255,255,0,10,255,255,0,14,255,255,0,18,255,255,0,22,255,255,0,25,255,255,0,29,255,255,0,33,255,255,0,37,255,255,0,40,255,255,0,44,255,255,0,47,255,255,0,51,255,255,0,55,255,255,0,59,255,255,0,62,255,255,0,66,255,255,0,70,255,255,0,74,255,255,0,77,255,255,0,81,255,255,0,85,255,255,0,88,255,255,0,92,255,255,0,96,255,255,0,99,255,255,0,103,255,255,0,107,255,255,0,111,255,255,0,114,255,255,0,118,255,255,0,122,255,255,0,126,255,255,0,129,255,255,0,133,255,255,0,137,255,255,0,140,255,255,0,144,255,255,0,148,255,255,0,151,255,255,0,155,255,255,0,159,255,255,0,163,255,255,0,166,255,255,0,170,255,255,0,174,255,255,0,178,255,255,0,181,255,255,0,185,255,255,0,188,255,255,0,191,251,255,0,192,246,255,0,193,241,255,0,194,236,255,0,196,231,255,0,197,226,255,0,198,221,255,0,199,216,255,0,201,211,255,0,202,206,255,0,203,202,255,0,204,196,255,0,206,191,255,0,207,186,255,0,208,182,255,0,209,176,255,0,211,172,255,0,212,166,255,0,214,162,255,0,215,156,255,0,216,152,255,0,217,146,255,0,219,142,255,0,220,136,255,0,221,132,255,0,222,127,255,0,224,122,255,0,225,117,255,0,226,112,255,0,227,107,255,0,229,102,255,0,230,97,255,0,231,92,255,0,232,87,255,0,234,82,255,0,235,77,255,0,236,72,255,0,237,67,255,0,239,62,255,0,240,57,255,0,241,52,255,0,243,47,255,0,244,42,255,0,245,37,255,0,247,32,255,0,248,27,255,0,249,22,255,0,250,17,255,0,252,12,255,0,253,7,255,0,254,2,255,2,255,0,255,7,255,0,255,12,255,0,255,17,255,0,255,22,255,0,255,27,255,0,255,32,255,0,255,37,255,0,255,42,255,0,255,47,255,0,255,52,255,0,255,57,255,0,255,62,255,0,255,67,255,0,255,72,255,0,255,77,255,0,255,82,255,0,255,87,255,0,255,92,255,0,255,97,255,0,255,102,255,0,255,107,255,0,255,112,255,0,255,117,255,0,255,122,255,0,255,127,255,0,255,132,255,0,255,137,255,0,255,141,255,0,255,147,255,0,255,151,255,0,255,157,255,0,255,161,255,0,255,167,255,0,255,171,255,0,255,177,255,0,255,181,255,0,255,187,255,0,255,191,255,0,255,197,255,0,255,201,255,0,255,206,255,0,255,211,255,0,255,216,255,0,255,221,255,0,255,226,255,0,255,231,255,0,255,236,255,0,255,241,255,0,255,246,255,0,255,251,255,0,255,255,254,0,255,255,250,0,255,255,247,0,255,255,244,0,255,255,241,0,255,255,237,0,255,255,234,0,255,255,230,0,255,255,227,0,255,255,224,0,255,255,221,0,255,255,217,0,255,255,214,0,255,255,210,0,255,255,207,0,255,255,204,0,255,255,201,0,255,255,197,0,255,255,194,0,255,255,190,0,255,255,187,0,255,255,184,0,255,255,181,0,255,255,177,0,255,255,174,0,255,255,171,0,255,255,167,0,255,255,164,0,255,255,161,0,255,255,157,0,255,255,154,0,255,255,151,0,255,255,148,0,255,255,144,0,255,255,141,0,255,255,137,0,255,255,134,0,255,255,131,0,255,255,128,0,255,255,124,0,255,255,121,0,255,255,117,0,255,255,114,0,255,255,111,0,255,255,108,0,255,255,104,0,255,255,101,0,255,255,98,0,255,255,94,0,255,255,91,0,255,255,88,0,255,255,84,0,255,255,81,0,255,255,78,0,255,255,74,0,255,255,71,0,255,255,68,0,255,255,64,0,255,255,61,0,255,255,58,0,255,255,55,0,255,255,51,0,255,255,48,0,255,255,44,0,255,255,41,0,255,255,38,0,255,255,35,0,255,255,31,0,255,255,28,0,255,255,24,0,255,255,21,0,255,255,18,0,255,255,15,0,255,255,11,0,255,255,8,0,255,255,5,0,255,255,1,0,255]),pt={Unknown:0,Concrete:1,Brick:2,Stone:3,Knauf:4,Wood:5,Glass:6,Plastic:7,Metal:8,Granite:9},dt=[1,1,.632,.2945,.8614,1.00000043,.28125,.595,1.000022,.237],ct=([6,6,4,7.5,2.8,2.1,8,4,1.8,11.6].map(((t,e)=>Math.sqrt(t*dt[e]))),[.8,.8,1,2,.5,.5,.5,.5,1,3.8]),mt=["#boxFloorplan","#boxSurface","#boxRoom","#boxArea","#boxRib","#boxText","#boxDebug"],ut=[{interval:[30,50],scaleFactor:1.5},{interval:[50,70],scaleFactor:2},{interval:[70,90],scaleFactor:2.5},{interval:[90,1/0],scaleFactor:3}],gt=[{name:"SF7",value:-123},{name:"SF8",value:-126},{name:"SF9",value:-129},{name:"SF10",value:-132},{name:"SF11",value:-135},{name:"SF12",value:-137}];var xt=i(6773),At=i(1317);const ft=2*Math.PI,Ct=2*Math.PI/3600,bt=(t,e,i)=>{let s={},n={},o={};for(let a=0;a<t.length;a++)n[t[a]]=!0;for(let a=0;a<e.length;a++)o[e[a].antenna_type]=!0;for(let a=0;a<i.length;a++)s[i[a].gtw_id]=!0;return{sfs_filtered_hashmap:n,antennas_filtered_hashmap:o,base_filtered_hashmap:s}},yt=t=>"Avg GTWs/MSG"!==t?{mainComponentThisMinPropertyName:"heatmapRssiColorMin",mainComponentThisMaxPropertyName:"heatmapRssiColorMax",mainComponentThisMinRangePropertyName:"heatmapRssiColorRangeMin",mainComponentThisMaxRangePropertyName:"heatmapRssiColorRangeMax"}:{mainComponentThisMinPropertyName:"heatmapGatewaysPerMessageColorMin",mainComponentThisMaxPropertyName:"heatmapGatewaysPerMessageColorMax",mainComponentThisMinRangePropertyName:"heatmapGatewaysPerMessageRangeColorMin",mainComponentThisMaxRangePropertyName:"heatmapGatewaysPerMessageRangeColorMax"},wt=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"block",n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];0!==e?requestAnimationFrame((()=>{t.style.display=s,n?(t=t.firstChild).style.transitionDuration="".concat(e,"ms"):t.style.transitionDuration="".concat(e,"ms"),i&&t.addEventListener("transitionend",i,{once:!0}),0!==e?requestAnimationFrame((()=>{At.log("Callback"),n?t.classList.add("indoor-modal-fade-in"):t.classList.add("fade-in")})):i&&i()})):t.style.display=s},vt=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];0!==e?requestAnimationFrame((()=>{let o;s?(o=t.firstChild,o.style.transitionDuration="".concat(e,"ms")):(o=t,o.style.transitionDuration="".concat(e,"ms"));const a=e=>{e.target===o&&(n||(t.style.display="none"),i&&i(),o.removeEventListener("transitionend",a))};o.addEventListener("transitionend",a),requestAnimationFrame((()=>{s?o.classList.remove("indoor-modal-fade-in"):o.classList.remove("fade-in")}))})):t.style.display="none"},St=t=>{let e=[],i=[];for(let s=0;s<t.coords.length;s++)e.push(t.coords[s].x),i.push(t.coords[s].y);return e.sort(((t,e)=>t-e)),i.sort(((t,e)=>t-e)),{minX:e[0],maxX:e[e.length-1],minY:i[0],maxY:i[i.length-1]}},Tt=t=>{let e=t.filter((t=>!Et(t.start,t.end)));if(0===e.length)return null;{let t,i,s,n,o;if(1===e.length)o=St(e[0]),t=o.minX,i=o.maxX,s=o.minY,n=o.maxY;else for(let a=0;a<e.length;a++)o=St(e[a]),0===a?(t=o.minX,i=o.maxX,s=o.minY,n=o.maxY):(t=o.minX<t?o.minX:t,i=o.maxX>i?o.maxX:i,s=o.minY<s?o.minY:s,n=o.maxY>n?o.maxY:n);return{minX:t,minY:s,maxX:i,maxY:n}}},Pt=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t?{x:(t.minX+(t.maxX-t.minX)/2)*e,y:(t.minY+(t.maxY-t.minY)/2)*e}:null},It=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;return"v"===e.A?0===Number((t.x-e.B).toFixed(i)):"h"===e.A?0===Number((t.y-e.B).toFixed(i)):0===Number((t.y-e.A*t.x-e.B).toFixed(i))},jt=(t,e,i)=>{let s=(Math.atan2(t.y-e.y,t.x-e.x)+ft)%ft;return T(s,i)},Rt=t=>Math.round((t+ft)*Math.pow(10,12))/Math.pow(10,12),Mt=t=>Math.round((t-ft)*Math.pow(10,12))/Math.pow(10,12),Bt=(t,e,i,s,n)=>Math.pow(i-t,2)+Math.pow(s-e,2)<Math.pow(n,2),Dt=(t,e,i)=>!(t>i.maxX||t<i.minX||e>i.maxY||e<i.minY),Lt=function(t,e,i,s,n){let o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=arguments.length>6?arguments[6]:void 0;const r=T(e,t),l=T(i,t),h=T(s.minX,t),p=T(s.maxX,t),d=T(s.minY,t),c=T(s.maxY,t),m=T(n.minX,t),u=T(n.maxX,t),g=T(n.minY,t),x=T(n.maxY,t);return o?r>=h&&r>=m&&r<=p&&r<=u&&l>=d&&l>=g&&l<=c&&l<=x:o?void 0:"h"===a?r>h&&r>m&&r<p&&r<u&&l>=d&&l>=g&&l<=c&&l<=x:"v"===a?r>=h&&r>=m&&r<=p&&r<=u&&l>d&&l>g&&l<c&&l<x:r>h&&r>m&&r<p&&r<u&&l>d&&l>g&&l<c&&l<x},Nt=(t,e)=>{let i={minX:null,maxX:null,minY:null,maxY:null};return t.y>e.y?(i.maxY=t.y,i.minY=e.y):(i.maxY=e.y,i.minY=t.y),t.x>e.x?(i.maxX=t.x,i.minX=e.x):(i.maxX=e.x,i.minX=t.x),i},kt=function(t,e,i){let s,n,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return t%=ft,s=i*Math.cos(t)+e.x,n=Math.sqrt(Math.pow(i,2)-Math.pow(s-e.x,2)),t>=0&&t<=Math.PI?n+=e.y:n=-n+e.y,o?[s,n]:{x:s,y:n}},Ot=t=>{for(;t.firstChild;)t.removeChild(t.firstChild)},Ft=(t,e)=>{let i=["svg","g"];for(let s=0;s<t.children.length;s++){let n=t.children[s];if(-1!==i.indexOf(n.tagName)){Ft(n,e.children[s]);continue}let o=e.children[s].currentStyle||window.getComputedStyle(e.children[s]);if("undefined"!==o&&null!=o)for(let t=0;t<o.length;t++)n.style.setProperty(o[t],o.getPropertyValue(o[t]))}},Wt=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i&&At.log(i);let s=!0;for(let n in t)if(t[n]!==e[n]){s=!1;break}return s},Ht=function(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];s&&At.log(s);let n,o,a=i.x,r=i.y,l=t.A,h=t.B;if("v"===l)n={x:a,y:r-e/2},o={x:a,y:r+e/2};else if("h"===l)n={x:a-e/2,y:r},o={x:a+e/2,y:r};else{let t=1+l*l,i=-2*a+2*l*h+-2*r*l,s=i*i-4*t*(a*a+h*h-2*r*h+r*r-e*e/4),p=(-i-Math.sqrt(s))/(2*t),d=(-i+Math.sqrt(s))/(2*t);n={x:p,y:l*p+h},o={x:d,y:l*d+h}}return[n,o]},Gt=()=>document.querySelector(".rightBox.active"),Et=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;return 0===Number((t.x-e.x).toFixed(i))&&0===Number((t.y-e.y).toFixed(i))},Vt=t=>{let e,i,s=0;for(let n=0;n<t.length-1;n++)e=n,i=n+1,n===t.length-2&&(i=0),At.log(e+" -> "+i),s+=(t[i].x-t[e].x)*(t[i].y+t[e].y);return s<0},zt=t=>t>180?t-360:t,qt=(t,e)=>Math.log2(2*Math.cos(t*Math.PI/180)*Math.PI*6378137/(512*e)),Ut=function(t,e,i,s){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const o=k()([e,t]),a=(0,xt.Z)(o,i/1e3,zt(90+n)),r=(0,xt.Z)(a,s/1e3,zt(180+n)),l=(0,xt.Z)(o,s/1e3,zt(180+n));return[[e,t],a.geometry.coordinates,r.geometry.coordinates,l.geometry.coordinates]},Jt=(t,e,i,s,n,o,a,r)=>{const l=(i-t)/a,h=(s-e)/a;let p;if(0===l&&0===h)return[o,n];if(0===l)p=h<0?0:180;else if(0===h)p=l>0?90:-90;else{const t=180*Math.atan(Math.abs(h)/Math.abs(l))/Math.PI;p=l>0?h<0?90-t:90+t:h<0?-90+t:-90-t}At.log("positionBearingDeg "+p);const d=Math.sqrt(Math.pow(l,2)+Math.pow(h,2));return(0,xt.Z)(k()([o,n]),d/1e3,zt(r+p)).geometry.coordinates},Xt=function(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,n=0,o=2;i>90&&i<=180?(n=3,o=1):i>180&&i<=270?(n=2,o=0):i>270&&i<=359&&(n=1,o=3),t.fitBounds([e[o],e[n]],{padding:s})},Yt=(t,e,i,s,n,o)=>{let a,r="Avg GTWs/MSG"!==e?t.colorRSSI:t.colorGtwsPerMessage;return"Avg GTWs/MSG"!==e?(r<i?r=i:r>s&&(r=s),a=(r-i)/(s-i)):n!==o?(r<o?r=o:r>n&&(r=n),a=(r-o)/(n-o)):a=0,a},Zt=(t,e)=>{let i=t.x,s=t.y,n=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){let t=e[o].x,r=e[o].y,l=e[a].x,h=e[a].y;r>s!==h>s&&i<(l-t)*(s-r)/(h-r)+t&&(n=!n)}return n},Qt=(t,e)=>{if(Zt(t,e))return!0;{let i=!1;for(let s=0;s<e.length-1;s++)if(t.x<=Math.max(e[s].x,e[s+1].x)&&t.x>=Math.min(e[s].x,e[s+1].x)&&t.y<=Math.max(e[s].y,e[s+1].y)&&t.y>=Math.min(e[s].y,e[s+1].y)&&It(t,ee(e[s].x,e[s].y,e[s+1].x,e[s+1].y,0),0)){i=!0;break}return i}},Kt=function(t,e){let i,s,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"array";if(t.A===e.A&&(i=!1,s=!1),"v"===t.A&&"h"===e.A&&(i=[t.B,e.B],s={x:t.B,y:e.B}),"h"===t.A&&"v"===e.A&&(i=[e.B,t.B],s={x:e.B,y:t.B}),"h"===t.A&&"v"!==e.A&&"h"!==e.A&&(i=[(t.B-e.B)/e.A,t.B],s={x:(t.B-e.B)/e.A,y:t.B}),"v"===t.A&&"v"!==e.A&&"h"!==e.A&&(i=[t.B,e.A*t.B+e.B],s={x:t.B,y:e.A*t.B+e.B}),"h"===e.A&&"v"!==t.A&&"h"!==t.A&&(i=[(e.B-t.B)/t.A,e.B],s={x:(e.B-t.B)/t.A,y:e.B}),"v"===e.A&&"v"!==t.A&&"h"!==t.A&&(i=[e.B,t.A*e.B+t.B],s={x:e.B,y:t.A*e.B+t.B}),"h"!==t.A&&"v"!==t.A&&"v"!==e.A&&"h"!==e.A){let n=(e.B-t.B)/(t.A-e.A),o=t.A*n+t.B;i=[n,o],s={x:n,y:o}}return"array"===n?i:s},_t=function(t,e){let i=[],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?"coordsInsideWithOrphans":"coordsInside";for(let n=0;n<e.length;n++){Zt(t,e[n][s])&&i.push(n)}if(i.length>0){let t,s=e[i[0]].realRoomArea;for(let n=0;n<i.length;n++)e[i[n]].realRoomArea<=s&&(s=e[i[n]].realRoomArea,t=e[i[n]]);return t}return!1},$t=(t,e,i)=>{t===e.length-2?Et(e[t],e[0])||i.push(te(e,t,0,!0)):Et(e[t],e[t+1])||i.push(te(e,t,t+1,!0))},te=function(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{wallNode1:t[e],wallNode2:t[i],wallEquation:s&&ee(t[e].x,t[e].y,t[i].x,t[i].y)}},ee=function(t,e,i,s){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:12;return 0===Number((i-t).toFixed(n))?{A:"v",B:t}:0===Number((s-e).toFixed(n))?{A:"h",B:e}:{A:(s-e)/(i-t),B:s-i*((s-e)/(i-t))}},ie=(t,e)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),se=(t,e,i)=>{let s,n,o,a=null,r=null,l=null,h=null;return"v"===i.A?(At.log("Usao u vertikalnu jednadzbu"),s=1,n=-2*t.y,At.log(-2*t.y),At.log(i.B-t.x),At.log(Math.pow(t.y,2)),o=Math.pow(i.B-t.x,2)+Math.pow(t.y,2)-Math.pow(e,2),At.log("Dsikriminatna "+(Math.pow(n,2)-4*s*o)),Math.pow(n,2)-4*s*o>0?(a=i.B,r=(-n-Math.sqrt(n*n-4*s*o))/(2*s),l=i.B,h=(-n+Math.sqrt(n*n-4*s*o))/(2*s),At.log("Vertikalna sjecista"),At.log("("+a+","+r+")"),At.log("("+l+","+h+")")):At.log("Kruznica se ne sijece u 2 tocke s vertikalnim pravcem X="+i.B)):"h"===i.A?(At.log("Usao u horizontalnu jednadzbu"+i.B),s=1,n=-2*t.x,o=Math.pow(t.x,2)+Math.pow(i.B,2)-2*i.B*t.y+Math.pow(t.y,2)-Math.pow(e,2),Math.pow(n,2)-4*s*o>0?(r=i.B,a=(-n-Math.sqrt(n*n-4*s*o))/(2*s),h=i.B,l=(-n+Math.sqrt(n*n-4*s*o))/(2*s),At.log("Horizomntalna sjecista"),At.log("("+a+","+r+")"),At.log("("+l+","+h+")")):At.log("Kruznica se ne sijece u 2 tocke s horizontalnim pravcem Y="+i.B)):(s=1+Math.pow(i.A,2),n=-2*t.x+2*i.A*i.B-2*i.A*t.y,o=Math.pow(t.x,2)+Math.pow(i.B,2)-2*i.B*t.y+Math.pow(t.y,2)-Math.pow(e,2),Math.pow(n,2)-4*s*o>0?(a=(-n+Math.sqrt(n*n-4*s*o))/(2*s),r=i.A*a+i.B,l=(-n-Math.sqrt(n*n-4*s*o))/(2*s),h=i.A*l+i.B):At.log("Kruznica se ne sijece s pravcem y="+i.A+"X+"+i.B)),{intersectPoint1:a&&r?{x:a,y:r}:null,intersectPoint2:l&&h?{x:l,y:h}:null}},ne=(t,e,i,s,n,o,a,r)=>{const{intersectPoint1:l,intersectPoint2:h}=se(e,o,t.wallEquation);if(l&&h){const p=Nt(t.wallNode1,t.wallNode2);if(At.log("wALL BOUNDARIES"),At.log(p),Dt(l.x,l.y,p)||Dt(h.x,h.y,p)){let n,d;Dt(l.x,l.y,p)?n={x:l.x,y:l.y}:At.log("Tocka (x1,y1) nije na kruznici"),Dt(h.x,h.y,p)?d={x:h.x,y:h.y}:At.log("Tocka (x2,y2) nije na kruznici");let c=null,m=null;n&&(c=jt(n,e,a)),d&&(m=jt(d,e,a)),At.log("Intersect points"),At.log(n),At.log(d),n&&s.find((t=>t.x===n.x&&t.y===n.y))&&(n=null),d&&s.find((t=>t.x===d.x&&t.y===d.y))&&(d=null),n&&oe(c,n,t,e,o,i,s,r),d&&oe(m,d,t,e,o,i,s,r)}else At.log("Obe tocke sjecista nisu na zidu"),Bt(e.x,e.y,t.wallNode1.x,t.wallNode1.y,o)&&Bt(e.x,e.y,t.wallNode2.x,t.wallNode2.y,o)&&(n.count+=2)}},oe=(t,e,i,s,n,o,a,r)=>{let l,h=kt(t+Ct,s,n);l=_t({x:h[0],y:h[1]},r).id===o.positionRoom.id,At.log("Is start point "+l),a.push({type:l?"start":"stop",value:t,x:e.x,y:e.y,wallEquation:i.wallEquation})},ae=(t,e,i,s,n,o,a,r,l,h)=>{let p=h?a.startPointEquation:a.stopPointEquation,d=h?a.wallStartBoundaries:a.wallStopBoundaries,c=Kt(e.wallEquation,p,"object");if(c){At.log("pronaden intersect point"),At.log(c);let t=jt(c,s,l);At.log(t)}if(c&&Lt(l,c.x,c.y,r,d,!0)&&Bt(T(s.x,l),T(s.y,l),T(c.x,l),T(c.y,l),i)){let r,p,d;At.log("Point prosao test"),At.log("Tocka sjecita ima udaljenost manju od radijusa"),At.log(c),Bt(s.x,s.y,e.wallNode1.x,e.wallNode1.y,i)&&(r=jt(e.wallNode1,s,l)),Bt(s.x,s.y,e.wallNode2.x,e.wallNode2.y,i)&&(p=jt(e.wallNode2,s,l)),At.log(r),At.log(p),At.log(Rt(r)),At.log(Rt(p)),At.log(t.startAngle),At.log(t.stopAngle);let m=null,u=!1,g=!1;if((r=xe(r,t.startAngle,t.stopAngle,!1))&&(m=r,d=e.wallNode1,u=!0,At.log("wallNode1Radian upada")),(p=xe(p,t.startAngle,t.stopAngle,!1))&&(m=p,d=e.wallNode2,g=!0,At.log("wallNode2Radian upada")),At.log("wallNode1InsideCircle "+u),At.log("wallNode2InsideCircle "+g),u&&g){At.log("Specijalni slucaj -> obe tocke zida unutar luka");const t=Mt(r)>0?Mt(r):r,i=Mt(p)>0?Mt(p):p;h?(m=t>i?r:p,d=t>i?e.wallNode1:e.wallNode2):(m=t<i?r:p,d=t<i?e.wallNode1:e.wallNode2)}if(m){let e;if(At.log("Pomjerajj kutt"),h?(At.log("Pomakni start"),e=n.heatmapGeometry.find((e=>"polygon_part"===e.type&&(e.stopAngle%ft).toFixed(l)===(t.startAngle%ft).toFixed(l))),e.polygon[e.polygon.length-2].x=d.x,e.polygon[e.polygon.length-2].y=d.y,t.startAngle=m,e.stopAngle=m):(At.log("Pomakni stop"),e=n.heatmapGeometry.find((e=>"polygon_part"===e.type&&(e.startAngle%ft).toFixed(l)===(t.stopAngle%ft).toFixed(l))),e.polygon[0].x=d.x,e.polygon[0].y=d.y,t.stopAngle=m,e.startAngle=m),e.stopAngle<e.startAngle){At.log("Poligon start veci od stopa nakon pomjeranja"),e.stopAngle=Rt(e.stopAngle);for(let t=1;t<e.polygon.length-2;t++)e.polygon[t].angle=Rt(e.polygon[t].angle)}if(Mt(e.startAngle)>0&&Mt(e.stopAngle)>0&&Mt(e.stopAngle)>Mt(e.startAngle)){At.log("Umanji sve za 2PI"),e.startAngle=Mt(e.startAngle),e.stopAngle=Mt(e.stopAngle);for(let t=1;t<e.polygon.length-2;t++)e.polygon[t].angle=Mt(e.polygon[t].angle)>0?Mt(e.polygon[t].angle):e.polygon[t].angle}h?(t.startPoint.x=d.x,t.startPoint.y=d.y,a.startPointEquation=ee(s.x,s.y,t.startPoint.x,t.startPoint.y),a.wallStartBoundaries=Nt(s,t.startPoint),e.stopPoint.x=d.x,e.stopPoint.y=d.y):(t.stopPoint.x=d.x,t.stopPoint.y=d.y,a.stopPointEquation=ee(s.x,s.y,t.stopPoint.x,t.stopPoint.y),a.wallStopBoundaries=Nt(s,t.stopPoint),e.startPoint.x=d.x,e.startPoint.y=d.y),Ae(e,o,s,i,l),At.log("MoveToWallPoint node "+JSON.stringify(d)),At.log("Circle part after moving"),At.log(t),At.log("Polygon after moving"),At.log(e)}else At.log("POmak circle part tocke -> nijedan slu\u010daj nije zadovoljen")}},re=(t,e,i,s,n,o,a)=>{const r=Kt(t.wallEquation,i,"object");r&&Lt(a,r.x,r.y,n,s)&&!o.find((t=>Et(t,r,0)))&&(At.log("Point intersection"),At.log(r),o.push(r),2===o.length&&At.log("Pozicija "+e.position_num+"kruzni luk sice 2 zida"))},le=(t,e,i,s,n,o,a,r)=>{let l,h;l=t?e+Ct:i-Ct,h=kt(l,n,o);const p=ee(h[0],h[1],n.x,n.y);At.log(p);let d=Kt(s,p,"object");return At.log(d),he(n,d,a,r)},he=(t,e,i,s)=>{let n,o,a=[],r=ee(t.x,t.y,e.x,e.y);n=Nt({x:t.x,y:t.y},{x:e.x,y:e.y}),At.log("Center to point ray boundaries"),At.log(JSON.stringify(n));for(let l=0;l<i.length;l++){o=Nt(i[l].wallNode1,i[l].wallNode2);let t=Kt(i[l].wallEquation,r,"object");t&&Lt(s,t.x,t.y,o,n)&&(a.find((e=>t.x.toFixed(s)===e.x.toFixed(s)&&t.y.toFixed(s)===e.y.toFixed(s)))?At.log("Ve\u0107 dodana to\u010dka. Ne dodaji duplikat"):a.push(t))}if(a.length>=2){At.log("Zraka sije\u010de vi\u0161e od 1 zida"),At.log("To\u010dke sjeci\u0161ta zrake i zida"),At.log(a);let e,i=a[0],s=ie(t,a[0]);for(let n=1;n<a.length;n++)e=ie(t,a[n]),e<s&&(i=a[n],s=e);return i}return At.log("Zraka od sredi\u0161ta ne sije\u010de vi\u0161e od 1 zida, ne treba pomjeranje"),At.log(a),null},pe=(t,e,i,s)=>{const n=i?"startPoint":"stopPoint",o=s?"pointA":"pointB";t[n].x=e.x,t[n].y=e.y,t[o].x=e.x,t[o].y=e.y},de=(t,e,i,s,n,o)=>({pointA:{x:t.x,y:t.y},pointB:{x:e.x,y:e.y},pointC:{x:i.x,y:i.y},startPoint:{x:t.x,y:t.y},stopPoint:{x:e.x,y:e.y},startAngle:s,stopAngle:n,pointApointBEquation:o||ee(t.x,t.y,e.x,e.y)}),ce=(t,e,i,s)=>{s.beginPath(),s.moveTo(i.x,i.y),s.lineTo(t.x,t.y),s.lineTo(e.x,e.y),s.closePath(),s.stroke()},me=(t,e)=>{let i={},s=[];for(let n=0;n<t.length;n++)i[t[n].position_num]=[];for(let n=0;n<t.length;n++){let o=i[t[n].position_num];if(0===o.length)s[n]=e;else{let t=o[0];for(let e=1;e<o.length;e++)o[e]<t&&(t=o[e]);s[n]=t}}return s},ue=t=>t.floorNumber||0===t.floorNumber?parseInt(t.floorNumber):0,ge=(t,e)=>"<div ".concat(e?'class="'.concat(e,'"'):"",'>\n<div>\n  <span style="font-weight: bold;">').concat(t.heatmapPositionDataSelectedOption,"</span>\n</div>\n").concat(t.optionNote?'<div>\n        <span>\n          <span style="font-weight: bold;">Option note: </span>\n          <span>'.concat(t.optionNote,"</span>\n        </span>\n      </div>"):"","\n</div>"),xe=(t,e,i,s)=>{let n;return(s?t>=e&&t<=i:t>e&&t<i)?(At.log("Point radian upada odmah"),n=t):(s?Rt(t)>=e&&Rt(t)<=i:Rt(t)>e&&Rt(t)<i)&&(At.log("Point radian upada nakon uvecanja za 2PI"),n=Rt(t)),n},Ae=(t,e,i,s,n)=>{t.polygon=[{x:t.startPoint.x,y:t.startPoint.y}];for(let o=0;o<e.length;o++)if(Bt(i.x,i.y,e[o].x,e[o].y,s)){At.log("OK"),At.log(e[o]);let s=jt(e[o],i,n);At.log("POint radian to\u010daka sobe "+s),At.log(t.startAngle),At.log(t.stopAngle),(s=xe(s,t.startAngle,t.stopAngle,!0))&&(At.log("Tocka sobe pushana u tocke poligona"),t.polygon.push({x:e[o].x,y:e[o].y,angle:s}))}t.polygon.sort(((e,s)=>e.x!==t.startPoint.x||e.y!==t.startPoint.y||e.angle?s.x!==t.startPoint.x||s.y!==t.startPoint.y||s.angle?e.angle===s.angle?ie({x:i.x,y:i.y},{x:e.x,y:e.y})-ie({x:i.x,y:i.y},{x:s.x,y:s.y}):e.angle-s.angle:1:-1)),t.polygon.push({x:t.stopPoint.x,y:t.stopPoint.y}),t.polygon.push({x:i.x,y:i.y})},fe=(t,e,i,s,n,o)=>{const a=jt(t,n,o);i.push({type:"start",value:a,x:t.x,y:t.y,wallEquation:[e],distanceFromCenter:ie(n,t),doubleOrphanNode:!0}),s.push({type:"stop",value:a,x:t.x,y:t.y,wallEquation:[e],distanceFromCenter:ie(n,t),doubleOrphanNode:!0})},Ce=(t,e)=>{let i;(i=t.find((t=>t.value===e.value)))?(i.wallEquation.push(e.wallEquation[0]),e.distanceFromCenter<i.distanceFromCenter&&(i.distanceFromCenter=e.distanceFromCenter,i.x=e.x,i.y=e.y)):t.push(e)},be=(t,e,i)=>{let s=[],n=[];for(let r=0;r<t.length;r++)fe(t[r].wallNode1,t[r].wallEquation,s,n,e,i),fe(t[r].wallNode2,t[r].wallEquation,s,n,e,i);let o=[],a=[];for(let r=0;r<s.length;r++)Ce(o,s[r]),Ce(a,n[r]);return{startPoints:o,stopPoints:a}},ye=(t,e)=>{let i,s,n=!1;if(s=t.filter((t=>t.value>e.value)),0===s.length&&(n=!0,s=t.filter((t=>Rt(t.value)>e.value)),0===s.length))return At.log("Good stop points exception"),null;i=s[0];let o,a=Math.abs(n?Rt(i.value)-e.value:i.value-e.value);for(let r=1;r<s.length;r++)o=Math.abs(n?Rt(s[r].value)-e.value:s[r].value-e.value),o<a&&(i=s[r],a=o);return{targetStopPoint:i,shouldAdd2PI:n}},we=(t,e,i,s,n)=>{const o=Kt(t.wallEquation,e,"object");return!(!o||!Lt(n,o.x,o.y,Nt(t.wallNode1,t.wallNode2),Nt(s,i)))},ve=(t,e,i,s,n,o)=>{const a=Math.min(Ct,e-t),r=e-a,l=kt(t+a,s,n,!1),h=kt(r,s,n,!1),p=ee(l.x,l.y,s.x,s.y),d=ee(h.x,h.y,s.x,s.y);let c=!1,m=!1;for(let u=0;u<i.length&&(At.log(i[u]),c||(c=we(i[u],p,l,s,o)),m||(m=we(i[u],d,h,s,o)),!c||!m);u++);return{startPointIntersectFound:c,stopPointIntersectFound:m}},Se=(t,e,i,s,n,o,a,r)=>{if(!e.find((t=>t===n.wallEquation))){let e;(e=Kt(n.wallEquation,s,"object"))&&!Et(e,t)&&Lt(r,e.x,e.y,Nt(n.wallNode1,n.wallNode2),Nt(a,i))&&(e.distanceFromCenter=ie(a,e),e.wallEquation=[n.wallEquation],o.push(e))}},Te=t=>{let e=t[0],i=t[0].distanceFromCenter;for(let s=1;s<t.length;s++)t[s].distanceFromCenter<i&&(i=t[s].distanceFromCenter,e=t[s]);return e},Pe=(t,e,i,s,n,o,a,r,l)=>{t=t.filter(((t,e,i)=>i.findIndex((e=>t.startAngle===e.startAngle&&t.stopAngle===e.stopAngle))===e));for(let h=0;h<t.length;h++){const i=ve(t[h].startAngle,t[h].stopAngle,e,n,o,l);At.log("startPointIntersectFound"+i.startPointIntersectFound),At.log("stopPointIntersectFound"+i.stopPointIntersectFound),i.startPointIntersectFound&&i.stopPointIntersectFound&&(t[h].type="polygon_part")}At.log("Circle part triangles"),At.log(JSON.stringify(t));for(let h=0;h<t.length;h++)if("circle_part"===t[h].type)s.heatmapGeometry.push(t[h]);else{At.log(t[h]);let s=[t[h].startPoint];const p=ee(t[h].startPoint.x,t[h].startPoint.y,n.x,n.y);let d=[t[h].stopPoint];const c=ee(t[h].stopPoint.x,t[h].stopPoint.y,n.x,n.y);for(let i=0;i<e.length;i++)Se(t[h].startPoint,t[h].startPoint.wallEquation,t[h].startPointOnCircle,p,e[i],s,n,l),Se(t[h].stopPoint,t[h].stopPoint.wallEquation,t[h].stopPointOnCircle,c,e[i],d,n,l);At.log("startPointRayIntersectPoints "+JSON.stringify(s)),At.log("stopPointRayIntersectPoints "+JSON.stringify(d));const m=Te(s),u=Te(d);if(At.log("startRayClosestPoint "+JSON.stringify(m)),At.log("stopRayClosestPoint "+JSON.stringify(u)),0===m.wallEquation.length&&0===u.wallEquation.length&&m.wallEquation[0]===u.wallEquation[0]||0===m.wallEquation.length&&u.wallEquation.length>0&&u.wallEquation.find((t=>t===m.wallEquation[0]))||0===u.wallEquation.length&&m.wallEquation.length>0&&m.wallEquation.find((t=>t===u.wallEquation[0]))||m.wallEquation.length>0&&u.wallEquation.length>0&&m.wallEquation.filter((t=>u.wallEquation.find((e=>e===t)))).length>0)At.log("Obe leze na istom zidu"),t[h].startPoint=m,t[h].stopPoint=u;else{let e,i,s;m.distanceFromCenter>u.distanceFromCenter?(t[h].startPoint=m,s="stopPoint",i=m,e=u):(t[h].stopPoint=u,s="startPoint",i=u,e=m);const a=ee(e.x,e.y,n.x,n.y);let r,l=1/0;for(let t=0;t<i.wallEquation.length;t++){const e=Kt(i.wallEquation[t],a,"object");if(e){const i=ie(e,n);t>0&&At.log("Vise opcija spustanjaa"+i+" "+l),i<=o&&i<l&&(l=i,r=e)}else At.log("Intersect point kod spustanja ne postoji")}r?t[h][s]=r:At.log("Spustanje tocke exceptionnn")}i.push(de(t[h].startPoint,t[h].stopPoint,n,t[h].startAngle,t[h].stopAngle)),a&&ce(i[i.length-1].pointA,i[i.length-1].pointB,i[i.length-1].pointC,r)}},Ie=(t,e,i,s,n)=>({type:"circle_part",startAngle:t.value,startPoint:{x:t.x,y:t.y,wallEquation:Array.isArray(t.wallEquation)?t.wallEquation:[t.wallEquation],distanceFromCenter:t.distanceFromCenter||ie(s,t)},startPointOnCircle:kt(t.value,s,n,!1),stopAngle:i?Rt(e.value):e.value,stopPoint:{x:e.x,y:e.y,wallEquation:Array.isArray(e.wallEquation)?e.wallEquation:[e.wallEquation],distanceFromCenter:e.distanceFromCenter||ie(s,e)},stopPointOnCircle:kt(i?Rt(e.value):e.value,s,n,!1)}),je=(t,e,i,s,n,o,a)=>{At.log("Kreiraj poligon_part"),At.log("Polygon start point "+JSON.stringify(e)),At.log("Polygon stop point "+JSON.stringify(t));let r=ee(t.x,t.y,e.x,e.y);if(At.log(r),"v"===t.wallEquation.A&&"v"!==r.A||"v"===r.A&&"v"!==t.wallEquation.A||"v"===e.wallEquation.A&&"v"!==r.A||"v"===r.A&&"v"!==e.wallEquation.A||"h"===t.wallEquation.A&&"h"!==r.A||"h"===r.A&&"h"!==t.wallEquation.A||"h"===e.wallEquation.A&&"h"!==r.A||"h"===r.A&&"h"!==e.wallEquation.A||!("v"===r.A&&"v"===t.wallEquation.A&&"v"===e.wallEquation.A&&r.B.toFixed(a)===t.x.toFixed(a)&&r.B.toFixed(a)===e.x.toFixed(a)||"h"===r.A&&"h"===t.wallEquation.A&&"h"===e.wallEquation.A&&r.B.toFixed(a)===t.y.toFixed(a)&&r.B.toFixed(a)===e.y.toFixed(a)||r.A.toFixed(a)===t.wallEquation.A.toFixed(a)&&r.A.toFixed(a)===e.wallEquation.A.toFixed(a)&&r.B.toFixed(a)===t.wallEquation.B.toFixed(a)&&r.B.toFixed(a)===e.wallEquation.B.toFixed(a))){At.log("Kreiraj poligon2 -> nije jednakokracan");let r={type:"polygon_part",startAngle:e.value,startPoint:{x:e.x,y:e.y},stopAngle:t.value<e.value?Rt(t.value):t.value,stopPoint:{x:t.x,y:t.y},polygon:[{x:e.x,y:e.y}],triangles:[]};Ae(r,i,n,o,a),s.heatmapGeometry.push(r)}else At.log("Kreiraj poligon1 jednakokracni trokut -> start/stop tocke leze na istom zidu"),s.heatmapGeometry.push({type:"polygon_part",startAngle:e.value,startPoint:{x:e.x,y:e.y},stopAngle:t.value<e.value?Rt(t.value):t.value,stopPoint:{x:t.x,y:t.y},polygon:[{x:e.x,y:e.y},{x:t.x,y:t.y},{x:n.x,y:n.y}],triangles:[]})},Re=(t,e,i,s,n,o,a,r,l)=>{At.log(" "),At.log(" "),At.log("POZICIJA "+t.position_num),At.log(t),t.heatmapGeometry=[];let h=[];At.log("Soba: "),At.log(t.positionRoom),At.log("Koordinate sobe: "),At.log(t.positionRoom.coordsInsideWithOrphans);let p={count:0},d=[],c=[],m=0,u=[];for(let C=0;C<t.positionRoom.coordsInsideWithOrphans.length-1;C++)u.push(t.positionRoom.coordsInsideWithOrphans[C]),$t(C,t.positionRoom.coordsInsideWithOrphans,c),ne(c[m],e,t,d,p,i,n,a),m++;let g=[];for(let C=0;C<r.length;C++)if(r[C].startRoom&&r[C].startRoom===t.positionRoom&&r[C].endRoom&&r[C].endRoom===t.positionRoom){At.log("Founded double orphan wall for position "+t.position_num),At.log(r[C]);for(let t=0;t<r[C].wall.coords.length;t++){const s=r[C].wall.coords[t],n=r[C].wall.coords[(t+1)%r[C].wall.coords.length],o=Bt(e.x,e.y,s.x,s.y,i),a=Bt(e.x,e.y,n.x,n.y,i);if(o&&a)g.push(te([s,n],0,1,!0));else{let t=te([s,n],0,1,!0);const{intersectPoint1:r,intersectPoint2:l}=se(e,i,t.wallEquation);if(r&&l){let e,i,h=Nt(t.wallNode1,t.wallNode2);Dt(r.x,r.y,h)&&(e={x:r.x,y:r.y}),Dt(l.x,l.y,h)&&(i={x:l.x,y:l.y}),At.log(e),At.log(i),e&&i?g.push(te([e,i],0,1,!0)):(e||i)&&(o||a)&&g.push(te([e||i,o?s:n],0,1,!0))}}}}if(g=g.filter(((t,e,i)=>i.findIndex((e=>Et(t.wallNode1,e.wallNode1)&&Et(t.wallNode2,e.wallNode2)||Et(t.wallNode1,e.wallNode2)&&Et(t.wallNode2,e.wallNode1)))===e)),At.log("Room walls "),At.log(c),At.log("POZICIJA"+t.position_num+"WALL INTERSECTION COUNT "+p.count),d.length>0){d.sort(((t,e)=>t.value-e.value)),At.log("Sorted points direction "),At.log(JSON.stringify(d));let a=null,r=[];for(let t=0;t<d.length;t++)a?d[t].type!==a.type?a=d[t]:r.push(t):a=d[t];r.sort(((t,e)=>e-t));for(let t=0;t<r.length;t++)At.log("Delete point direction"+JSON.stringify(d[r[t]])),d.splice(r[t],1);if(d.length%2===1)At.log("Error pointsDirections "+JSON.stringify(d)),s.push(t);else{let{startPoints:a,stopPoints:r}=be(g,e,n);for(let t=0;t<d.length;t++)"start"===d[t].type?a.push(d[t]):r.push(d[t]);a.sort(((t,e)=>t.value-e.value));let p,m=[];for(let o=0;o<a.length;o++){p&&(p.doubleOrphanNode||a[o].doubleOrphanNode||je(a[o],p,u,t,e,i,n));let l=ye(r,a[o]);if(!l)return s.push(t),void(t.heatmapGeometry=[]);p=l.targetStopPoint,a[o].doubleOrphanNode||l.targetStopPoint.doubleOrphanNode?m.push(Ie(a[o],l.targetStopPoint,l.shouldAdd2PI,e,i)):t.heatmapGeometry.push({type:"circle_part",startAngle:a[o].value,startPoint:{x:a[o].x,y:a[o].y},stopAngle:l.shouldAdd2PI?Rt(l.targetStopPoint.value):l.targetStopPoint.value,stopPoint:{x:l.targetStopPoint.x,y:l.targetStopPoint.y}}),r.splice(r.findIndex((t=>t===l.targetStopPoint)),1)}p.doubleOrphanNode||a[0].doubleOrphanNode||je(a[0],p,u,t,e,i,n),t.heatmapGeometry.sort(((t,e)=>t.startAngle-e.startAngle)),At.log("Heamtap position geomtry before processing"),At.log(t.heatmapGeometry),t.heatmapGeometry.forEach((t=>At.log(t))),Pe(m,g,h,t,e,i,o,l,n),At.log(" "),At.log(" "),At.log("OBRADA CIRCLE PART");for(let s=0;s<t.heatmapGeometry.length;s++){let a=t.heatmapGeometry[s];if("circle_part"===a.type){At.log("AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"),At.log(u);let s=(x=e,A=a.startPoint,f=a.stopPoint,{wallStartBoundaries:Nt(x,A),wallStopBoundaries:Nt(x,f),startPointEquation:ee(x.x,x.y,A.x,A.y),stopPointEquation:ee(x.x,x.y,f.x,f.y)});for(let o=0;o<u.length;o++)if(Bt(T(e.x,n),T(e.y,n),T(u[o].x,n),T(u[o].y,n),i)){let r=jt(u[o],e,n);if(At.log("poINT RADIAN UNUTRA "+r),At.log("Start angle "+a.startAngle),At.log("Stop angle "+a.stopAngle),xe(r,a.startAngle,a.stopAngle,!0)){let r;At.log("Tocka unutar kruznog luka");for(let l=0;l<c.length;l++)(c[l].wallNode1.x===u[o].x&&c[l].wallNode1.y===u[o].y||c[l].wallNode2.x===u[o].x&&c[l].wallNode2.y===u[o].y)&&(r=Nt(c[l].wallNode1,c[l].wallNode2),At.log("Room wall boundaries"),At.log(r),At.log("Provjeri start point"),ae(a,c[l],i,e,t,u,s,r,n,!0),At.log("Provjeri stop point"),ae(a,c[l],i,e,t,u,s,r,n,!1))}}let r,h=!1,p=[],d=[];for(let e=0;e<c.length&&(r=Nt(c[e].wallNode1,c[e].wallNode2),re(c[e],t,s.startPointEquation,s.wallStartBoundaries,r,p,n),re(c[e],t,s.stopPointEquation,s.wallStopBoundaries,r,d,n),2!==p.length&&2!==d.length);e++);2!==p.length&&2!==d.length||(At.log("Mijenjaj circle part s poligonom start:"+a.startAngle+" stop:"+a.stopAngle),h=!0,a.type="polygon_part",a.polygon=[{x:a.startPoint.x,y:a.startPoint.y},{x:a.stopPoint.x,y:a.stopPoint.y},{x:e.x,y:e.y}],a.triangles=[],At.log("New polygon"),At.log(JSON.stringify(a.polygon))),h||o&&(l.beginPath(),l.arc(e.x,e.y,i,a.startAngle,a.stopAngle),l.stroke())}}At.log(" "),At.log(" "),At.log("OBRADA POLIGONA");for(let s=0;s<t.heatmapGeometry.length;s++){let o=t.heatmapGeometry[s];if("polygon_part"===o.type){let s,a;At.log("  "),At.log("  "),At.log("DDDDDDDDDDDDDDDDDDDDDDDD"),At.log("DDDDDDDDDDDDDDDDDDDDDDDD"),At.log(o),At.log("POlygon"),At.log(o.polygon),At.log("POSITIONS COORIDNATES"),At.log(e);for(let t=0;t<o.polygon.length-2;t++)s=o.polygon[t],a=o.polygon[t+1],o.triangles.push(de(s,a,e,0===t?o.startAngle:s.angle,t+1===o.polygon.length-2?o.stopAngle:a.angle,null));At.log("Napravljeni trokutovi"),At.log(o.triangles.length),At.log(o.triangles);for(let i=0;i<o.triangles.length;i++){let s=[];for(let a=0;a<u.length;a++){let r=jt(u[a],e,n);if(At.log("POlygon room point radian "+r),r>o.triangles[i].startAngle&&r<o.triangles[i].stopAngle||Rt(r)>o.triangles[i].startAngle&&Rt(r)<o.triangles[i].stopAngle){if(Rt(r)>=o.triangles[i].startAngle&&Rt(r)<=o.triangles[i].stopAngle&&(r=Rt(r)),Zt(u[a],[o.triangles[i].pointC,o.triangles[i].pointA,o.triangles[i].pointB,o.triangles[i].pointC])){At.log("AAAA Vrh sobe se nalazi unutar trokuta Pozicija "+t.position_num+"tocka "+JSON.stringify(u[a]));const n=ee(e.x,e.y,u[a].x,u[a].y),l=Kt(n,o.triangles[i].pointApointBEquation,"object");s.push({pointAngle:r,intersectionPoint:l})}At.log(s)}}if(s.length>0){s=s.filter((function(t,e,i){return e===i.findIndex((e=>e.pointAngle===t.pointAngle))})),s.sort(((t,e)=>t.pointAngle-e.pointAngle)),At.log("Wall points inside triangle"),At.log(s),o.triangles[i].subTriangles=[];let t,n,a=o.triangles[i].startPoint,r=o.triangles[i].startAngle;for(let l=0;l<s.length;l++)t=s[l].intersectionPoint,n=s[l].pointAngle,At.log("subTriangles push"),At.log("predecessor x "+a.x),At.log("predecessor y "+a.y),At.log("sucessor x "+t.x),At.log("sucessor y "+t.y),o.triangles[i].subTriangles.push(de(a,t,e,r,n,null)),a=t,r=n;t=o.triangles[i].stopPoint,n=o.triangles[i].stopAngle,o.triangles[i].subTriangles.push(de(a,t,e,r,n,null)),At.log(o.triangles[i].subTriangles)}}const r=!1;for(let t=0;t<o.triangles.length;t++){let s,a;if(o.triangles[t].subTriangles&&o.triangles[t].subTriangles.length>0){At.log("RRRRRRRRRRRRRRRRRRR");for(let l=0;l<o.triangles[t].subTriangles.length;l++){At.log(" "),At.log("subTriangles  "+l),s=he(e,o.triangles[t].subTriangles[l].pointA,c,n),At.log(s),At.log(o.triangles[t].subTriangles[l].pointA.x.toFixed(n)),At.log(o.triangles[t].subTriangles[l].pointA.y.toFixed(n));let h=o.triangles[t].subTriangles[l].pointA.x===o.triangles[t].subTriangles[l].startPoint.x&&o.triangles[t].subTriangles[l].pointA.y===o.triangles[t].subTriangles[l].startPoint.y;s&&r&&!le(h,o.triangles[t].subTriangles[l].startAngle,o.triangles[t].subTriangles[l].stopAngle,o.triangles[t].subTriangles[l].pointApointBEquation,e,i,c,n)&&(At.log("Subtriangle, ne treba spu\u0161tat pointA."),s=null),s&&(a=he(e,o.triangles[t].subTriangles[l].pointB,c,n),At.log(a),At.log(o.triangles[t].subTriangles[l].pointB.x.toFixed(n)),At.log(o.triangles[t].subTriangles[l].pointB.y.toFixed(n)),a&&r&&!le(!h,o.triangles[t].subTriangles[l].startAngle,o.triangles[t].subTriangles[l].stopAngle,o.triangles[t].subTriangles[l].pointApointBEquation,e,i,c,n)&&(At.log("Subtriangle, ne treba spu\u0161tat pointB"),a=null)),s&&a&&(At.log("Spustaj obe tocke trokuta"),At.log(o.triangles[t].subTriangles[l].pointA),At.log(o.triangles[t].subTriangles[l].pointB),pe(o.triangles[t].subTriangles[l],s,h,!0),pe(o.triangles[t].subTriangles[l],a,!h,!1),o.triangles[t].subTriangles[l].pointApointBEquation=ee(s.x,s.y,a.x,a.y))}}else{At.log(" "),At.log("Traignel "+t);let s,a,l=!1;s=he(e,o.triangles[t].pointA,c,n),At.log("POint A new point"),At.log(JSON.stringify(s));let h=o.triangles[t].pointA.x===o.triangles[t].startPoint.x&&o.triangles[t].pointA.y===o.triangles[t].startPoint.y;At.log("POint a is start "+h),s&&r&&!le(h,o.triangles[t].startAngle,o.triangles[t].stopAngle,o.triangles[t].pointApointBEquation,e,i,c,n)&&(At.log("Triangle, ne treba spu\u0161tat pointA"),s=null),s&&(l=!0,pe(o.triangles[t],s,h,!0)),a=he(e,o.triangles[t].pointB,c,n),At.log("POint B new point"),At.log(JSON.stringify(a)),a&&r&&!le(!h,o.triangles[t].startAngle,o.triangles[t].stopAngle,o.triangles[t].pointApointBEquation,e,i,c,n)&&(At.log("Triangle, ne treba spu\u0161tat pointB"),a=null),a&&(l=!0,pe(o.triangles[t],a,!h,!1)),l&&(o.triangles[t].pointApointBEquation=ee(o.triangles[t].pointA.x,o.triangles[t].pointA.y,o.triangles[t].pointB.x,o.triangles[t].pointB.y))}}for(let t=0;t<o.triangles.length;t++)if(o.triangles[t].subTriangles&&o.triangles[t].subTriangles.length>0)for(let e=0;e<o.triangles[t].subTriangles.length;e++)At.log("Pushan subtiangle"),At.log(o.triangles[t].subTriangles[e]),h.push(o.triangles[t].subTriangles[e]);else At.log("Pushan cijeli triangle"),At.log(o.triangles[t]),h.push(o.triangles[t])}}h.sort(((t,e)=>t.startAngle-e.startAngle)),At.log("Triangles before filtering"),At.log(h),h=h.filter((function(t,e,i){return e===i.findIndex((e=>e.pointA.x===t.pointA.x&&e.pointA.y===t.pointA.y&&e.pointB.x===t.pointB.x&&e.pointB.y===t.pointB.y&&e.pointC.x===t.pointC.x&&e.pointC.y===t.pointC.y))||(At.log("Pronaden duplikat trokuta. Izbaci duplicirani trokut"),At.log(t),!1)})),h=h.filter(((t,e,i)=>{let s=!0;for(let o=0;o<i.length;o++)if(i[o].startAngle<=t.startAngle&&o!==e&&t.pointC.x===i[o].pointC.x&&t.pointC.y===i[o].pointC.y&&!("v"===t.pointApointBEquation.A&&"v"!==i[o].pointApointBEquation.A||"v"===i[o].pointApointBEquation.A&&"v"!==t.pointApointBEquation.A||"h"===t.pointApointBEquation.A&&"h"!==i[o].pointApointBEquation.A||"h"===i[o].pointApointBEquation.A&&"h"!==t.pointApointBEquation.A)&&("v"===t.pointApointBEquation.A&&"v"===i[o].pointApointBEquation&&t.pointApointBEquation.B.toFixed(n)===i[o].pointApointBEquation.B.toFixed(n)||"h"===t.pointApointBEquation.A&&"h"===i[o].pointApointBEquation&&t.pointApointBEquation.B.toFixed(n)===i[o].pointApointBEquation.B.toFixed(n)||"v"!==t.pointApointBEquation.A&&"h"!==t.pointApointBEquation.A&&"v"!==i[o].pointApointBEquation.B&&"h"!==i[o].pointApointBEquation.B&&t.pointApointBEquation.A.toFixed(n)===i[o].pointApointBEquation.A.toFixed(n)&&t.pointApointBEquation.B.toFixed(n)===i[o].pointApointBEquation.B.toFixed(n))){let e,n,a,r,l;if(l=Nt(i[o].startPoint,i[o].stopPoint),e=l.maxX,n=l.minX,a=l.maxY,r=l.minY,t.startPoint.x>=n&&t.startPoint.x<=e&&t.startPoint.y>=r&&t.startPoint.y<=a&&t.stopPoint.x>=n&&t.stopPoint.x<=e&&t.stopPoint.y>=r&&t.stopPoint.y<=a){At.log("Pronaden trokut unutar drugog. Izbaci trokut"),At.log(t),s=!1;break}}return s}));for(let t=0;t<h.length;t++)for(let e=t+1;e<h.length;e++)if(h[t].pointC.x===h[e].pointC.x&&h[t].pointC.y===h[e].pointC.y&&!("v"===h[t].pointApointBEquation.A&&"v"!==h[e].pointApointBEquation.A||"v"===h[e].pointApointBEquation.A&&"v"!==h[t].pointApointBEquation.A||"h"===h[t].pointApointBEquation.A&&"h"!==h[e].pointApointBEquation.A||"h"===h[e].pointApointBEquation.A&&"h"!==h[t].pointApointBEquation.A)&&("v"===h[t].pointApointBEquation.A&&"v"===h[e].pointApointBEquation&&h[t].pointApointBEquation.B.toFixed(n)===h[e].pointApointBEquation.B.toFixed(n)||"h"===h[t].pointApointBEquation.A&&"h"===h[e].pointApointBEquation&&h[t].pointApointBEquation.B.toFixed(n)===h[e].pointApointBEquation.B.toFixed(n)||"v"!==h[t].pointApointBEquation.A&&"h"!==h[t].pointApointBEquation.A&&"v"!==h[e].pointApointBEquation.A&&"h"!==h[e].pointApointBEquation.A&&h[t].pointApointBEquation.A.toFixed(n)===h[e].pointApointBEquation.A.toFixed(n)&&h[t].pointApointBEquation.B.toFixed(n)===h[e].pointApointBEquation.B.toFixed(n))){let i,s,n,o,a;a=Nt(h[t].startPoint,h[t].stopPoint),i=a.maxX,s=a.minX,n=a.maxY,o=a.minY,h[t].startPoint.x>=s&&h[t].startPoint.x<=i&&h[t].startPoint.y>=o&&h[t].startPoint.y<=n&&!(h[t].stopPoint.x>=s&&h[t].stopPoint.x<=i&&h[t].stopPoint.y>=o&&h[t].stopPoint.y<=n)&&(At.log("Pronaden presjek trokutova"),At.log(h[t]),At.log(h[e]),pe(h[t],h[e].startPoint,!1,!1),h[t].stopAngle=h[e].startAngle,h.splice(e,0,de(h[e].startPoint,h[t].stopPoint,h[t].pointC,h[e].startAngle,h[t].stopAngle,h[t].pointApointBEquation)),pe(h[e],h[t].stopPoint,!0,!0),h[e].startAngle=h[t].stopAngle)}if(At.log("Triangles after filtering"),At.log(h),o)for(let t=0;t<h.length;t++)At.log("Iscrtavam trokut"),At.log(h[t]),ce(h[t].pointA,h[t].pointB,h[t].pointC,l)}}else if(g.length>0){let{startPoints:a,stopPoints:r}=be(g,e,n);a.sort(((t,e)=>t.value-e.value)),At.log(a),At.log(JSON.stringify(r));let p=[];At.log("Prije for petlje");for(let n=0;n<a.length;n++){At.log("Unutar for petlje"),At.log("Start points index "+n),At.log("Ispisao indeks unutar for petlje");let o=ye(r,a[n]);if(!o)return s.push(t),void(t.heatmapGeometry=[]);p.push(Ie(a[n],o.targetStopPoint,o.shouldAdd2PI,e,i)),r.splice(r.findIndex((t=>t===o.targetStopPoint)),1)}At.log("Heatmap geometry nakon sparivanja"),At.log(JSON.stringify(p)),Pe(p,g,h,t,e,i,o,l,n),At.log("Double orphan inside final heatmap geometry"),At.log(t.heatmapGeometry),At.log(h)}else if(p.count>0){if(At.log("Prostorija lezi unutar KRUGA"),t.heatmapGeometry.push({type:"polygon_whole_room",polygon:t.positionRoom.coordsInsideWithOrphans}),o){l.beginPath(),l.moveTo(t.heatmapGeometry[0].polygon[0].x,t.heatmapGeometry[0].polygon[0].y);for(let e=1;e<t.heatmapGeometry[0].polygon.length-1;e++)l.lineTo(t.heatmapGeometry[0].polygon[e].x,t.heatmapGeometry[0].polygon[e].y);l.closePath(),l.stroke()}}else t.heatmapGeometry.push({type:"circle_part",startAngle:0,stopAngle:2*Math.PI}),At.log("Kruznica se ne sijece s nijednim pravcem"),o&&(l.beginPath(),l.arc(e.x,e.y,i,0,2*Math.PI),l.stroke());var x,A,f;if(1===t.heatmapGeometry.length&&"polygon_whole_room"===t.heatmapGeometry[0].type)At.log("Polygon whole room");else if(h.length>0){h=h.map((t=>({type:"triangle",startAngle:t.startAngle,stopAngle:t.stopAngle,polygon:[{x:t.pointC.x,y:t.pointC.y},{x:t.pointA.x,y:t.pointA.y},{x:t.pointB.x,y:t.pointB.y},{x:t.pointC.x,y:t.pointC.y}]})));for(let e=0;e<t.heatmapGeometry.length;e++)"circle_part"===t.heatmapGeometry[e].type&&h.push({type:"circle_part",startAngle:t.heatmapGeometry[e].startAngle,stopAngle:t.heatmapGeometry[e].stopAngle});h.sort(((t,e)=>t.startAngle-e.startAngle)),t.heatmapGeometry=h}else t.heatmapGeometry=t.heatmapGeometry.map((t=>({type:"circle_part",startAngle:t.startAngle,stopAngle:t.stopAngle}))),t.heatmapGeometry.sort(((t,e)=>t.startAngle-e.startAngle))},Me=(t,e,i,s,n,o,a,r,l,h,p,d)=>{let c=s.getContext("2d"),m=i,u=i,g=c.createRadialGradient(m,u,i*(1-.7),m,u,i);g.addColorStop(0,"rgba(0,0,0,1)"),g.addColorStop(1,"rgba(0,0,0,0)"),c.fillStyle=g,c.fillRect(0,0,2*i,2*i);let x,A,f,C=c.getImageData(0,0,2*i,2*i),b=C.data;for(let P=0;P<=2*i;P++)for(let s=0;s<=2*i;s++)x=P-i,A=s-i,x*x+A*A<i*i&&(f=_t({x:Math.floor(P+e.x-i),y:Math.floor(s+e.y-i)},a),f.id!==t.positionRoom.id&&De(b,4*(2*s*i+P)));C.data.set(b),c.putImageData(C,0,0);let y=e.x-o.minX,w=e.y-o.minY,v=Yt(t,r,l,h,p,d);v=v<.25&&v>=.2?1.25*v:v,v=v<.2&&v>=.12?1.5*v:v,v=v<.12?.12:v;let S=Math.floor(y-i),T=Math.floor(w-i);if(!n)return{alphaCanvasGlobalAlpha:v,squareStartX:S,squareStartY:T};n.globalAlpha=v,n.drawImage(s,S,T)},Be=(t,e,i)=>{const s=4*i;t[e]=ht[s],t[e+1]=ht[s+1],t[e+2]=ht[s+2],t[e+3]=i},De=(t,e)=>{t[e]=0,t[e+1]=0,t[e+2]=0,t[e+3]=0},Le=(t,e,i,s,n,o,a)=>{let r,l,h,p,d,c,m,u=Math.floor(e.x-i),g=Math.floor(e.y-i);for(let x=u;x<=u+2*i;x++)for(let u=g;u<=g+2*i;u++)if(!(x<s.minX||x>s.maxX||u<s.minY||u>s.maxY))if(d=4*((u-s.minY)*s.width+(x-s.minX)),c=o[d+3],r=x-e.x,l=u-e.y,r*r+l*l<i*i)if(1===t.heatmapGeometry.length&&"polygon_whole_room"===t.heatmapGeometry[0].type)Zt({x:x,y:u},t.heatmapGeometry[0].polygon)?(a[d+3]||Be(a,d,c),n["".concat(x).concat(u)]=!0):n["".concat(x).concat(u)]||De(a,d);else{p=!1,h=(Math.atan2(l,r)+ft)%ft;for(let e=0;e<t.heatmapGeometry.length;e++)m=t.heatmapGeometry[e].stopAngle-ft,h>=t.heatmapGeometry[e].startAngle&&h<=t.heatmapGeometry[e].stopAngle?("circle_part"===t.heatmapGeometry[e].type||Zt({x:x,y:u},t.heatmapGeometry[e].polygon))&&(a[d+3]||Be(a,d,c),p=!0,n["".concat(x).concat(u)]=!0):t.heatmapGeometry[e].stopAngle>ft&&h>=0&&h<=m&&("circle_part"===t.heatmapGeometry[e].type||Zt({x:x,y:u},t.heatmapGeometry[e].polygon))&&(a[d+3]||Be(a,d,c),p=!0,n["".concat(x).concat(u)]=!0);p||n["".concat(x).concat(u)]||De(a,d)}else n["".concat(x).concat(u)]||De(a,d)},Ne=t=>({unProcessedHeatmapGeometryPositionIndex:t.findIndex((t=>!1===t.heatmapGeometryProcessed)),inProcessHeatmapGeometryExists:t.find((t=>null===t.heatmapGeometryProcessed)),unProcessedDrawToAlphaCanvasPositionIndex:t.findIndex((t=>!1===t.positionToAlphaCanvasProcessed)),inProcessDrawToAlphaCanvasExists:t.find((t=>null===t.positionToAlphaCanvasProcessed))}),ke=t=>{for(let e=0;e<t.length;e++)if(!t[e])return!1;return!0},Oe=(t,e,i,s)=>(e-=s.minX,i-=s.minY,"top_left"===t?{directionXSign:1,directionYSign:1,width:e,height:i,cornerXRelative:0,cornerYRelative:0,sourceXRelative:e-1,sourceYRelative:i-1,areaOffsetX:0,areaOffsetY:0}:"top_right"===t?{directionXSign:-1,directionYSign:1,width:s.width-e,height:i,cornerXRelative:s.width-e-1,cornerYRelative:0,sourceXRelative:0,sourceYRelative:i-1,areaOffsetX:e,areaOffsetY:0}:"bottom_left"===t?{directionXSign:1,directionYSign:-1,width:e,height:s.height-i,cornerXRelative:0,cornerYRelative:s.height-i-1,sourceXRelative:e-1,sourceYRelative:0,areaOffsetX:0,areaOffsetY:i}:{directionXSign:-1,directionYSign:-1,width:s.width-e,height:s.height-i,cornerXRelative:s.width-e-1,cornerYRelative:s.height-i-1,sourceXRelative:0,sourceYRelative:0,areaOffsetX:e,areaOffsetY:i}),Fe=t=>t.area>0?t.area:Math.sign(t.realArea)>0&&Math.sign(t.outsideArea)>0?Math.min(t.realArea,t.outsideArea):Math.sign(t.realArea)>0?t.realArea:Math.sign(t.outsideArea)>0?t.outsideArea:null,We=function(t,e){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],n=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return("metric"!==e||arguments.length>7&&void 0!==arguments[7]&&arguments[7])&&(t=M(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"meter",arguments.length>3&&void 0!==arguments[3]?arguments[3]:"feet")),t=T(t,i),s&&(n&&(t+=" "),t+="metric"===e?"m":"ft"),t},He=function(t,e){return("metric"!==e||arguments.length>4&&void 0!==arguments[4]&&arguments[4])&&(t=M(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"feet",arguments.length>3&&void 0!==arguments[3]?arguments[3]:"meter")),t},Ge=function(t,e){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],n=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return("metric"!==e||arguments.length>7&&void 0!==arguments[7]&&arguments[7])&&(t=M(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"square meter",arguments.length>3&&void 0!==arguments[3]?arguments[3]:"square foot")),t=T(t,i),s&&(n&&(t+=" "),t+="metric"===e?"m\xb2":"ft\xb2"),t};class Ee extends s.Component{render(){return(0,u.jsxs)("header",{className:"layout__header",children:[this.props.title&&(0,u.jsx)("h1",{className:"layout__title",children:this.props.title}),this.props.controls&&(0,u.jsx)("div",{className:"layout__controls",children:this.props.controls})]})}}const Ve=Ee,ze=t=>{let{children:e,title:i,controls:s,responseError:n,indoorMapping:o=!1,hideLayoutHeader:a=!1}=t;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("main",{className:"layout container ".concat("Map"===i?"fieldmap-container":""," ").concat(o?"layout-indoormapping":""),children:[!a&&(0,u.jsx)(Ve,{title:i,controls:!w(n)&&s}),w(n)?v(n):e]})})};class qe extends s.PureComponent{render(){const{className:t,onClick:e,children:i,type:s,disabled:n,disabledNative:o,style:a={}}=this.props;return(0,u.jsx)("button",{className:o?"":"button ".concat(s?"button--type-".concat(s):""," ").concat(n?"button-disabled":""," ").concat(t||""),onClick:n||o?null:e,disabled:o,style:a,children:i})}}const Ue=qe;i(5807);s.Component;var Je=i(9150);class Xe extends s.Component{render(){return(0,u.jsxs)("div",{className:"screen-centered response-error-container",children:[(0,u.jsx)("div",{className:"popup-icon-container",children:(0,u.jsx)(Je.Z,{className:"popup-alert-icon"})}),(0,u.jsx)("p",{className:"error-message",children:this.props.message})]})}}const Ye=Xe;class Ze extends s.Component{render(){return"403"===this.props.responseError?(0,u.jsx)(Ye,{message:"You do not have access to this site."}):"401"===this.props.responseError?(0,u.jsx)(Ye,{message:"Session expired, please log in again."}):!this.props.errorMessageCheckDisabled&&w(this.props.responseError)?this.props.contextError?(0,u.jsx)("div",{style:{padding:"1rem"},children:v(this.props.responseError)}):v(this.props.responseError):(0,u.jsx)(s.Fragment,{children:this.props.children})}}const Qe=Ze;var Ke=i(4827),_e=i(1317);class $e extends s.Component{constructor(){super(),this.state={displayMessage:!1},this.infoIconRef=s.createRef()}render(){return(0,u.jsxs)("div",{ref:this.infoIconRef,className:"info-icon-container",style:{...this.props.infoContainerStyles},children:[(0,u.jsx)(Ke.Z,{className:"info-icon",onMouseOver:()=>{if(!this.state.displayMessage){if(this.props.indoorPanelExplanationBox){let t=this.infoIconRef.current.getBoundingClientRect();_e.log(t),this.props.indoorPanelExplanationBox.current.style.top=t.top+"px",this.props.indoorPanelExplanationBox.current.style.left=t.left+20+"px",this.props.indoorPanelExplanationBox.current.innerHTML=this.props.infoText,this.props.indoorPanelExplanationBox.current.style.display="block"}this.setState({displayMessage:!0})}},onMouseLeave:()=>{this.state.displayMessage&&(this.props.indoorPanelExplanationBox&&(this.props.indoorPanelExplanationBox.current.style.display="none"),this.setState({displayMessage:!1}))}}),this.props.indoorPanelExplanationBox?null:(0,u.jsx)("div",{className:"explanation-info-box ".concat(this.props.persistExplanationBox?"explanation-box-persist":""),style:{display:this.state.displayMessage||this.props.persistExplanationBox?"inline-block":"none",...this.props.explanationInfoBoxStyles},children:this.props.infoText})]})}}const ti=$e;class ei extends s.Component{constructor(t){super(t),this.setInitialValue=t=>this.initialValue=t,this.setValue=t=>this.inputRef.current.value=t,this.getValue=()=>this.inputRef.current.value,this.setRangeValues=(t,e)=>{this.inputRef.current.setAttribute("min",t),this.inputMin=t,this.inputRef.current.setAttribute("max",e),this.inputMax=e},this.setValueInsideInterval=t=>(this.props.allowEmpty&&""===t||(t>this.inputMax?t=this.inputMax:t<this.inputMin&&(t=this.inputMin)),t),this.onInputChange=t=>{let e=T(t.target.value,this.decimalPrecision),i=t.target.value,s=!1;(!isNaN(e)||this.props.allowEmpty&&""===i)&&(i=this.props.allowEmpty&&""===i?i:e,i===this.setValueInsideInterval(i)&&(s=!0)),this.inputRef.current.value=i,this.setState({isInvalid:!s},(()=>{this.props.callOnlyOnBlur||!s||!this.props.onInputValueChanged||this.props.checkInputValueChangeBeforeCall&&this.inputValueChangedCalledWithValue===i||(this.inputValueChangedCalledWithValue=i,this.props.onInputValueChanged())}))},this.onInputBlur=t=>{let e=T(t.target.value,this.decimalPrecision),i=this.initialValue;(!isNaN(e)||this.props.allowEmpty&&""===t.target.value)&&(i=this.props.allowEmpty&&""===t.target.value?t.target.value:e,i=this.setValueInsideInterval(i)),this.inputRef.current.value=i,this.setState({isInvalid:!1},(()=>{!this.props.onInputValueChanged||this.props.checkInputValueChangeBeforeCall&&this.inputValueChangedCalledWithValue===i||(this.inputValueChangedCalledWithValue=i,this.props.onInputValueChanged())}))},this.state={isInvalid:!1},this.inputMin=t.inputMin,this.inputMax=t.inputMax,this.initialValue=void 0!==t.defaultValue?t.defaultValue:t.inputMin,this.decimalPrecision=-Math.log10(t.inputStep),this.inputValueChangedCalledWithValue=null,this.inputRef=s.createRef(),this.setValue=this.setValue.bind(this),this.getValue=this.getValue.bind(this),this.setRangeValues=this.setRangeValues.bind(this),this.setInitialValue=this.setInitialValue.bind(this),this.setValueInsideInterval=this.setValueInsideInterval.bind(this),this.onInputChange=this.onInputChange.bind(this),this.onInputBlur=this.onInputBlur.bind(this)}componentDidMount(){this.props.defaultValue&&(this.inputRef.current.value=this.props.defaultValue)}render(){return(0,u.jsx)("input",{ref:this.inputRef,type:"number",disabled:this.props.disabled,min:this.inputMin,max:this.inputMax,step:this.props.inputStep,placeholder:this.props.placeholder||"",title:this.props.title||"",style:this.props.inputStyle||{},lang:"en",className:"form-control input ".concat(this.state.isInvalid?"is-invalid":""," ").concat(this.props.hideNumberArrows?"hide-number-arrows":""," ").concat(this.props.disabled?"form-disabled-input":""),onChange:this.onInputChange,onBlur:this.onInputBlur,onKeyDown:t=>"Enter"===t.key&&this.props.callOnlyOnBlur&&t.target.blur()})}}const ii=ei;var si=i(1317);class ni extends s.Component{constructor(t){super(t),this.setInitialValue=t=>this.initialValue=t,this.setValue=t=>this.setState({value:t}),this.getValue=()=>this.state.value,this.setRangeValues=(t,e)=>{this.setState({min:t,max:e})},this.setValueInsideInterval=t=>(this.props.allowEmpty&&""===t||(t>this.state.max?t=this.state.max:t<this.state.min&&(t=this.state.min)),t),this.onInputChange=t=>{let e=T(t.target.value,this.decimalPrecision),i=t.target.value,s=!1;(!isNaN(e)||this.props.allowEmpty&&""===i)&&(i=this.props.allowEmpty&&""===i?i:e,i===this.setValueInsideInterval(i)&&(s=!0)),this.setState({value:i,isInvalid:!s},(()=>{!this.props.callOnlyOnBlur&&s&&this.props.onInputValueChanged&&this.inputValueChangedCalledWithValue!==i&&(this.inputValueChangedCalledWithValue=i,this.props.onInputValueChanged(this.state.value))}))},this.onInputBlur=t=>{let e=T(t.target.value,this.decimalPrecision),i=this.initialValue;(!isNaN(e)||this.props.allowEmpty&&""===t.target.value)&&(i=this.props.allowEmpty&&""===t.target.value?t.target.value:e,i=this.setValueInsideInterval(i)),this.setState({value:i,isInvalid:!1},(()=>{(this.props.callOnlyOnBlur||this.props.onInputValueChanged&&this.inputValueChangedCalledWithValue!==i)&&(this.inputValueChangedCalledWithValue=i,this.props.onInputValueChanged(this.state.value))}))},this.state={value:t.value||"",min:t.inputMin,max:t.inputMax,isInvalid:!1},this.decimalPrecision=-Math.log10(t.inputStep),this.initialValue=void 0!==t.value?t.value:t.inputMin,this.inputValueChangedCalledWithValue=null,this.setValue=this.setValue.bind(this),this.getValue=this.getValue.bind(this),this.setRangeValues=this.setRangeValues.bind(this),this.setInitialValue=this.setInitialValue.bind(this),this.setValueInsideInterval=this.setValueInsideInterval.bind(this),this.onInputChange=this.onInputChange.bind(this),this.onInputBlur=this.onInputBlur.bind(this)}render(){si.log("Is invalid "+this.state.isInvalid);const{value:t,min:e,max:i,isInvalid:s}=this.state;return(0,u.jsx)("input",{type:"number",min:e,max:i,step:this.props.inputStep,placeholder:this.props.placeholder||"",title:this.props.title||"",style:this.props.inputStyle||{},lang:"en",className:"form-control input ".concat(s?"is-invalid":""," ").concat(this.props.hideNumberArrows?"hide-number-arrows":""," ").concat(this.props.inputClasses||""),value:this.props.usePropsValue?this.props.value:t,onChange:this.onInputChange,onBlur:this.onInputBlur,onKeyDown:t=>"Enter"===t.key&&this.props.callOnlyOnBlur&&t.target.blur()})}}const oi=ni;var ai=i(648);class ri extends s.Component{render(){return(0,u.jsxs)("div",{className:"screen-centered-tabs-and-close-button-modal ".concat(this.props.className||""),style:this.props.modalStyles||{},children:[(0,u.jsx)("div",{className:"tab-labels-container",children:this.props.modalTabs||(0,u.jsx)("div",{className:"keep-height",children:"Keep height"})}),(0,u.jsx)("div",{className:"close-button-container",onClick:this.props.onCloseModalClick,children:(0,u.jsx)(ai.Z,{})}),this.props.children]})}}const li=ri;class hi extends s.Component{render(){return(0,u.jsxs)(ui,{containerRef:this.props.formGroupRef||null,containerClasses:this.props.containerClasses,containerStyle:this.props.formGroupStyle,label:this.props.label,labelStyle:this.props.labelStyle,labelClasses:this.props.labelClasses,children:[this.props.inputLoading?(0,u.jsx)("div",{children:(0,u.jsx)(Ai,{center:!0,noMargin:!0,spinnerStyle:{width:20,height:20}})}):(0,u.jsx)(s.Fragment,{children:this.props.selectInput?this.props.selectBoxComboInput?(0,u.jsx)(Ii,{item:this.props.item,handleChange:this.props.onChange}):(0,u.jsx)(Ri,{ref:this.props.selectInputRef||null,fullWidth:this.props.fullWidth,item:this.props.item,handleChange:this.props.onChange}):(0,u.jsx)("input",{ref:this.props.inputRef||null,className:"form-control input ".concat(this.props.inputClasses||""," ").concat(this.props.error?"is-invalid":""," ").concat(this.props.disabled?"form-disabled-input":""),style:this.props.inputStyle||{},value:this.props.value,disabled:this.props.disabled,type:this.props.type||"text",placeholder:this.props.placeholder||"",onChange:this.props.onChange&&this.props.onChange(this.props.item),accept:this.props.accept})}),this.props.error&&(0,u.jsx)("div",{className:"form-control feedback ".concat(this.props.errorClasses||""),children:this.props.error}),this.props.bellowInputElements&&this.props.bellowInputElements]})}}const pi=hi;class di extends s.Component{render(){return(0,u.jsxs)("div",{className:"checked-input-container ".concat(this.props.disabled?"disabled":""," ").concat(this.props.containerClasses||""),children:[(0,u.jsx)("input",{ref:this.props.inputRef||null,title:this.props.title,type:"checkbox",onChange:this.props.onChange,defaultChecked:this.props.defaultChecked,disabled:this.props.disabled,checked:this.props.checked}),this.props.label&&(0,u.jsx)("label",{children:this.props.label}),this.props.infoLabel&&(0,u.jsxs)("div",{className:"label-info-box-container",children:[(0,u.jsx)("label",{children:this.props.infoLabelTitle}),(0,u.jsx)(ti,{infoText:this.props.infoText,explanationInfoBoxStyles:this.props.explanationInfoBoxStyles||{}})]})]})}}const ci=di;class mi extends s.Component{render(){return(0,u.jsxs)("div",{ref:this.props.containerRef||null,className:"form-group ".concat(this.props.containerClasses||""),style:this.props.containerStyle||{},children:[this.props.label&&(0,u.jsx)("label",{style:this.props.labelStyle||{},className:"label form-control ".concat(this.props.labelClasses||""),children:this.props.label}),this.props.children]})}}const ui=mi;class gi extends s.Component{constructor(){super(),this.closeDropdownMenu=()=>this.actionButtonRef.current.nextSibling.classList.remove("show"),this.setValue=t=>{this.actionButtonRef.current.innerHTML=t+' <span class="caret"></span>',this.setState({selectedValue:t}),this.closeDropdownMenu()},this.onActionButtonClick=t=>{t.target.nextSibling.classList.toggle("show")},this.handleClickOutside=t=>{this.props.disableCloseOnOutsideClick||this.containerRef.current&&!this.containerRef.current.contains(t.target)&&this.closeDropdownMenu()},this.state={selectedValue:null},this.onActionButtonClick=this.onActionButtonClick.bind(this),this.setValue=this.setValue.bind(this),this.handleClickOutside=this.handleClickOutside.bind(this),this.closeDropdownMenu=this.closeDropdownMenu.bind(this),this.actionButtonRef=s.createRef(),this.containerRef=s.createRef()}componentDidMount(){document.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){document.removeEventListener("mousedown",this.handleClickOutside)}render(){return(0,u.jsxs)("div",{ref:this.containerRef,className:"select-custom-mini-container",children:[(0,u.jsx)("button",{ref:this.actionButtonRef,className:"btn btn-default form-control input",onClick:this.onActionButtonClick}),(0,u.jsx)("ul",{ref:this.props.dropdownMenuRef||null,className:"list-unstyled select-custom-mini-dropdown-menu",children:this.props.listItems.map(((t,e)=>(0,u.jsx)("li",{className:"".concat(t===this.state.selectedValue?"selected":""),onClick:t=>this.props.onListItemClick(t,e),children:t},t)))})]})}}const xi=gi,Ai=t=>{let{center:e,screenCenter:i,spinnerHolderStyle:s={},spinnerStyle:n={},noMargin:o}=t;return(0,u.jsx)("div",{style:{...s,textAlign:e?"center":"auto"},className:"spinner-holder ".concat(i?"screen-centered":""," ").concat(o?"spinner-holder-no-margin":""),children:(0,u.jsx)("div",{style:n,className:"spinner"})})};var fi=i(8039),Ci=i(6508),bi=i(3453),yi=i(8364),wi=i(1504),vi=i(3702);const Si=(0,vi.ZP)({overrides:{MuiPopover:{root:{zIndex:"1402!important"}},MuiSelect:{root:{"&:$focus":{border:"2px solid #19ab7f !important"}}},MuiInput:{underline:{"&:after":{borderBottomColor:"#19ab7f !important"},"&:before":{borderBottomColor:"#ffffff !important"}}},MuiFormLabel:{root:{"&$focused":{color:"#19ab7f !important"}},focused:{}},MuiIconButton:{colorSecondary:{"&:hover":{backgroundColor:"rgba(27, 215, 65, 0.04)"}}},MuiCheckbox:{colorSecondary:{color:"#19ab7f !important"}},MuiChecked:{root:{"&:$hover":{backgroundColor:"#transparent !important"}}},MuiTypography:{root:{fontSize:"0.875rem !important"}},MuiListItemText:{root:{margin:"0 !important",textAlign:"center"}},MuiMenu:{paper:{maxHeight:"50vh"}}}});var Ti=i(7664);class Pi extends s.Component{constructor(t){super(t),this.handleSelectChange=t=>{"Other..."===t.target.value?this.state.showInputBox||(this.inputRef.current.focus(),t.target.value="",this.setState({showInputBox:!0,inputValue:"",selectValue:this.props.item.options[this.props.item.options.length-1]},(()=>this.props.handleChange(this.props.item)(t)))):this.setState({showInputBox:!1},(()=>this.handleChangeSelect(t)))},this.onInputChange=()=>t=>this.handleChangeInput(t),this.handleChangeInput=t=>{t.persist(),this.setState({inputValue:t.target.value},(()=>this.props.handleChange(this.props.item)(t)))},this.handleChangeSelect=t=>{t.persist(),this.setState({selectValue:t.target.value},(()=>this.props.handleChange(this.props.item)(t)))},this.state={selectValue:t.item.options.find((e=>e===t.item.value))||""===t.item.value?t.item.value:t.item.options[t.item.options.length-1],inputValue:t.item.options.find((e=>e===t.item.value))||""===t.item.value?"":t.item.value||"",showInputBox:!t.item.options.find((e=>e===t.item.value))&&""!==t.item.value},this.inputRef=s.createRef(),this.handleSelectChange=this.handleSelectChange.bind(this),this.onInputChange=this.onInputChange.bind(this),this.handleChangeInput=this.handleChangeInput.bind(this),this.handleChangeSelect=this.handleChangeSelect.bind(this)}render(){return(0,u.jsx)(Ti.Z,{theme:Si,children:(0,u.jsxs)("div",{children:[(0,u.jsx)(wi.Z,{style:{width:"50%",border:"1px solid #e2e7f1"},children:(0,u.jsx)(bi.Z,{MenuProps:{getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"}},labelId:"select-device-label",value:this.state.selectValue,renderValue:t=>(0,u.jsx)(Ci.Z,{children:t}),onChange:t=>this.handleSelectChange(t),children:this.props.item.options.map((t=>(0,u.jsxs)(yi.Z,{value:t,children:[(0,u.jsx)(fi.Z,{checked:t===this.state.selectValue,style:{visibility:t===this.state.selectValue?"visible":"hidden"}}),(0,u.jsx)(Ci.Z,{children:t})]},t)))})}),(0,u.jsx)(pi,{formGroupRef:this.inputRef,formGroupStyle:{width:"50%",display:this.state.showInputBox?"block":"none"},placeholder:"Type name",value:this.state.inputValue,error:this.props.item.error,onChange:this.onInputChange})]})})}}const Ii=Pi;class ji extends s.Component{constructor(t){super(t),this.onChange=t=>{t.persist(),this.setState({value:t.target.value},(()=>this.props.handleChange(this.props.item)(t)))},this.resetValue=()=>{this.setState({value:""})},this.state={value:t.item.value},this.onChange=this.onChange.bind(this),this.resetValue=this.resetValue.bind(this)}render(){return(0,u.jsx)(Ti.Z,{theme:Si,children:(0,u.jsx)("div",{children:(0,u.jsx)(wi.Z,{style:{width:this.props.fullWidth?"100%":"50%",border:"1px solid #e2e7f1"},children:(0,u.jsx)(bi.Z,{MenuProps:{getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"}},labelId:"select-device-label",defaultValue:"",value:this.state.value,renderValue:t=>(0,u.jsx)(Ci.Z,{children:t.name||t}),onChange:t=>this.onChange(t),children:this.props.item.options.map((t=>(0,u.jsxs)(yi.Z,{value:t,children:[(0,u.jsx)(fi.Z,{checked:(t.value||t)===(this.state.value.value||this.state.value),style:{visibility:(t.value||t)===(this.state.value.value||this.state.value)?"visible":"hidden"}}),(0,u.jsx)(Ci.Z,{children:t.name||t})]},t.value||t)))})})})})}}const Ri=ji;var Mi=i(7412);const Bi=document.URL+"static/media/nunito_normal.d15a0271.ttf",Di=document.URL+"static/media/nunito_bold.57622024.ttf";Mi.Zx.register({family:"Nunito",fonts:[{src:Bi,fontWeight:400},{src:Di,fontWeight:700}]});const Li=Mi.mM.create({pageWrapable:{padding:"40 0"},pageGeneralLogoImage:{height:40,width:164,marginTop:-15},pageContainer:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",height:"100%",fontFamily:"Nunito",fontWeight:400,color:"#4b4b5a"},pageContentContainer:{width:"100%",flexGrow:1,flexShrink:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},pageContentContainerGeneral:{width:"100%",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",padding:"0 40",color:"#000000"},reportTitle:{fontSize:25,fontWeight:700,margin:"5 auto"},reportSubTitle:{fontSize:18,fontWeight:700,width:"100%",textAlign:"center"},logo:{height:40,width:40,margin:"0 auto"},boldText:{fontWeight:700},footerPageContainer:{height:40,width:"100%",padding:"5 0",textAlign:"right",flexShrink:0,flexGrow:0},footerPageContainerFixed:{position:"absolute",bottom:0,fontFamily:"Nunito"},footerLogo:{height:30,width:123,margin:"0 auto"},pageNumber:{position:"absolute",lineHeight:1,fontSize:10,fontWeight:"bold",right:30,top:10},emptyRowLarge:{height:20},emptyRowMedium:{height:15},generalInfoRow:{fontSize:10,marginTop:5,marginBottom:5,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},generalInfoValueContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start"},generalInfoPropertyValue:{marginLeft:30,marginTop:5,marginBottom:5,textAlign:"left"},generalInfoPropertyName:{textAlign:"left",margin:"5 0"},listContainer:{fontSize:10},listItemContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",margin:"2 0",paddingLeft:5},listItemValue:{marginLeft:5,fontWeight:700},analyticsBoxContainer:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap",marginTop:10,marginBottom:10,width:"100%"},overviewBoxContainer:{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700},overviewBoxDataContainer:{minWidth:220,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly",flexShrink:0,flexWrap:"nowrap",padding:15,borderTopLeftRadius:11,borderTopRightRadius:11,borderBottomRightRadius:11,borderBottomLeftRadius:11,marginRight:25},overviewBoxContentValue:{padding:5,fontSize:24,textAlign:"center"},overviewBoxContentDescription:{padding:5,fontSize:12,textTransform:"uppercase",textAlign:"center"},periodSection:{width:"100%",marginBottom:0,textAlign:"center",fontSize:15,fontWeight:700},deviceIconContainer:{minWidth:"15%",marginRight:"auto",marginLeft:"auto",marginTop:10,marginBottom:10,display:"flex",flexDirection:"row",position:"relative",alignItems:"center",justifyContent:"space-around",backgroundColor:"#4ddd9f",borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomRightRadius:8,borderBottomLeftRadius:8,padding:6,fontWeight:700},deviceIconContent:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center",padding:5,textAlign:"center"},deviceIconContentTextContainer:{display:"flex",flexDirection:"column",alignItems:"center"},deviceIconContentValue:{margin:0,fontSize:22,color:"#ffffff"},deviceIconContentName:{textTransform:"uppercase",color:"#ffffff"},timelineContainer:{display:"flex",flexDirection:"row",maxWidth:"100%",margin:"0 auto",alignItems:"flex-start",fontWeight:700},timelineDateContainer:{flexGrow:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},timelineDateParagraph:{fontSize:10},timelineCircle:{height:18,width:18,borderTopLeftRadius:"50%",borderTopRightRadius:"50%",borderBottomRightRadius:"50%",borderBottomLeftRadius:"50%",backgroundColor:"#19ab7f"},startDateTopContainer:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},connectorPart:{width:"50%",height:3,backgroundColor:"#19ab7f"},middleConnector:{height:3,backgroundColor:"#19ab7f",flexGrow:1,flexShrink:1,paddingTop:8},endDateTopContainer:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},analyticsWinnerLabel:{marginTop:10,borderTopStyle:"solid",borderTopColor:"#f2f2f2",borderTopWidth:2,fontWeight:700,fontSize:24,textAlign:"center"},analyticsWinnerText:{marginTop:10,marginLeft:"auto",marginRight:"auto"},analyticsWinnerIconContainer:{display:"flex",flexDirection:"row",justifyContent:"center",marginTop:10},analyticsThroneMainContainer:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"flex-end",maxWidth:450,marginLeft:"auto",marginRight:"auto"},thronePlaceContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flexBasis:"33.33%",flexGrow:1,flexShrink:1},throneWinnerLabel:{margin:"6 0",fontSize:20,textAlign:"center",fontWeight:700,lineHeight:1.1},firstPlace:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:36,fontWeight:700,color:"#ffffff",backgroundColor:"#ffd700",width:"100%",minHeight:90,flexGrow:1,flexShrink:0,borderTopLeftRadius:8,borderTopRightRadius:8},secondPlace:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:36,fontWeight:700,color:"#ffffff",backgroundColor:"#b4b4b4",width:"100%",minHeight:75,flexGrow:1,flexShrink:0,borderBottomLeftRadius:8,borderTopLeftRadius:8},thirdPlace:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:36,fontWeight:700,color:"#ffffff",backgroundColor:"#a77044",width:"100%",minHeight:60,flexGrow:1,flexShrink:0,borderBottomRightRadius:8,borderTopRightRadius:8},tableContainer:{width:"100%",padding:"0 12",overflow:"scroll",display:"flex",flexDirection:"row",justifyContent:"center"},tableSubContainer:{width:"80%"},tableHeaderRow:{display:"flex",flexDirection:"row",alignItems:"stretch",fontSize:8},tableRow:{display:"flex",flexDirection:"row",alignItems:"stretch",fontSize:8,borderTopStyle:"solid",borderTopColor:"#f6f6f7",borderTopWidth:1},firstColumnHeader:{flex:"1 0 180",padding:8,textAlign:"center"},tableColumnHeader:{flex:"1 1 100",padding:8,textAlign:"center",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},firstColumn:{flex:"1 0 180",padding:8,display:"flex",textAlign:"center",flexDirection:"row",justifyContent:"center",alignItems:"center",fontWeight:"bold"},tableColumn:{flex:"1 1 100",padding:8,textAlign:"center"},analyticsTableDeviation:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",padding:0},analyticsTableDeviationFirstContainer:{flexBasis:"50%",flexGrow:0,flexShrink:0,textAlign:"right",padding:8},analyticsTableDeviationLastContainer:{flexBasis:"50%",flexGrow:0,flexShrink:0,display:"flex",flexDirection:"column",padding:8},analyticsTableDeviationLastContainerRow:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},analyticsTableDeviationLastContainerRowLastChild:{textAlign:"left",marginLeft:1},circularProgressContainer:{display:"flex",flexDirection:"row",alignItems:"center",textAlign:"center"},circleWrap:{width:70,height:70,backgroundColor:"#daf5ff",borderTopLeftRadius:"50%",borderTopRightRadius:"50%",borderBottomRightRadius:"50%",borderBottomLeftRadius:"50%",borderStyle:"solid",borderColor:"#cdcbd0",borderWidth:1,overflow:"hidden",position:"relative"},circle:{position:"absolute",left:0,top:0,width:70,height:70,borderTopLeftRadius:"50%",borderTopRightRadius:"50%",borderBottomRightRadius:"50%",borderBottomLeftRadius:"50%",zIndex:10},circleTextContainer:{position:"absolute",left:0,top:0,width:70,height:70,borderTopLeftRadius:"50%",borderTopRightRadius:"50%",borderBottomRightRadius:"50%",borderBottomLeftRadius:"50%",zIndex:10,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",color:"#19ab7f",fontWeight:700},fill:{width:70,height:70,position:"absolute",left:0,top:0,borderTopLeftRadius:"50%",borderTopRightRadius:"50%",borderBottomRightRadius:"50%",borderBottomLeftRadius:"50%",zIndex:1,backgroundColor:"#19ab7f"},clipLeftFill:{position:"absolute",width:35,height:70,left:35,top:0,backgroundColor:"#ffffff",zIndex:2},circleLeftHalf:{position:"absolute",top:0,left:0,width:35,height:70,overflow:"hidden",zIndex:10},circleLeftHalfMask:{width:70,height:70,position:"absolute",top:0,left:0,borderTopLeftRadius:"50%",borderTopRightRadius:"50%",borderBottomRightRadius:"50%",borderBottomLeftRadius:"50%",overflow:"hidden"},circleRightHalf:{position:"absolute",left:35,top:0,width:35,height:70,overflow:"hidden",zIndex:10},circleRightHalfFirstSecondFill:{width:70,height:70,position:"absolute",borderTopLeftRadius:"50%",borderTopRightRadius:"50%",borderBottomRightRadius:"50%",borderBottomLeftRadius:"50%",left:-35,top:0,backgroundColor:"#19ab7f"},maskHideLeftHalf:{position:"absolute",width:35,height:70,left:0,top:0,backgroundColor:"#ffffff",zIndex:3},insideCircle:{width:55,height:55,borderTopLeftRadius:"50%",borderTopRightRadius:"50%",borderBottomRightRadius:"50%",borderBottomLeftRadius:"50%",backgroundColor:"#daf5ff",lineHeight:55,textAlign:"center",top:7,left:7,color:"#19ab7f",position:"absolute",zIndex:100,fontWeight:700,fontSize:15,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},graphContainer:{fontSize:20,height:"50%",padding:"5 0",fontWeight:700,color:"#000000",width:"100%",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},heatmapLegendContainer:{display:"flex",width:"50%",padding:"0 40",flexDirection:"column",alignItems:"space-between",justifyContent:"center"},heatmapLegendRssiValuesContainer:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",color:"#ffffff",fontSize:10},gatewaysNameTableColumn:{padding:2},fullWidth:{width:"100%"}});class Ni extends s.Component{render(){return(0,u.jsx)(Mi.G7,{style:Li.tableContainer,children:(0,u.jsxs)(Mi.G7,{style:{width:"100%"},children:[(0,u.jsxs)(Mi.G7,{style:Li.tableHeaderRow,children:[(0,u.jsx)(Mi.G7,{style:Li.firstColumnHeader}),this.props.parsedPositions.map((t=>(0,u.jsx)(Mi.G7,{style:{...Li.tableColumnHeader,...Li.boldText},children:(0,u.jsx)(Mi.xv,{children:t.position_name})},t.position_number)))]}),this.props.LTpositionTableAnalytics.map(((t,e)=>"Max distance from gateway"===t.name?this.props.positionsCoordinatesInserted?(0,u.jsxs)(Mi.G7,{style:Li.tableRow,children:[(0,u.jsx)(Mi.G7,{style:Li.firstColumn,children:(0,u.jsx)(Mi.xv,{children:t.name})}),(()=>{let e,i=[0];e=this.props.positionsWidgetsData[0]["".concat(t.statePropertyname)];for(let s=1;s<this.props.positionsWidgetsData.length;s++)this.props.positionsWidgetsData[s]["".concat(t.statePropertyname)]>e?(i=[s],e=this.props.positionsWidgetsData[s]["".concat(t.statePropertyname)]):this.props.positionsWidgetsData[s]["".concat(t.statePropertyname)]===e&&i.push(s);return i.length===this.props.positionsWidgetsData.length&&(i=[-1]),this.props.parsedPositions.map(((e,s)=>(0,u.jsx)(Mi.G7,{style:{flex:"1 1 100",textAlign:"center",backgroundColor:void 0!==i.find((t=>t===s))?"#99ff99":"#ffffff",padding:8},children:(0,u.jsx)(Mi.xv,{children:"-"!==this.props.positionsWidgetsData.find((t=>t.position_number===e.position_number))["".concat(t.statePropertyname)]?F(this.props.positionsWidgetsData.find((t=>t.position_number===e.position_number))["".concat(t.statePropertyname)],this.props.UserPermissionsContext.userUnit):"-"})},e.position_number)))})()]},t.name):null:(0,u.jsxs)(Mi.G7,{style:Li.tableRow,children:[(0,u.jsx)(Mi.G7,{style:Li.firstColumn,children:(0,u.jsx)(Mi.xv,{children:t.name})}),(()=>{let e,i=[0];if("Best gateway"===t.name)i=[-1];else if("Messages lost"===t.name){let e=this.props.positionsWidgetsData[0]["".concat(t.statePropertyname)];for(let s=1;s<this.props.positionsWidgetsData.length;s++)this.props.positionsWidgetsData[s]["".concat(t.statePropertyname)]<e?(i=[s],e=this.props.positionsWidgetsData[s]["".concat(t.statePropertyname)]):this.props.positionsWidgetsData[s]["".concat(t.statePropertyname)]===e&&i.push(s);i.length===this.props.positionsWidgetsData.length&&(i=[-1])}else{e=this.props.positionsWidgetsData[0]["".concat(t.statePropertyname)];for(let s=1;s<this.props.positionsWidgetsData.length;s++)this.props.positionsWidgetsData[s]["".concat(t.statePropertyname)]>e?(i=[s],e=this.props.positionsWidgetsData[s]["".concat(t.statePropertyname)]):this.props.positionsWidgetsData[s]["".concat(t.statePropertyname)]===e&&i.push(s);i.length===this.props.positionsWidgetsData.length&&(i=[-1])}return this.props.parsedPositions.map(((e,s)=>(0,u.jsx)(Mi.G7,{style:{flex:"1 1 100",textAlign:"center",backgroundColor:void 0!==i.find((t=>t===s))?"#99ff99":"#ffffff",padding:"Avg RSSI for all messages"===t.name||"Avg SNR for all messages"===t.name?0:8},children:(()=>{if("Best gateway"!==t.name){if("Avg RSSI for all messages"===t.name){let t=this.props.positionsWidgetsData.find((t=>t.position_number===e.position_number));return(0,u.jsxs)(Mi.G7,{style:Li.analyticsTableDeviation,children:[(0,u.jsx)(Mi.G7,{style:Li.analyticsTableDeviationFirstContainer,children:(0,u.jsx)(Mi.xv,{children:"".concat(Math.round(t.position_avg_all),"dBm")})}),(0,u.jsxs)(Mi.G7,{style:Li.analyticsTableDeviationLastContainer,children:[(0,u.jsxs)(Mi.G7,{style:Li.analyticsTableDeviationLastContainerRow,children:[(0,u.jsx)(Mi.G7,{children:(0,u.jsx)(Mi.ny,{width:"9",height:"11",viewBox:"0 0 12 14",style:{transform:"rotate(180deg)",marginRight:1,marginLeft:-10,marginBottom:2},children:(0,u.jsx)(Mi.G,{children:(0,u.jsx)(Mi.y$,{stroke:"none",fillRule:"nonzero",fill:"#3df43d",d:"M 12.0625 8.828125 L 10.730469 7.53125 C 10.640625 7.445312 10.496094 7.445312 10.40625 7.535156 L 8.167969 9.730469 L 8.167969 0.234375 C 8.167969 0.105469 8.0625 0 7.933594 0 L 6.066406 0 C 5.9375 0 5.832031 0.105469 5.832031 0.234375 L 5.832031 9.730469 L 3.59375 7.535156 C 3.503906 7.445312 3.359375 7.445312 3.269531 7.53125 L 1.9375 8.828125 C 1.890625 8.871094 1.867188 8.933594 1.867188 8.996094 C 1.867188 9.058594 1.890625 9.117188 1.9375 9.164062 L 6.835938 13.933594 C 6.882812 13.976562 6.941406 14 7 14 C 7.058594 14 7.117188 13.976562 7.164062 13.933594 L 12.0625 9.164062 C 12.109375 9.117188 12.132812 9.058594 12.132812 8.996094 C 12.132812 8.933594 12.109375 8.871094 12.0625 8.828125 Z M 12.0625 8.828125 "})})})}),(0,u.jsx)(Mi.G7,{style:Li.analyticsTableDeviationLastContainerRowLastChild,children:(0,u.jsx)(Mi.xv,{children:Math.round(t.position_max_rssi-t.position_avg_all)})})]}),(0,u.jsxs)(Mi.G7,{style:Li.analyticsTableDeviationLastContainerRow,children:[(0,u.jsx)(Mi.G7,{children:(0,u.jsx)(Mi.ny,{width:"9",height:"11",viewBox:"0 0 12 14",style:{marginRight:1,marginLeft:-11,marginBottom:2},children:(0,u.jsx)(Mi.G,{children:(0,u.jsx)(Mi.y$,{stroke:"none",fillRule:"nonzero",fill:"#f02d2d",d:"M 12.0625 8.828125 L 10.730469 7.53125 C 10.640625 7.445312 10.496094 7.445312 10.40625 7.535156 L 8.167969 9.730469 L 8.167969 0.234375 C 8.167969 0.105469 8.0625 0 7.933594 0 L 6.066406 0 C 5.9375 0 5.832031 0.105469 5.832031 0.234375 L 5.832031 9.730469 L 3.59375 7.535156 C 3.503906 7.445312 3.359375 7.445312 3.269531 7.53125 L 1.9375 8.828125 C 1.890625 8.871094 1.867188 8.933594 1.867188 8.996094 C 1.867188 9.058594 1.890625 9.117188 1.9375 9.164062 L 6.835938 13.933594 C 6.882812 13.976562 6.941406 14 7 14 C 7.058594 14 7.117188 13.976562 7.164062 13.933594 L 12.0625 9.164062 C 12.109375 9.117188 12.132812 9.058594 12.132812 8.996094 C 12.132812 8.933594 12.109375 8.871094 12.0625 8.828125 Z M 12.0625 8.828125 "})})})}),(0,u.jsx)(Mi.G7,{style:Li.analyticsTableDeviationLastContainerRowLastChild,children:(0,u.jsx)(Mi.xv,{children:Math.round(t.position_min_rssi-t.position_avg_all)})})]})]})]})}if("Avg SNR for all messages"===t.name){let t=this.props.positionsWidgetsData.find((t=>t.position_number===e.position_number));return(0,u.jsxs)(Mi.G7,{style:Li.analyticsTableDeviation,children:[(0,u.jsx)(Mi.G7,{style:Li.analyticsTableDeviationFirstContainer,children:(0,u.jsx)(Mi.xv,{children:"".concat(Math.round(10*t.position_avg_snr)/10,"dB")})}),(0,u.jsxs)(Mi.G7,{style:Li.analyticsTableDeviationLastContainer,children:[(0,u.jsxs)(Mi.G7,{style:Li.analyticsTableDeviationLastContainerRow,children:[(0,u.jsx)(Mi.G7,{children:(0,u.jsx)(Mi.ny,{width:"9",height:"11",viewBox:"0 0 12 14",style:{transform:"rotate(180deg)",marginRight:1,marginLeft:-10,marginBottom:2},children:(0,u.jsx)(Mi.G,{children:(0,u.jsx)(Mi.y$,{stroke:"none",fillRule:"nonzero",fill:"#3df43d",d:"M 12.0625 8.828125 L 10.730469 7.53125 C 10.640625 7.445312 10.496094 7.445312 10.40625 7.535156 L 8.167969 9.730469 L 8.167969 0.234375 C 8.167969 0.105469 8.0625 0 7.933594 0 L 6.066406 0 C 5.9375 0 5.832031 0.105469 5.832031 0.234375 L 5.832031 9.730469 L 3.59375 7.535156 C 3.503906 7.445312 3.359375 7.445312 3.269531 7.53125 L 1.9375 8.828125 C 1.890625 8.871094 1.867188 8.933594 1.867188 8.996094 C 1.867188 9.058594 1.890625 9.117188 1.9375 9.164062 L 6.835938 13.933594 C 6.882812 13.976562 6.941406 14 7 14 C 7.058594 14 7.117188 13.976562 7.164062 13.933594 L 12.0625 9.164062 C 12.109375 9.117188 12.132812 9.058594 12.132812 8.996094 C 12.132812 8.933594 12.109375 8.871094 12.0625 8.828125 Z M 12.0625 8.828125 "})})})}),(0,u.jsx)(Mi.G7,{style:Li.analyticsTableDeviationLastContainerRowLastChild,children:(0,u.jsx)(Mi.xv,{children:Math.round(10*(t.position_max_snr-t.position_avg_snr))/10})})]}),(0,u.jsxs)(Mi.G7,{style:Li.analyticsTableDeviationLastContainerRow,children:[(0,u.jsx)(Mi.G7,{children:(0,u.jsx)(Mi.ny,{width:"9",height:"11",viewBox:"0 0 12 14",style:{marginRight:1,marginLeft:-11,marginBottom:2},children:(0,u.jsx)(Mi.G,{children:(0,u.jsx)(Mi.y$,{stroke:"none",fillRule:"nonzero",fill:"#f02d2d",d:"M 12.0625 8.828125 L 10.730469 7.53125 C 10.640625 7.445312 10.496094 7.445312 10.40625 7.535156 L 8.167969 9.730469 L 8.167969 0.234375 C 8.167969 0.105469 8.0625 0 7.933594 0 L 6.066406 0 C 5.9375 0 5.832031 0.105469 5.832031 0.234375 L 5.832031 9.730469 L 3.59375 7.535156 C 3.503906 7.445312 3.359375 7.445312 3.269531 7.53125 L 1.9375 8.828125 C 1.890625 8.871094 1.867188 8.933594 1.867188 8.996094 C 1.867188 9.058594 1.890625 9.117188 1.9375 9.164062 L 6.835938 13.933594 C 6.882812 13.976562 6.941406 14 7 14 C 7.058594 14 7.117188 13.976562 7.164062 13.933594 L 12.0625 9.164062 C 12.109375 9.117188 12.132812 9.058594 12.132812 8.996094 C 12.132812 8.933594 12.109375 8.871094 12.0625 8.828125 Z M 12.0625 8.828125 "})})})}),(0,u.jsx)(Mi.G7,{style:Li.analyticsTableDeviationLastContainerRowLastChild,children:(0,u.jsx)(Mi.xv,{children:Math.round(10*(t.position_min_snr-t.position_avg_snr))/10})})]})]})]})}return t.rssi?(0,u.jsx)(Mi.xv,{children:"".concat(this.props.positionsWidgetsData.find((t=>t.position_number===e.position_number))["".concat(t.statePropertyname)],"dBm")}):t.snr?(0,u.jsx)(Mi.xv,{children:"".concat(this.props.positionsWidgetsData.find((t=>t.position_number===e.position_number))["".concat(t.statePropertyname)],"dB")}):"Transmission efficiency"!==t.name?(0,u.jsx)(Mi.xv,{children:this.props.positionsWidgetsData.find((t=>t.position_number===e.position_number))["".concat(t.statePropertyname)]}):(0,u.jsx)(Mi.xv,{children:"".concat(this.props.positionsWidgetsData.find((t=>t.position_number===e.position_number))["".concat(t.statePropertyname)],"%")})}return(0,u.jsx)(Mi.xv,{children:this.props.positionsWidgetsData.find((t=>t.position_number===e.position_number))["".concat(t.statePropertyname)].name})})()},s)))})()]},e)))]})})}}const ki=Ni;var Oi=i(6302),Fi=i(6325);class Wi extends s.Component{constructor(){super(),this.onMouseDown=t=>{this.checkMouseDownDuration=setInterval((()=>{let e;clearInterval(this.checkMouseDownDuration),this.checkMouseDownDuration=null,e="plus"===t?this.props.onInputPlusClick:this.props.onInputMinusClick,e(),this.onMouseDownIntervalCallback=setInterval((()=>{e()}),this.valueChangeCallbackInterval)}),this.mouseDownCheckInterval)},this.onMouseUp=()=>{this.checkMouseDownDuration?(clearInterval(this.checkMouseDownDuration),this.checkMouseDownDuration=null):this.onMouseDownIntervalCallback&&(clearInterval(this.onMouseDownIntervalCallback),this.onMouseDownIntervalCallback=null)},this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onMouseDownIntervalCallback=null,this.checkMouseDownDuration=null,this.mouseDownCheckInterval=200,this.valueChangeCallbackInterval=100,this.numberInputComponentRef=s.createRef()}render(){return(0,u.jsxs)("div",{className:"form-group",style:this.props.containerStyle||{},children:[(0,u.jsx)("label",{className:"form-control label-row-centered",children:this.props.labelName}),(0,u.jsxs)("div",{className:"plus-minus-number-input-container",children:[(0,u.jsx)("div",{className:"svg-center-inside-container",onClick:this.props.onInputMinusClick,onMouseDown:()=>this.onMouseDown("minus"),onMouseUp:this.onMouseUp,children:(0,u.jsx)(Fi.Z,{})}),(0,u.jsxs)("div",{className:"input-auto-width-container",children:[(0,u.jsx)("span",{className:"form-control input ".concat(this.props.inputWidth),children:this.props.inputValue?this.props.inputValue:"0.1"}),(0,u.jsx)(oi,{ref:this.numberInputComponentRef,inputMin:this.props.inputMin,inputMax:this.props.inputMax,inputStep:this.props.inputStep,value:this.props.inputValue,onInputValueChanged:this.props.onInputChange,hideNumberArrows:!0,callOnlyOnBlur:this.props.callOnlyOnBlur})]}),(0,u.jsx)("div",{className:"svg-center-inside-container",onClick:this.props.onInputPlusClick,onMouseDown:()=>this.onMouseDown("plus"),onMouseUp:this.onMouseUp,children:(0,u.jsx)(Oi.Z,{})})]})]})}}const Hi=Wi;var Gi=i(4041),Ei=i(7763),Vi=i(4201);class zi extends s.Component{constructor(){super(),this.handleChange=(t,e)=>{this.props.handleFilter("SF_filtered",e),this.setState({values:e})},this.state={values:[]},this.handleChange=this.handleChange.bind(this)}componentDidMount(){0!==this.props.values.length||this.props.indoorMappingHeatmap?this.setState({values:this.props.values}):(this.props.componentDidMountHandleFilterNoCall||(this.props.initialDataObject&&(this.props.initialDataObject.find((t=>"SF_filtered"===t.field)).value=this.props.sfs),this.props.handleFilter("SF_filtered",this.props.sfs,!0)),this.setState({values:this.props.sfs}))}render(){return(0,u.jsx)(Vi.ZP,{multiple:!0,options:this.props.sfs,value:this.state.values,disableCloseOnSelect:!0,limitTags:this.props.limitTags?this.props.limitTags:5,getOptionLabel:t=>t,renderOption:(t,e)=>{let{selected:i}=e;return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(fi.Z,{checked:i}),(0,u.jsx)(Ci.Z,{children:t})]})},renderInput:t=>(0,u.jsx)(Gi.Z,{...t,variant:"standard",label:"\tSF",placeholder:"Select spreading factor",onKeyDown:t=>{"Backspace"===t.key&&t.stopPropagation()}}),PopperComponent:t=>{let{style:e,...i}=t;return(0,u.jsx)(Ei.Z,{...i,style:{...e,height:0}})},ListboxProps:{style:{maxHeight:"30vh"}},onChange:this.handleChange})}}const qi=zi;class Ui extends s.Component{constructor(){super(),this.handleChange=(t,e)=>{this.props.handleFilter("ANTENNA_filtered",e),this.setState({values:e})},this.state={values:[]},this.handleChange=this.handleChange.bind(this)}componentDidMount(){0!==this.props.values.length||this.props.indoorMappingHeatmap?this.setState({values:this.props.values}):(this.props.componentDidMountHandleFilterNoCall||(this.props.initialDataObject&&(this.props.initialDataObject.find((t=>"ANTENNA_filtered"===t.field)).value=this.props.antennas),this.props.handleFilter("ANTENNA_filtered",this.props.antennas,!0)),this.setState({values:this.props.antennas}))}render(){return(0,u.jsx)(Vi.ZP,{multiple:!0,options:this.props.antennas,value:this.state.values,disableCloseOnSelect:!0,limitTags:this.props.limitTags||5,getOptionLabel:t=>t.antenna_name,renderOption:(t,e)=>{let{selected:i}=e;return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(fi.Z,{checked:i}),(0,u.jsx)(Ci.Z,{children:t.antenna_name})]})},renderInput:t=>(0,u.jsx)(Gi.Z,{...t,variant:"standard",label:"\tAntenna type",placeholder:"Select device antenna type",onKeyDown:t=>{"Backspace"===t.key&&t.stopPropagation()}}),PopperComponent:t=>{let{style:e,...i}=t;return(0,u.jsx)(Ei.Z,{...i,style:{...e,height:0}})},ListboxProps:{style:{maxHeight:"30vh"}},onChange:this.handleChange})}}const Ji=Ui;var Xi=i(6755),Yi=i(1317);class Zi extends s.Component{constructor(t){super(),this.handleChange=(t,e)=>{if(Yi.log("Handle change"),Yi.log(e),Yi.log("Props length"),Yi.log(this.props.bases.length),!e.find((t=>"LOAD MORE"===t.name)))if(Yi.log(e.slice(0,-1).length),Yi.log(this.state.selectAll),e.length>0&&"Select all gateways"!==e[e.length-1].name&&this.state.selectAll)Yi.log("Iskljuci select all"),this.props.handleFilter("BASE_filtered",[]),this.setState({values:[],selectAll:!1});else if(this.state.selectAll&&e.slice(0,-1).length!==this.props.bases.length){Yi.log("Usao u iskljciivanje selectall");let t=e.slice(0,-1);this.props.handleFilter("BASE_filtered",t),Yi.log("Nrw values"),Yi.log(t),this.setState({values:t,selectAll:!1})}else e.length>0&&"Select all gateways"===e[e.length-1].name&&!this.state.selectAll?(Yi.log("Ukljuci select all"),this.props.handleFilter("BASE_filtered",this.props.bases),this.setState({values:[...this.props.bases,this.selectAllObject],selectAll:!0})):this.state.selectAll||e.length!==this.props.bases.length?(Yi.log("Obicno dodavanje"),this.props.handleFilter("BASE_filtered",e),this.setState({values:e})):(Yi.log("Ukljuci select all bez eksplicitog stiskanja"),Yi.log(e.length),Yi.log(this.props.bases.length),this.props.handleFilter("BASE_filtered",e),this.setState({selectAll:!0,values:[...e,this.selectAllObject]}))},this.filterOptions=(t,e)=>{let{inputValue:i}=e;if(Yi.log("filtered options"),i!==this.previousInput){if(i&&i.length>2){let t=this.props.bases.filter((t=>t.name.toLowerCase().includes(i))),e=this.props.bases.filter((t=>t.name.toLowerCase().includes(i))).slice(0,this.gatewaysPerPage);return this.currentPage=1,e.length>0&&t.length>this.gatewaysPerPage?[...e,this.loadMoreObject]:e}return Yi.log("Vrati pocetnu konfiguraciju"),this.currentPage=1,""===i&&(this.previousInput=""),this.props.bases.length>this.gatewaysPerPage?[this.selectAllObject,...this.props.bases.slice(0,this.gatewaysPerPage),this.loadMoreObject]:[this.selectAllObject,...this.props.bases]}return t},this.handleLoadMore=()=>{let t,e,i;Yi.log("load more"),this.state.inputValue?(t=this.props.bases.filter((t=>t.name.toLowerCase().includes(this.state.inputValue))),e=t.slice(0,(this.currentPage+1)*this.gatewaysPerPage),Yi.log("Filtered options"),Yi.log(e),i=t.length>(this.currentPage+1)*this.gatewaysPerPage?[...e,this.loadMoreObject]:e):(e=this.props.bases.slice(0,(this.currentPage+1)*this.gatewaysPerPage),i=[this.selectAllObject,...e],this.props.bases.length>(this.currentPage+1)*this.gatewaysPerPage&&i.push(this.loadMoreObject)),this.currentPage++,this.setState({showGateways:i})},this.handleInputChange=(t,e,i)=>{Yi.log("inpout hcnage"),Yi.log(e),Yi.log(i),this.previousInput=this.state.inputValue,"LOAD MORE"===t.target.textContent&&"reset"===i||this.setState({inputValue:e})},this.selectAllObject={name:"Select all gateways"},this.loadMoreObject={name:"LOAD MORE"},this.gatewaysPerPage=30,this.state={values:[],showGateways:t.bases.length>this.gatewaysPerPage?[this.selectAllObject,...t.bases.slice(0,this.gatewaysPerPage),this.loadMoreObject]:[this.selectAllObject,...t.bases],inputValue:"",selectAll:!1},this.previousInput="",this.currentPage=1,this.handleChange=this.handleChange.bind(this),this.filterOptions=this.filterOptions.bind(this),this.handleLoadMore=this.handleLoadMore.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}componentDidMount(){this.props.values.length>0&&(this.props.values.length===this.props.bases.length?this.setState({selectAll:!0,values:[...this.props.values,this.selectAllObject]}):this.setState({values:this.props.values}))}render(){return(0,u.jsx)(Vi.ZP,{multiple:!0,options:this.state.showGateways,value:this.state.values,disableCloseOnSelect:!0,limitTags:this.props.limitTags?this.props.limitTags:5,getLimitTagsText:t=>(Yi.log("More value "+t),t>0?"Select all gateways"===this.state.values[this.state.values.length-1].name?t>1?"+".concat(t-1):"":"+".concat(t):""),getOptionLabel:t=>t.name,renderOption:(t,e)=>"Select all gateways"===t.name?(0,u.jsxs)("div",{className:"select-all-menu-item",children:[(0,u.jsx)(fi.Z,{checked:this.state.selectAll}),(0,u.jsx)(Ci.Z,{children:t.name})]}):"LOAD MORE"===t.name?(0,u.jsx)("div",{className:"load-more-menu-item",onClick:this.handleLoadMore,children:t.name}):(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(fi.Z,{checked:e.selected}),(0,u.jsx)(Ci.Z,{children:t.name})]}),renderInput:t=>(0,u.jsx)(Gi.Z,{...t,variant:"standard",label:"Gateway",placeholder:"Select gateways",onKeyDown:t=>{"Backspace"===t.key&&t.stopPropagation()}}),renderTags:(t,e)=>t.map(((i,s)=>"Select all gateways"!==i.name&&s<20?(0,u.jsx)(Xi.Z,{...e({index:s}),label:i.name},s):20===s?(0,u.jsx)(Xi.Z,{...e({index:s}),onDelete:null,label:"Select all gateways"===t[t.length-1].name?"+".concat(t.length-20-1," more"):"+".concat(t.length-20," more")},s):null)),PopperComponent:t=>{let{style:e,...i}=t;return(0,u.jsx)(Ei.Z,{...i,style:{...e,height:0}})},ListboxProps:{style:{maxHeight:"30vh"}},onChange:this.handleChange,filterOptions:this.filterOptions,inputValue:this.state.inputValue,onInputChange:this.handleInputChange,onClose:()=>this.setState({showGateways:this.props.bases.length>this.gatewaysPerPage?[this.selectAllObject,...this.props.bases.slice(0,this.gatewaysPerPage),this.loadMoreObject]:[this.selectAllObject,...this.props.bases]},(()=>{this.currentPage=1}))})}}const Qi=Zi;var Ki=i(3335);const _i=(0,vi.ZP)({overrides:{MuiPickersToolbar:{toolbar:{backgroundColor:"#19ab7f"}},MuiPickersCalendarHeader:{switchHeader:{backgroundColor:"#19ab7f"},transitionContainer:{color:"#FFFFFF"},iconButton:{backgroundColor:"transparent"}},MuiTabs:{root:{backgroundColor:"#19ab7f !important"},indicator:{backgroundColor:"rgba(0, 0, 0, 0.54)"}},MuiButton:{textPrimary:{color:"rgba(0, 0, 0, 0.54)",fontWeight:"bold"}},MuiPickersDay:{day:{color:"#19ab7f"},daySelected:{color:"#FFFFFF",backgroundColor:"#19ab7f","&:hover":{backgroundColor:"#19ab7f !important"}},current:{color:"rgba(0, 0, 0, 0.54)"}},MuiPickersClock:{pin:{backgroundColor:"#19ab7f"}},MuiPickersClockPointer:{pointer:{backgroundColor:"#19ab7f"},thumb:{borderColor:"#19ab7f !important"}},MuiPickersClockNumber:{clockNumberSelected:{backgroundColor:"#19ab7f"}},MuiInput:{underline:{"&:after":{borderBottomColor:"#19ab7f !important"}}},MuiFormLabel:{root:{"&$focused":{color:"#19ab7f !important"}},focused:{}},MuiCheckbox:{colorSecondary:{color:"#19ab7f !important"}},MuiIconButton:{root:{"&:$hover":{backgroundColor:"transparent !important"}},colorSecondary:{"&:$hover":{backgroundColor:"#transparent !important"}}},MuiChecked:{root:{"&:$hover":{backgroundColor:"#transparent !important"}}},MuiMenu:{paper:{maxHeight:"40vh"}},MuiPickersModal:{dialogAction:{color:"#19ab7f"}},MuiSlider:{root:{color:"#19ab7f"}}}});class $i extends s.Component{render(){return(0,u.jsx)(Ti.Z,{theme:_i,children:(0,u.jsx)("div",{className:"graph-select-container",children:(0,u.jsxs)(wi.Z,{style:{width:"100%"},children:[(0,u.jsx)(Ki.Z,{id:"select-device-label",style:{width:290},children:this.props.inputLabel}),(0,u.jsx)(bi.Z,{MenuProps:{getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"}},labelId:"select-device-label",renderValue:t=>(0,u.jsx)(Ci.Z,{children:this.props.renderListItemText(t)}),value:this.props.selectedValue,onChange:t=>this.props.handleSelectChange(t.target.value),children:this.props.selectOptions.map((t=>(0,u.jsxs)(yi.Z,{value:t,children:[(0,u.jsx)(fi.Z,{checked:this.props.selectedValue.value===t.value,style:{visibility:this.props.selectedValue.value===t.value?"visible":"hidden"}}),(0,u.jsx)(Ci.Z,{children:this.props.renderListItemText(t)})]},t.value)))}),(0,u.jsx)(ti,{infoText:this.props.infoText,infoContainerStyles:{top:-2,right:0,position:"absolute"}})]})})})}}const ts=$i;var es=i(7267);class is extends s.PureComponent{render(){return(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xlinkHref:"http://www.w3.org/1999/xlink",width:"12px",height:"14px",viewBox:"0 0 12 14",version:"1.1",style:{marginRight:"2px",marginLeft:"-13px",marginBottom:"3px"},children:(0,u.jsx)("g",{id:"surface1",children:(0,u.jsx)("path",{style:{stroke:"none",fillRule:"nonzero",fill:"rgb(61,244,61)",fillOpacity:1,transform:"rotate(180deg) translate(-14px,-13px)"},d:"M 12.0625 8.828125 L 10.730469 7.53125 C 10.640625 7.445312 10.496094 7.445312 10.40625 7.535156 L 8.167969 9.730469 L 8.167969 0.234375 C 8.167969 0.105469 8.0625 0 7.933594 0 L 6.066406 0 C 5.9375 0 5.832031 0.105469 5.832031 0.234375 L 5.832031 9.730469 L 3.59375 7.535156 C 3.503906 7.445312 3.359375 7.445312 3.269531 7.53125 L 1.9375 8.828125 C 1.890625 8.871094 1.867188 8.933594 1.867188 8.996094 C 1.867188 9.058594 1.890625 9.117188 1.9375 9.164062 L 6.835938 13.933594 C 6.882812 13.976562 6.941406 14 7 14 C 7.058594 14 7.117188 13.976562 7.164062 13.933594 L 12.0625 9.164062 C 12.109375 9.117188 12.132812 9.058594 12.132812 8.996094 C 12.132812 8.933594 12.109375 8.871094 12.0625 8.828125 Z M 12.0625 8.828125 "})})})}}const ss=is;class ns extends s.Component{render(){return(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xlinkHref:"http://www.w3.org/1999/xlink",width:"12px",height:"14px",viewBox:"0 0 12 14",version:"1.1",style:{marginRight:"2px",marginLeft:"-13px",marginBottom:"3px"},children:(0,u.jsx)("g",{id:"surface1",children:(0,u.jsx)("path",{style:{stroke:"none",fillRule:"nonzero",fill:"rgb(240,45,45)",fillOpacity:1},d:"M 12.0625 8.828125 L 10.730469 7.53125 C 10.640625 7.445312 10.496094 7.445312 10.40625 7.535156 L 8.167969 9.730469 L 8.167969 0.234375 C 8.167969 0.105469 8.0625 0 7.933594 0 L 6.066406 0 C 5.9375 0 5.832031 0.105469 5.832031 0.234375 L 5.832031 9.730469 L 3.59375 7.535156 C 3.503906 7.445312 3.359375 7.445312 3.269531 7.53125 L 1.9375 8.828125 C 1.890625 8.871094 1.867188 8.933594 1.867188 8.996094 C 1.867188 9.058594 1.890625 9.117188 1.9375 9.164062 L 6.835938 13.933594 C 6.882812 13.976562 6.941406 14 7 14 C 7.058594 14 7.117188 13.976562 7.164062 13.933594 L 12.0625 9.164062 C 12.109375 9.117188 12.132812 9.058594 12.132812 8.996094 C 12.132812 8.933594 12.109375 8.871094 12.0625 8.828125 Z M 12.0625 8.828125 "})})})}}const os=ns;var as=i(1317);class rs extends s.Component{constructor(t){super(t),this.handlePageChange=t=>{this.setState({currentPage:t})},this.calculatePoC=t=>(as.log("PoC data: "),as.log(t),t.count>0?t.rssi>-125&&t.snr<0&&t.snr>-15||t.rssi>-122&&t.snr<0||t.rssi>-115&&t.snr<5||t.rssi>-107&&t.snr<7.5||t.rssi>-90&&t.snr<30?"PoC\u2705":"PoC\u274c":"-"),this.onToggleItemStateCallback=()=>{let t,e;as.log("Sorting after mount");for(const[i,s]of Object.entries(this.state.analyzeItemByGatewaysSort))if(s){e=s,t=i;break}this.handleItemByGatewaysSort(t,e,1)},this.handleItemByGatewaysSort=(t,e,i)=>{"Name"===t?(as.log("Sortiraj po imenu"),"DESC"===e?this.props.tableGatewaysData.sort(((t,e)=>t.name&&!e.name?-1:e.name&&!t.name?1:t.name||e.name?t.name.toLowerCase().localeCompare(e.name.toLowerCase())<0?1:t.name.toLowerCase().localeCompare(e.name.toLowerCase())>0?-1:0:0)):this.props.tableGatewaysData.sort(((t,e)=>t.name&&!e.name?-1:e.name&&!t.name?1:t.name||e.name?t.name.toLowerCase().localeCompare(e.name.toLowerCase())>0?1:t.name.toLowerCase().localeCompare(e.name.toLowerCase())<0?-1:0:0)),this.setState({currentPage:i||this.state.currentPage,analyzeItemByGatewaysSort:{Name:e,Messages:null,"Best RSSI":null,"Worst RSSI":null,"Avg RSSI":null,"Avg SNR":null,Dist:null}})):"Messages"===t?("DESC"===e?(as.log("Sortiraj desc po messages"),this.props.tableGatewaysData.sort(((t,e)=>e.count-t.count!==0?e.count-t.count:Math.round(e.avg_rssi)-Math.round(t.avg_rssi)!==0?Math.round(e.avg_rssi)-Math.round(t.avg_rssi):Math.round(10*e.avg_snr)/10-Math.round(10*t.avg_snr)/10))):this.props.tableGatewaysData.sort(((t,e)=>t.count-e.count!==0?t.count-e.count:Math.round(t.avg_rssi)-Math.round(e.avg_rssi)!==0?Math.round(t.avg_rssi)-Math.round(e.avg_rssi):Math.round(10*t.avg_snr)/10-Math.round(10*e.avg_snr)/10)),this.setState({currentPage:i||this.state.currentPage,analyzeItemByGatewaysSort:{Name:null,Messages:e,"Best RSSI":null,"Worst RSSI":null,"Avg RSSI":null,"Avg SNR":null,Dist:null}})):"Best RSSI"===t?("DESC"===e?this.props.tableGatewaysData.sort(((t,e)=>e.max_rssi-t.max_rssi!==0?e.max_rssi-t.max_rssi:e.count-t.count!==0?e.count-t.count:Math.round(e.avg_rssi)-Math.round(t.avg_rssi)!==0?Math.round(e.avg_rssi)-Math.round(t.avg_rssi):Math.round(10*e.avg_snr)/10-Math.round(10*t.avg_snr)/10)):this.props.tableGatewaysData.sort(((t,e)=>t.max_rssi-e.max_rssi!==0?t.max_rssi-e.max_rssi:t.count-e.count!==0?t.count-e.count:Math.round(t.avg_rssi)-Math.round(e.avg_rssi)!==0?Math.round(t.avg_rssi)-Math.round(e.avg_rssi):Math.round(10*t.avg_snr)/10-Math.round(10*e.avg_snr)/10)),this.setState({currentPage:i||this.state.currentPage,analyzeItemByGatewaysSort:{Name:null,Messages:null,"Best RSSI":e,"Worst RSSI":null,"Avg RSSI":null,"Avg SNR":null,Dist:null}})):"Worst RSSI"===t?("DESC"===e?this.props.tableGatewaysData.sort(((t,e)=>e.min_rssi-t.min_rssi!==0?e.min_rssi-t.min_rssi:e.count-t.count!==0?e.count-t.count:Math.round(e.avg_rssi)-Math.round(t.avg_rssi)!==0?Math.round(e.avg_rssi)-Math.round(t.avg_rssi):Math.round(10*e.avg_snr)/10-Math.round(10*t.avg_snr)/10)):this.props.tableGatewaysData.sort(((t,e)=>t.min_rssi-e.min_rssi!==0?t.min_rssi-e.min_rssi:t.count-e.count!==0?t.count-e.count:Math.round(t.avg_rssi)-Math.round(e.avg_rssi)!==0?Math.round(t.avg_rssi)-Math.round(e.avg_rssi):Math.round(10*t.avg_snr)/10-Math.round(10*e.avg_snr)/10)),this.setState({currentPage:i||this.state.currentPage,analyzeItemByGatewaysSort:{Name:null,Messages:null,"Best RSSI":null,"Worst RSSI":e,"Avg RSSI":null,"Avg SNR":null,Dist:null}})):"Avg RSSI"===t?("DESC"===e?this.props.tableGatewaysData.sort(((t,e)=>Math.round(e.avg_rssi)-Math.round(t.avg_rssi)!==0?Math.round(e.avg_rssi)-Math.round(t.avg_rssi):Math.round(10*e.avg_snr)/10-Math.round(10*t.avg_snr)/10!==0?Math.round(10*e.avg_snr)/10-Math.round(10*t.avg_snr)/10:e.count-t.count)):this.props.tableGatewaysData.sort(((t,e)=>Math.round(t.avg_rssi)-Math.round(e.avg_rssi)!==0?Math.round(t.avg_rssi)-Math.round(e.avg_rssi):Math.round(10*t.avg_snr)/10-Math.round(10*e.avg_snr)/10!==0?Math.round(10*t.avg_snr)/10-Math.round(10*e.avg_snr)/10:t.count-e.count)),this.setState({currentPage:i||this.state.currentPage,analyzeItemByGatewaysSort:{Name:null,Messages:null,"Best RSSI":null,"Worst RSSI":null,"Avg RSSI":e,"Avg SNR":null,Dist:null}})):"Avg SNR"===t?("DESC"===e?this.props.tableGatewaysData.sort(((t,e)=>Math.round(10*e.avg_snr)/10-Math.round(10*t.avg_snr)/10!==0?Math.round(10*e.avg_snr)/10-Math.round(10*t.avg_snr)/10:Math.round(e.avg_rssi)-Math.round(t.avg_rssi)!==0?Math.round(e.avg_rssi)-Math.round(t.avg_rssi):e.count-t.count)):this.props.tableGatewaysData.sort(((t,e)=>Math.round(10*t.avg_snr)/10-Math.round(10*e.avg_snr)/10!==0?Math.round(10*t.avg_snr)/10-Math.round(10*e.avg_snr)/10:Math.round(t.avg_rssi)-Math.round(e.avg_rssi)!==0?Math.round(t.avg_rssi)-Math.round(e.avg_rssi):t.count-e.count)),this.setState({currentPage:i||this.state.currentPage,analyzeItemByGatewaysSort:{Name:null,Messages:null,"Best RSSI":null,"Worst RSSI":null,"Avg RSSI":null,"Avg SNR":e,Dist:null}})):"Dist"===t&&("DESC"===e?this.props.tableGatewaysData.sort(((t,e)=>parseFloat(e.distance_from_position.slice(0,e.distance_from_position.length-2))!==parseFloat(t.distance_from_position.slice(0,t.distance_from_position.length-2))?parseFloat(e.distance_from_position.slice(0,e.distance_from_position.length-2))-parseFloat(t.distance_from_position.slice(0,t.distance_from_position.length-2)):Math.round(e.avg_rssi)-Math.round(t.avg_rssi)!==0?Math.round(e.avg_rssi)-Math.round(t.avg_rssi):Math.round(10*e.avg_snr)/10-Math.round(10*t.avg_snr)/10)):this.props.tableGatewaysData.sort(((t,e)=>parseFloat(t.distance_from_position.slice(0,t.distance_from_position.length-2))!==parseFloat(e.distance_from_position.slice(0,e.distance_from_position.length-2))?parseFloat(t.distance_from_position.slice(0,t.distance_from_position.length-2))-parseFloat(e.distance_from_position.slice(0,e.distance_from_position.length-2)):Math.round(t.avg_rssi)-Math.round(e.avg_rssi)!==0?Math.round(t.avg_rssi)-Math.round(e.avg_rssi):Math.round(10*t.avg_snr)/10-Math.round(10*e.avg_snr)/10)),this.setState({currentPage:i||this.state.currentPage,analyzeItemByGatewaysSort:{Name:null,Messages:null,"Best RSSI":null,"Worst RSSI":null,"Avg RSSI":null,"Avg SNR":null,Dist:e}}))},this.state={currentPage:1,rowsPerPage:10,analyzeItemByGatewaysSort:{Name:null,Messages:"DESC","Best RSSI":null,"Worst RSSI":null,"Avg RSSI":null,"Avg SNR":null,Dist:null}},this.tableColumnBaseItems=["No.","Gateway ID","Name","Messages","Best RSSI","Worst RSSI","Avg RSSI","Best SNR","Worst SNR","Avg SNR"],this.tableColumnItems=t.showPoC?[...this.tableColumnBaseItems,"PoC"]:this.tableColumnBaseItems,this.handlePageChange=this.handlePageChange.bind(this),this.calculatePoC=this.calculatePoC.bind(this),this.onToggleItemStateCallback=this.onToggleItemStateCallback.bind(this),this.handleItemByGatewaysSort=this.handleItemByGatewaysSort.bind(this)}render(){const{analyzeItemByGatewaysSort:t,currentPage:e,rowsPerPage:i}=this.state,{pageFirstRowIndex:s,pageLastRowIndex:n}=((t,e,i)=>{const s=(t-1)*e;return{pageFirstRowIndex:s,pageLastRowIndex:s+e>i?i:s+e}})(e,i,this.props.tableGatewaysData.length),o=this.props.tableGatewaysData.slice(s,n);return(0,u.jsxs)("section",{className:"table-responsive",style:{overflowX:this.props.tableNoHorizontalOverflow?"visible":"auto"},children:[(0,u.jsxs)("table",{className:"table",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[this.tableColumnItems.map((e=>"Name"===e||"Messages"===e||"Best RSSI"===e||"Worst RSSI"===e||"Avg RSSI"===e||"Avg SNR"===e?(0,u.jsx)("th",{children:(0,u.jsxs)("div",{className:"sort-by-column",children:[(0,u.jsx)("div",{children:e}),(0,u.jsx)(ws,{order:"ASC",selected:"ASC"===t["".concat(e)],sortFunction:()=>this.handleItemByGatewaysSort(e,"ASC")}),(0,u.jsx)(ws,{order:"DESC",selected:"DESC"===t["".concat(e)],sortFunction:()=>this.handleItemByGatewaysSort(e,"DESC")})]})},e):(0,u.jsx)("th",{children:e},e))),this.props.distanceCalculated?(0,u.jsx)("th",{children:(0,u.jsxs)("div",{className:"sort-by-column",children:[(0,u.jsx)("div",{children:"Dist"}),(0,u.jsx)(ws,{order:"ASC",selected:"ASC"===t.Dist,sortFunction:()=>this.handleItemByGatewaysSort("Dist","ASC")}),(0,u.jsx)(ws,{order:"DESC",selected:"DESC"===t.Dist,sortFunction:()=>this.handleItemByGatewaysSort("Dist","DESC")})]})}):null]})}),(0,u.jsx)("tbody",{children:o.map(((t,e)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:"".concat(s+e+1,".")}),(0,u.jsx)("td",{children:(0,u.jsx)("div",{className:"analytics-table-gtwID wrap-text-overflow",children:t.gtw_id})}),(0,u.jsx)("td",{children:t.name?t.name:"-"}),(0,u.jsx)("td",{children:t.count}),(0,u.jsx)("td",{children:"".concat(t.max_rssi,"dBm")}),(0,u.jsx)("td",{children:"".concat(t.min_rssi,"dBm")}),(0,u.jsx)("td",{style:{padding:0},children:(0,u.jsxs)("div",{className:"analytics-table-deviation",children:[(0,u.jsx)("div",{className:"first-container",children:"".concat(Math.round(t.avg_rssi),"dBm")}),(0,u.jsxs)("div",{className:"last-container",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(ss,{}),(0,u.jsx)("div",{children:Math.round(t.max_rssi-t.avg_rssi)})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(os,{}),(0,u.jsx)("div",{children:Math.round(t.min_rssi-t.avg_rssi)})]})]})]})}),(0,u.jsx)("td",{children:"".concat(t.max_snr,"dB")}),(0,u.jsx)("td",{children:"".concat(t.min_snr,"dB")}),(0,u.jsx)("td",{style:{padding:0},children:(0,u.jsxs)("div",{className:"analytics-table-deviation",children:[(0,u.jsx)("div",{className:"first-container",children:"".concat(Math.round(10*t.avg_snr)/10,"dB")}),(0,u.jsxs)("div",{className:"last-container",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(ss,{}),(0,u.jsx)("div",{children:Math.round(10*(t.max_snr-t.avg_snr))/10})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(os,{}),(0,u.jsx)("div",{children:Math.round(10*(t.min_snr-t.avg_snr))/10})]})]})]})}),this.props.showPoC?(0,u.jsx)("td",{children:(0,u.jsx)("div",{children:this.calculatePoC({rssi:t.PoC_avg_rssi,snr:t.PoC_avg_snr,count:t.PoC_counter})})}):null,this.props.distanceCalculated?(0,u.jsx)("td",{children:F(t.distance_from_position,this.props.UserPermissionsContext.userUnit,!0)}):null]},t.gtw_id)))})]}),(0,u.jsx)(es.Z,{className:"table-pagination",count:Math.ceil(this.props.tableGatewaysData.length/i),page:e,onChange:(t,e)=>this.handlePageChange(e)})]})}}const ls=rs;var hs=i(1183);const ps=[{field:"source_distanceX",label:"Horizontal",placeholder:"Insert",validate:t=>it.isEmpty(t)||it.isNumber(t)},{field:"source_distanceY",label:"Vertical",placeholder:"Insert",validate:t=>it.isEmpty(t)||it.isNumber(t),defaultValue:""},{selectInput:!0,options:[{name:"868MHz (EU863-870)",value:868e6},{name:"904MHz (US902-928)",value:904e6},{name:"487MHz (CN470-510)",value:487e6},{name:"917MHz (AU915-928)",value:917e6}],placeholder:"Select center frequency",field:"center_frequency",label:"LoRaWAN center frequency",validate:t=>it.isEmpty(t)}],ds=[...[{field:"gps_lat",label:"Floorplan latitude",placeholder:"e.g. 43.5079",validate:t=>it.isEmpty(t)||it.isGpsCoordinate(t,"gps_lat"),isGpsCoord:!0},{field:"gps_long",label:"Floorplan longitude",placeholder:"e.g. 16.43699",validate:t=>it.isEmpty(t)||it.isGpsCoordinate(t,"gps_long"),isGpsCoord:!0}],{field:"bearing_angle",label:"Floorplan bearing(\xb0)",placeholder:"e.g. 45\xb0",validate:t=>it.isEmpty(t)||it.isNumber(t),defaultValue:0}],cs={minRssi:-135,maxRssi:-80},ms=["#ee5ca9","#8f7d44","#b20365","#5c705c","#2db8fe","#d997f1","#e0a47d","#3c058f","#638d03","#0680b0","#30CF97","#A011CC","#CED237","#6BFFA3","#F71C45","#8B8A76","#1227C1","#15B73A","#818BA4","#665F14","#F77756","#804382","#C05E82","#95A835","#7004CE","#FB96C3","#B3983D","#C26844","#2A4C3B","#773233"],us=["#4472C4","#ED7D31","#70AD47","#954F72","#C00000","#00B050","#FFC000","#FFC000","#002060","#5B9BD5"],gs=(t,e,i,s,n,o)=>{let a={type:"numeric",min:1,max:o.xaxis_max,tickAmount:10,decimalsInFloat:0,tickPlacement:"on",labels:{rotateAlways:!1,rotate:0,trim:!0}};return{series:s,options:{chart:{id:e,type:i,animations:{enabled:!1},zoom:{enabled:!0},pan:{enabled:!0},toolbar:{show:!0,tools:{download:!1}}},dataLabels:{enabled:!1},legend:{show:!0},stroke:{curve:"smooth",width:2},colors:t.chartColors.map((t=>t.color)),fill:{type:"solid"},markers:{size:5,colors:void 0,strokeColors:"#000",strokeWidth:1,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,discrete:[],shape:"circle",radius:1.5,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},tooltip:{intersect:!1,shared:!1,custom:tt(t)},yaxis:n,xaxis:"AnalyticsSNRRSSIGraph"===e?o:a},responsive:[{breakpoint:768,options:{xaxis:{tickAmount:2}}}]}},xs=[{name:"Messages received",statePropertyname:"position_messages_received",show:!0},{name:"Messages lost",statePropertyname:"position_messages_lost",show:!0},{name:"Transmission efficiency",statePropertyname:"transmission_efficiency",show:!0},{name:"Gateways total",statePropertyname:"position_gateways_number",show:!0},{name:"Avg Gateways per message",statePropertyname:"position_avg_point_gateways",show:!0},{name:"Max Gateways per message",statePropertyname:"position_max_point_gateways",show:!0},{name:"Min Gateways per message",statePropertyname:"position_min_point_gateways",show:!1},{name:"Max distance from gateway",statePropertyname:"position_max_distance_from_gateway",show:!0},{name:"Best gateway",statePropertyname:"position_best_gateway",show:!1},{name:"Avg RSSI for all messages",statePropertyname:"position_avg_all",show:!0},{name:"Median of average RSSIs of all messages",statePropertyname:"position_avg_rssi_median",rssi:!0,show:!0},{name:"Avg of best RSSIs from message",statePropertyname:"position_avg_best",rssi:!0,show:!0},{name:"Median of best RSSIs of all messages",statePropertyname:"position_best_rssi_median",rssi:!0,show:!0},{name:"Avg of worst RSSIs from message",statePropertyname:"position_avg_worst",rssi:!0,show:!1},{name:"Avg SNR for all messages",statePropertyname:"position_avg_snr",snr:!0,show:!0},{name:"Median of average SNR of all messages",statePropertyname:"position_avg_snr_median",snr:!0,show:!1},{name:"Most points for best signal",statePropertyname:"indexPoints2",show:!1},{name:"Most points for best position",statePropertyname:"indexPoints3",show:!1}],As={1:.1,2:.3,3:.5,4:.7,5:.9,6:1},fs=[{name:"Light",value:"light-v8"},{name:"Satellite",value:"satellite-v9"},{name:"Outdoors",value:"outdoors-v9"},{name:"3D Terrain",value:"TERRAIN"},{name:"3D Buildings",value:"BUILDINGS"},{name:"Dark",value:"dark-v10"}];class Cs extends s.Component{constructor(){super(),this.parseAnalyzeByGatewaysData=()=>this.props.chartData.map((t=>{let e=[];for(let i=0;i<t.messages.length;i++)t.messages[i].gateway_data&&(t.messages[i].gateway_data.snr>this.maxSNR&&(this.maxSNR=t.messages[i].gateway_data.snr),t.messages[i].gateway_data.snr<this.minSNR&&(this.minSNR=t.messages[i].gateway_data.snr),t.messages[i].gateway_data.rssi>this.maxRssi&&(this.maxRssi=t.messages[i].gateway_data.rssi),t.messages[i].gateway_data.rssi<this.minRssi&&(this.minRssi=t.messages[i].gateway_data.rssi),e.push({x:t.messages[i].gateway_data.snr,y:t.messages[i].gateway_data.rssi}));return{name:t[this.props.nameProperty],type:"scatter",graphType:"SNRRSSI",data:e}})),this.parseComparisonData=()=>this.props.chartData.map((t=>{let e=[];for(let i=0;i<t.messages.length;i++){let s,n;if("All gateways per message"===this.props.gatewaysPerMessageLimit.name)if("Average"===this.props.valueType)n=t.messages[i].avg_rssi,s=t.messages[i].avg_snr;else{n="Maximum"===this.props.valueType?t.messages[i].max_rssi:t.messages[i].min_rssi;let e=[];for(let s=0;s<t.messages[i].gateways.length;s++)t.messages[i].gateways[s].rssi===n&&e.push(t.messages[i].gateways[s].snr);s=Math.max(...e)}else{let e,o=0;"Average"===this.props.valueType?(n=0,s=0,e=t=>{s+=t.snr,n+=t.rssi,o++}):"Maximum"===this.props.valueType?(n=-1/0,e=t=>{t.rssi>n&&(s=t.snr,n=t.rssi)}):(n=1/0,e=t=>{t.rssi<n&&(s=t.snr,n=t.rssi)}),t.messages[i].gateways.forEach(((t,i)=>{i<this.props.gatewaysPerMessageLimit.value&&e(t)})),"Average"===this.props.valueType&&(n/=o,s/=o)}n>this.maxRssi&&(this.maxRssi=n),n<this.minRssi&&(this.minRssi=n),s>this.maxSNR&&(this.maxSNR=s),s<this.minSNR&&(this.minSNR=s),e.push({x:s,y:n})}return{name:t[this.props.nameProperty],type:"scatter",graphType:"SNRRSSI",data:e}})),this.scatterChartsData=[],this.chartColors=[],this.minRssi=cs.minRssi,this.maxRssi=cs.maxRssi,this.maxSNR=-1/0,this.minSNR=1/0,this.parseAnalyzeByGatewaysData=this.parseAnalyzeByGatewaysData.bind(this),this.parseComparisonData=this.parseComparisonData.bind(this)}shouldComponentUpdate(t){return"analyzeByGateways"===this.props.graphType?this.props.selectedGateway!==t.selectedGateway:this.props.gatewaysPerMessageLimit.value!==t.gatewaysPerMessageLimit.value||this.props.forceRerender}render(){const{chartData:t,nameProperty:e}=this.props;this.scatterChartsData="analyzeByGateways"===this.props.graphType?this.parseAnalyzeByGatewaysData():this.parseComparisonData();let i=[];this.chartColors=[];let n=0;for(let s=0;s<this.scatterChartsData.length;s++)this.chartColors.push({name:t[s][e],type:"scatter",color:ms[n]}),n++,n%=ms.length,i.push({show:0===s,showAlways:0===s,type:"numeric",min:this.minRssi,max:this.maxRssi,forceNiceScale:!0,decimalsInFloat:0,title:{text:"RSSI"}});const o={type:"numeric",min:this.minSNR,max:this.maxSNR,decimalsInFloat:2,tickPlacement:"on",title:{text:"SNR",offsetY:70},labels:{rotateAlways:!1,rotate:0,trim:!0}},a=gs(this,"AnalyticsSNRRSSIGraph","scatter",this.scatterChartsData,i,o);return(0,u.jsx)(s.Fragment,{children:t.length>0?(0,u.jsx)(hs.Z,{series:a.series,height:500,options:a.options,type:"line"}):(0,u.jsx)("div",{className:"form-error",style:{marginTop:50},children:(0,u.jsx)("h3",{children:"There is no data that matches specified filter conditions"})})})}}const bs=Cs;class ys extends s.PureComponent{render(){return(0,u.jsx)("div",{className:"arrow-container",onClick:()=>this.props.sortFunction(),children:(0,u.jsx)("svg",{focusable:"false",viewBox:"0 0 24 24",style:{transform:"DESC"===this.props.order?"rotate(180deg)":"rotate(0deg)",fill:this.props.selected?"#19ab7f":"#bdbdb4"},children:(0,u.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"})})})}}const ws=ys;var vs=i(9675),Ss=i(4006),Ts=i(1893);class Ps extends s.Component{render(){return(0,u.jsx)(vs.GI,{coordinates:this.props.popupCenter,children:(0,u.jsxs)("div",{className:"mapboxgl-popup-content-container ".concat(this.props.contentContainerClasses||""),children:[(0,u.jsxs)("div",{className:"close-tooltip",children:[this.props.closeTooltipComponent,this.props.hideModal&&(0,u.jsx)("div",{title:"Hide popup",ref:this.props.hideModalRef||null,className:"svg-center-inside-container",onClick:this.props.hideModal,children:(0,u.jsx)(Ts.Z,{})}),(0,u.jsx)("div",{title:"Close popup",ref:this.props.closeModalRef||null,className:"svg-center-inside-container",onClick:this.props.closeModal,children:(0,u.jsx)(Ss.Z,{})})]}),this.props.children]})})}}const Is=Ps;class js extends s.Component{render(){return(0,u.jsxs)("div",{style:{marginTop:10},children:[(0,u.jsx)("p",{style:{textAlign:"center"},children:(0,u.jsx)("b",{children:this.props.name})}),(0,u.jsx)("center",{children:this.props.id}),this.props.children]})}}const Rs=js;var Ms=i(4312);const Bs=(0,vi.ZP)({overrides:{MuiSwitch:{switchBase:{color:"#fff","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)!important"}},colorSecondary:{"&$checked":{color:"#19ab7f","&:hover":{backgroundColor:"rgba(27, 215, 65, 0.04)!important"}}},track:{"$checked$checked + &":{opacity:.7,backgroundColor:"#19ab7f"}}},MuiSlider:{root:{color:"#19ab7f"}}}});class Ds extends s.Component{render(){return(0,u.jsxs)("div",{className:"map-onhover-dropdown-list-options-container",children:[(0,u.jsx)("div",{className:"bolded-title",children:"STYLES"}),this.props.mapStyles.map((t=>(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:t.name}),(0,u.jsx)("div",{children:(0,u.jsx)(Ti.Z,{theme:Bs,children:(0,u.jsx)(Ms.Z,{checked:this.props.selectedMapStyle===t.value,onChange:this.props.switchLayer(t.value)})})})]},t.value)))]})}}const Ls=Ds;class Ns extends s.PureComponent{constructor(){super(),this.state={mapConstructed:!1},this.reactMapboxGlMap=null}componentDidMount(){this.reactMapboxGlMap=(0,vs.ZP)({accessToken:"pk.eyJ1Ijoic2xhdmVuZGFtIiwiYSI6ImNrZ3pudHFxZzE1ZHoycnIxOXEzMndidTEifQ.sKPryHAJXxnH32c2W0HPsQ",preserveDrawingBuffer:this.props.preserveDrawingBuffer}),this.setState({mapConstructed:!0})}render(){if(this.state.mapConstructed){const t=this.reactMapboxGlMap;return(0,u.jsx)(t,{style:this.props.mapStyle,center:this.props.center,zoom:this.props.zoom,minZoom:this.props.minZoom,maxZoom:this.props.maxZoom,onClick:this.props.onClick,onZoom:this.props.onZoom,onZoomStart:this.props.onZoomStart,onZoomEnd:this.props.onZoomEnd,onPitchStart:this.props.onPitchStart,onPitchEnd:this.props.onPitchEnd,children:this.props.children})}return null}}const ks=Ns;var Os=i(3693);class Fs extends s.Component{constructor(){super(),this.handleYesClick=()=>{const t=this.props.statePropertyName;this.props.setChoice({[t]:!0},(()=>{this.props.userChoice()}))},this.handleOkClick=()=>{const t=this.props.statePropertyName;this.props.setChoice({[t]:!1},(()=>{this.props.userChoice&&this.props.userChoice()}))},this.handleNoClick=()=>{const t=this.props.statePropertyName;this.props.setChoice({[t]:!1},(()=>{this.props.userChoice&&this.props.userChoice()}))},this.handleYesClick=this.handleYesClick.bind(this),this.handleNoClick=this.handleNoClick.bind(this),this.handleOkClick=this.handleOkClick.bind(this)}render(){const{message:t,visible:e,loading:i,loadingText:n,singleButton:o,type:a,error:r,buttonGreenText:l,buttonCancelText:h}=this.props;return e?(0,u.jsx)("div",{className:"popup-disable-background",children:(0,u.jsx)("div",{className:"popup-container",style:this.props.containerStyle||{},children:this.props.children?this.props.children:(0,u.jsxs)(s.Fragment,{children:[r?(0,u.jsx)("div",{className:"popup-icon-container",children:(0,u.jsx)(Je.Z,{className:"popup-alert-icon"})}):1===a?o&&!i?(0,u.jsx)("div",{className:"popup-icon-container",children:(0,u.jsx)(Os.Z,{className:"popup-success-icon"})}):o?null:(0,u.jsx)("div",{className:"popup-icon-container",children:(0,u.jsx)(Je.Z,{className:"popup-alert-icon"})}):2===a?(0,u.jsx)("div",{className:"popup-icon-container",children:(0,u.jsx)(Je.Z,{className:"popup-alert-icon"})}):3===a?(0,u.jsx)("div",{className:"popup-icon-container",children:(0,u.jsx)(Ke.Z,{className:"popup-alert-icon"})}):void 0,i?(0,u.jsxs)(s.Fragment,{children:[n?(0,u.jsx)("div",{className:"popup-message",children:n}):null,(0,u.jsx)(Ai,{center:!0})]}):(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{className:"popup-message",children:r||t}),(0,u.jsx)("div",{className:"popup-button-container",children:(()=>o?(0,u.jsx)(Ue,{type:"primary",onClick:this.handleOkClick,children:"OK"}):o||1!==a?o||2!==a?null:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(Ue,{type:"popup-delete",onClick:this.handleYesClick,children:"Delete"}),(0,u.jsx)(Ue,{type:"popup-cancel",onClick:this.handleNoClick,children:"Cancel"})]}):(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(Ue,{type:"primary",style:{borderRadius:"0.75rem"},onClick:this.handleYesClick,children:l||"Confirm"}),(0,u.jsx)(Ue,{type:"popup-cancel",onClick:this.handleNoClick,children:h||"Cancel"})]}))()})]})]})})}):null}}class Ws extends s.Component{constructor(t){super(t),this.setHeatmapColorLegendMaxMinValues=(t,e)=>{this.setState({minValue:t,maxValue:e})},this.state={minValue:t.minValue,maxValue:t.maxValue},this.setHeatmapColorLegendMaxMinValues=this.setHeatmapColorLegendMaxMinValues.bind(this),this.heatmapCanvasLegend=s.createRef()}componentDidMount(){this.heatmapCanvasLegend.current.width=this.props.width,this.heatmapCanvasLegend.current.height=this.props.height;let t=this.heatmapCanvasLegend.current.getContext("2d");t.fillStyle=this.props.canvasFillStyle,t.fillRect(0,0,this.props.width,this.props.height)}render(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("canvas",{ref:this.heatmapCanvasLegend}),this.props.showLabels?(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{className:"heatmap-color-legend-label top",children:this.state.maxValue>this.state.minValue?this.state.maxValue:null}),(0,u.jsx)("div",{className:"heatmap-color-legend-label bottom",children:this.state.minValue})]}):null]})}}const Hs=Ws;var Gs=i(1317);const Es=s.createContext();class Vs extends s.Component{constructor(){super(),this.setUserUnit=t=>{this.setState({userUnit:t})},this.isPermissionAllowed=(t,e)=>{if(0===this.state.userPermissions.length)return null;if(t.length>0){e||(e="AND");for(let i=0;i<t.length;i++)if(this.state.userGrantedPermissionsCached[t[i]]||this.state.userPermissions.includes(t[i])){if("OR"===e)return!0}else if("AND"===e)return!1;return"AND"===e}return!0},this.getUserPermissions=()=>{c("user")?b.get.call(this,"/permission2/",(t=>{Gs.log("User permissions"),Gs.log(t),this.setState({userPermissions:t.permissions.map((t=>t.permission_id)),userUnit:t.unit,userOrganizations:t.org,userActiveOrganization:t.org.find((t=>t.selected))})})):this.setState({userPermissions:[],userGrantedPermissionsCached:{},userUnit:"metric",userOrganizations:[],userActiveOrganization:null})},this.state={responseError:null,userPermissions:[],userGrantedPermissionsCached:{},userUnit:"metric",userOrganizations:[],userActiveOrganization:null},this.mounted=!1,this.isPermissionAllowed=this.isPermissionAllowed.bind(this),this.getUserPermissions=this.getUserPermissions.bind(this),this.setUserUnit=this.setUserUnit.bind(this)}componentWillUnmount(){Gs.log("Permission context unmount"),this.mounted=!1,window.removeEventListener("appAuthSet",this.getUserPermissions)}componentDidMount(){this.mounted=!0,window.addEventListener("appAuthSet",this.getUserPermissions)}render(){return Gs.log("User permisisons"),Gs.log(this.state.userPermissions),(0,u.jsx)(Qe,{responseError:this.state.responseError,contextError:!0,children:(0,u.jsx)(Es.Provider,{value:{isPermissionAllowed:this.isPermissionAllowed,userUnit:this.state.userUnit,setUserUnit:this.setUserUnit,userOrganizations:this.state.userOrganizations,userActiveOrganization:this.state.userActiveOrganization,getUserPermissions:this.getUserPermissions},children:this.props.children})})}}const zs=Es;var qs=i(1317);const Us=class{constructor(t){this.rectangleDimensionsFromPoints=t=>{let e=[];for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++){let n=T(ie(t[i],t[s]),8);e.includes(n)||e.push(n)}return e.sort(((t,e)=>e-t)),{a:e[e.length-2],b:e[e.length-1]}},this.mainComponentThis=t}create(t,e,i){let s=document.createElementNS("http://www.w3.org/2000/svg",e);for(let n in i)s.setAttribute(n,i[n]);return"none"!==t&&t.current.appendChild(s),s}angleDeg(t,e,i,s){let n=s-e,o=i-t,a=Math.atan2(n,o);return a*=180/Math.PI,a<0&&(a=360+a),a}angle(t,e,i,s,n,o){let a,r,l=parseInt(t),h=parseInt(e),p=parseInt(i),d=parseInt(s);if(n){let t=parseInt(n),e=parseInt(o),i=Math.sqrt(Math.pow(Math.abs(p-l),2)+Math.pow(Math.abs(d-h),2)),s=Math.sqrt(Math.pow(Math.abs(p-t),2)+Math.pow(Math.abs(d-e),2)),c=Math.sqrt(Math.pow(Math.abs(t-l),2)+Math.pow(Math.abs(e-h),2));a=0===i||0===s?Math.PI/2:Math.acos((Math.pow(i,2)+Math.pow(s,2)-Math.pow(c,2))/(2*i*s)),r=360*a/(2*Math.PI)}else a=l-p===0?Math.PI/2:Math.atan((h-d)/(l-p)),r=180*a/Math.PI;return{rad:a,deg:r}}getAngle(t,e){return{rad:Math.atan2(e.y-t.y,e.x-t.x),deg:180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI}}middle(t,e,i,s){let n=parseInt(t),o=parseInt(e);return{x:(n+parseInt(i))/2,y:(o+parseInt(s))/2}}triangleArea(t,e,i){let s=0,n=0,o=0,a=0;return s=ie(t,e),n=ie(e,i),o=ie(i,t),a=(s+n+o)/2,Math.sqrt(a*(a-s)*(a-n)*(a-o))}gap(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)}pDistance(t,e,i){let s,n,o=t.x,a=t.y,r=e.x,l=e.y,h=i.x,p=i.y,d=h-r,c=p-l,m=d*d+c*c,u=-1;0!==m&&(u=((o-r)*d+(a-l)*c)/m),u<0?(s=r,n=l):u>1?(s=h,n=p):(s=r+u*d,n=l+u*c);let g=o-s,x=a-n;return{x:s,y:n,distance:Math.sqrt(g*g+x*x)}}nearPointOnEquation(t,e){let i={},s={};return"h"===t.A?{x:e.x,y:t.B,distance:Math.abs(t.B-e.y)}:"v"===t.A?{x:t.B,y:e.y,distance:Math.abs(t.B-e.x)}:(i.x=e.x,i.y=t.A*e.x+t.B,s.x=(e.y-t.B)/t.A,s.y=e.y,this.pDistance(e,i,s))}circlePath(t,e,i){return"M "+t+" "+e+" m -"+i+", 0 a "+i+","+i+" 0 1,0 "+2*i+",0 a "+i+","+i+" 0 1,0 -"+2*i+",0"}perpendicularEquation(t,e,i){return"string"!=typeof t.A?{A:-1/t.A,B:i- -1/t.A*e}:"h"===t.A?{A:"v",B:e}:"v"===t.A?{A:"h",B:i}:void 0}angleBetweenEquations(t,e){return"h"===t&&(t=0),"h"===e&&(e=0),"v"===t&&(t=1e4),"v"===e&&(e=1e4),360*Math.atan(Math.abs((e-t)/(1+t*e)))/(2*Math.PI)}vectorXY(t,e){return{x:e.x-t.x,y:e.y-t.y}}vectorDeter(t,e){return t.x*e.y-t.y*e.x}btwn(t,e,i){return arguments.length>3&&void 0!==arguments[3]&&arguments[3]&&(t=Math.round(t),e=Math.round(e),i=Math.round(i)),t>=e&&t<=i||t>=i&&t<=e}getNodeFromPath(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],s=t.getPathData(),n=[],o=0;for(let a=0;a<s.length;a++)s[a].values[0]===e.x&&s[a].values[1]===e.y&&"Z"!==s[a].type&&-1===i.indexOf(a)&&(o++,n.push(a));return 0!==o&&n}polygonIntoWalls(t,e){let i=e,s=[],n=[];for(let r=0;r<i.length;r++)n.push({x:t[i[r]].x,y:t[i[r]].y});for(let r=0;r<i.length-1;r++)for(let e=0;e<t[i[r+1]].segment.length;e++)for(let n=0;n<t[i[r]].segment.length;n++)t[i[r+1]].segment[e]===t[i[r]].segment[n]&&s.push({x1:t[i[r]].x,y1:t[i[r]].y,x2:t[i[r+1]].x,y2:t[i[r+1]].y,segment:t[i[r+1]].segment[e]});s=s.filter(((t,e,i)=>i.findIndex((e=>t.segment===e.segment))===e));let o=[],a=[];for(let r=0;r<s.length;r++){let t,e=[],i=s[r];t=r<s.length-1?s[r+1]:s[0];let l=Math.atan2(i.y2-i.y1,i.x2-i.x1),h=Math.atan2(t.y2-t.y1,t.x2-t.x1),p=this.mainComponentThis.WALLS[i.segment].thick/2*Math.sin(l),d=this.mainComponentThis.WALLS[i.segment].thick/2*Math.cos(l),c=this.mainComponentThis.WALLS[t.segment].thick/2*Math.sin(h),m=this.mainComponentThis.WALLS[t.segment].thick/2*Math.cos(h),u=ee(i.x1+p,i.y1-d,i.x2+p,i.y2-d),g=ee(i.x1-p,i.y1+d,i.x2-p,i.y2+d),x=ee(t.x1+c,t.y1-m,t.x2+c,t.y2-m),A=ee(t.x1-c,t.y1+m,t.x2-c,t.y2+m);l*=180/Math.PI,h*=180/Math.PI,u.A!==x.A?(e.push(Kt(u,x,"object")),e.push(Kt(g,A,"object"))):(e.push({x:i.x2+p,y:i.y2-d}),e.push({x:i.x2-p,y:i.y2+d}));for(let s=0;s<e.length;s++)Zt(e[s],n)?o.push(e[s]):a.push(e[s])}return o.push(o[0]),a.push(a[0]),{inside:o,outside:a}}area(t){if(t.length<2)return!1;let e=0,i=t.length-1;for(let s=0;s<t.length;s++)e+=(t[i].x+t[s].x)*(t[i].y-t[s].y),i=s;return e/=2,Math.abs(e.toFixed(2))}areaRoom(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,s=e,n=0,o=s.length-2;for(let a=0;a<s.length-1;a++)n+=(t[s[o]].x+t[s[a]].x)*(t[s[o]].y-t[s[a]].y),o=a;return n/=2,Math.abs(n.toFixed(i))}junctionList(t){let e=[],i=[];for(let n=0;n<t.length;n++){let s=ee(t[n].start.x,t[n].start.y,t[n].end.x,t[n].end.y);for(let o=0;o<t.length;o++)if(o!==n){let a,r=ee(t[o].start.x,t[o].start.y,t[o].end.x,t[o].end.y);(a=Kt(s,r,"object"))&&(Et(t[n].end,t[o].start)||Et(t[n].start,t[o].end)?(Et(t[n].end,t[o].start)&&e.push({segment:n,child:o,values:[t[o].start.x,t[o].start.y],type:"natural"}),Et(t[n].start,t[o].end)&&e.push({segment:n,child:o,values:[t[n].start.x,t[n].start.y],type:"natural"})):this.btwn(a.x,t[n].start.x,t[n].end.x,"round")&&this.btwn(a.y,t[n].start.y,t[n].end.y,"round")&&this.btwn(a.x,t[o].start.x,t[o].end.x,"round")&&this.btwn(a.y,t[o].start.y,t[o].end.y,"round")&&e.push({segment:n,child:o,values:[a.x,a.y],type:"intersection"})),Math.abs(s.A)!==Math.abs(r.A)&&s.A!==r.A||s.B!==r.B||(Et(t[n].end,t[o].start)&&e.push({segment:n,child:o,values:[t[o].start.x,t[o].start.y],type:"natural"}),Et(t[n].start,t[o].end)&&e.push({segment:n,child:o,values:[t[n].start.x,t[n].start.y],type:"natural"}),Et(t[n].start,t[o].start)&&Et(t[n].end,t[o].end)||(Et(t[n].start,t[o].start)?i.push({segment:n,child:o,values:[t[n].start.x,t[n].start.y],type:"natural"}):Et(t[n].end,t[o].end)&&i.push({segment:n,child:o,values:[t[n].end.x,t[n].end.y],type:"natural"})))}}let s=i.filter((t=>!e.find((e=>Et({x:t.values[0],y:t.values[1]},{x:e.values[0],y:e.values[1]})))));for(let n=0;n<s.length;n++)e.push(s[n]);return e}vertexList(t){let e,i=[];for(let s=0;s<t.length;s++){e=!0;for(let n=0;n<i.length;n++){if(Math.round(t[s].values[0])===Math.round(i[n].x)&&Math.round(t[s].values[1])===Math.round(i[n].y)){e=!1,i[n].segment.push(t[s].segment);break}e=!0}e&&i.push({x:Math.round(t[s].values[0]),y:Math.round(t[s].values[1]),realX:t[s].values[0],realY:t[s].values[1],segment:[t[s].segment],bypass:0,type:t[s].type})}for(let s=0;s<i.length;s++){i[s].child=[],i[s].removed=[];for(let t=0;t<i[s].segment.length;t++)for(let e=0;e<i.length;e++)if(e!==s)for(let n=0;n<i[e].segment.length;n++)i[e].segment[n]===i[s].segment[t]&&i[s].child.push({id:e,angle:Math.floor(this.getAngle(i[s],i[e]).deg)})}return i}arrayCompare(t,e,i){let s=0,n=0;"pop"===i&&(s=1),"shift"===i&&(n=1);let o=t.length-s-n;for(let a=n;a<t.length-s;a++)for(let i=n;i<e.length-s;i++)t[a]===e[i]&&o--;return 0===o}vectorVertex(t,e,i){let s=this.vectorXY(t,e),n=this.vectorXY(e,i),o=Math.sqrt(s.x*s.x+s.y*s.y),a=Math.sqrt(n.x*n.x+n.y*n.y),r=(s.x*n.x+s.y*n.y)/(o*a),l=s.x*n.y-s.y*n.x;return Math.sign(l)*Math.acos(r)*(180/Math.PI)}segmentTree(t,e){let i=[t],s=[],n=e.length,o=t;return this.tree(i,o,n,e,s),s}tree(t,e,i,s,n){if(0===t.length)return;let o=[];i--;for(let a=0;a<t.length;a++){let r=!0,l=t[a],h=l.toString().split("-"),p=parseInt(h[h.length-1]);for(let t=0;t<s[p].child.length;t++)if(s[p].child[t].id===e&&i<s.length-1&&h.length>2){n.push(l+"-"+e),r=!1;break}if(r){let t=-1,n=1/0,a=0,r=0;if(1===s[p].child.length)p===e&&i===s.length-1&&o.push(l+"-"+s[p].child[0].id),p!==e&&i<s.length-1&&o.push(l+"-"+s[p].child[0].id);else{for(let o=0;o<s[p].child.length&&s[p].child.length>0;o++){if(p===e&&i===s.length-1){let e=this.vectorVertex({x:0,y:-1},s[p],s[s[p].child[o].id]);e>=a&&(r=1,a=e,t=s[p].child[o].id),-1===Math.sign(e)&&0===r&&(e<n&&Math.sign(n)>-1&&(n=e,t=s[p].child[o].id),e>n&&-1===Math.sign(n)&&(n=e,t=s[p].child[o].id))}if(p!==e&&h[h.length-2]!==s[p].child[o].id.toString()&&i<s.length-1){let e=this.vectorVertex(s[h[h.length-2]],s[p],s[s[p].child[o].id]);e<n&&0===r&&(n=e,t=s[p].child[o].id),-1===Math.sign(e)&&(r=1,e<=n&&(n=e,t=s[p].child[o].id))}}-1!==t&&o.push(l+"-"+t)}}}i>0&&this.tree(o,e,i,s,n)}polygonize(t){let e=this.junctionList(t),i=this.vertexList(e,t),s=[];for(let g=0;g<i.length;g++)for(let t=0;t<i[g].child.length;t++)s.push([g,i[g].child[t].id]);let n,o,a=[];for(let g=0;g<s.length;g++){let t=0,e=1/0;for(let s=0;s<i.length;s++)i[s].x<e&&i[s].child.length>1&&0===i[s].bypass&&(e=i[s].x,t=s),i[s].x===e&&i[s].child.length>1&&0===i[s].bypass&&i[s].y>i[t].y&&(e=i[s].x,t=s);if(n=this.segmentTree(t,i),0===n.length&&(i[t].bypass=1),n.length>0){let e=n[0].split("-"),s=this.areaRoom(i,e),l=parseInt(s);o=!0;for(let n=0;n<a.length;n++)if(this.arrayCompare(a[n].way,e,"pop")){o=!1,i[t].bypass=1;break}if(l<360&&(i[t].bypass=1),0===i[t].bypass){let s=this.polygonIntoWalls(i,e),n=this.area(s.inside),o=this.area(s.outside),h=[];for(let t=0;t<e.length;t++)h.push({x:i[e[t]].x,y:i[e[t]].y,realX:i[e[t]].realX,realY:i[e[t]].realY});s.inside.length!==s.outside.length?a.push({way:e,coords:h,coordsOutside:s.outside,coordsInside:s.inside,coordsInsideWithOrphans:s.inside,area:n,outsideArea:o,realArea:l}):a.push({way:e,coords:s.inside,coordsOutside:s.outside,coordsInside:s.inside,coordsInsideWithOrphans:s.inside,area:n,outsideArea:o,realArea:l});for(let a=0;a<i[t].child.length;a++)i[t].child[a].id===e[1]&&i[t].child.splice(a,1);for(let a=0;a<i[e[1]].child.length;a++)i[e[1]].child[a].id===t&&i[e[1]].child.splice(a,1);do{qs.log("Do while loop");var r=0;for(let t=0;t<i.length;t++)if(1===i[t].child.length){r=1,i[t].child=[];for(let e=0;e<i.length;e++)for(let s=0;s<i[e].child.length;s++)i[e].child[s].id===t&&i[e].child.splice(s,1)}}while(1===r)}}}qs.log(a);let l=[];for(let g=0;g<a.length;g++){let t=[],e=[];for(let i=0;i<a.length;i++)if(g!==i){let s=a[i].coordsInsideWithOrphans,n=s.length;o=!0;for(let t=0;t<n&&(o=Qt(s[t],a[g].coordsInsideWithOrphans),o);t++);o&&(t.push(i),e.push(a[i]),a[g].area=a[g].area-a[i].outsideArea)}a[g].inside=t,a[g].insidePolygonsObjects=e,t.length>0&&l.push({polygon:a[g],polygonIndex:g})}let h={};qs.log("insidePolygons "+l.length),qs.log(l);for(let g=0;g<l.length;g++)if(void 0===h[l[g].polygonIndex]){let t=!1,e=[];for(let i=0;i<l.length;i++)g!==i&&0===this.diffObjIntoArray(l[g].polygon.coordsInsideWithOrphans,l[i].polygon.coordsInsideWithOrphans)&&(t=!0,h[l[i].polygonIndex]=i,e.push(l[i].polygonIndex));if(t){let t;for(let i=0;i<e.length;i++)(t=l[g].polygon.inside.findIndex((t=>t===e[i])))&&(l[g].polygon.inside.splice(t,1),l[g].polygon.insidePolygonsObjects.splice(t,1))}}const p=Object.keys(h);let d=[],c=[];for(let g=0;g<p.length;g++)d.push(p[g]),c.push(h[p[g]]);c.sort(((t,e)=>e-t));for(let g=0;g<c.length;g++)qs.log("Delete duplicate inside polygon index "+c[g]),l.splice(c[g],1);let m=[],u={};for(let g=0;g<l.length;g++)if(l[g].polygon.inside.length>0){let t=!1,e={};l[g].polygon.coordsInsideWithOrphans.forEach((t=>e["".concat(t.x,"|").concat(t.y)]=!0));for(let i=0;i<l[g].polygon.inside.length;i++){if(0!==a[l[g].polygon.inside[i]].coordsInsideWithOrphans.filter((t=>e["".concat(t.x,"|").concat(t.y)])).length){qs.log("Pronadene zajednicke koordinate s inside poligonom"+g),t=!0;break}{let e=!1;for(let t=0;t<a[l[g].polygon.inside[i]].coordsInsideWithOrphans.length;t++)if(!Zt(a[l[g].polygon.inside[i]].coordsInsideWithOrphans[t],l[g].polygon.coordsInsideWithOrphans)){e=!0;break}if(e){qs.log("Pronadene tocke inside poligona koje nisu unutar glavnoga"+g),t=!0;break}}}t||(qs.log("Nemoj brisati poligon "+g),m.push(l[g].polygon))}d.sort(((t,e)=>e-t));for(let g=0;g<d.length;g++)a.splice(d[g],1);if(d.length>0)for(let g=0;g<m.length;g++){for(let t=0;t<m[g].inside.length;t++)m[g].inside[t]=a.findIndex((e=>e===m[g].insidePolygonsObjects[t]));delete m[g].insidePolygonsObjects}for(let g=0;g<m.length;g++)u[a.findIndex((t=>t===m[g]))]=!0;return{polygons:a,vertex:i,roomsWithInsideRoomsNoDeleteIndexes:u}}diffArray(t,e){return t.concat(e).filter((i=>t.includes(i)&&e.includes(i)?void 0:i))}diffObjIntoArray(t,e){let i=0;for(let n=0;n<t.length-1;n++)for(let s=0;s<e.length-1;s++)Wt(t[n],e[s])&&i++;let s=t.length-1;return s<e.length-1&&(s=e.length),s-i}polygonVisualCenter(t){let e,i,s,n,o=t.coords,a=t.inside,r=[];for(let u=0;u<o.length;u++){let t=o[u];(!u||t.x<e)&&(e=t.x),(!u||t.y<i)&&(i=t.y),(!u||t.x>s)&&(s=t.x),(!u||t.y>n)&&(n=t.y)}let l=s-e,h=n-i,p=Math.floor(l/10),d=Math.floor(h/10);for(let u=0;u<10;u++)for(let t=0;t<10;t++){let s=e+t*p,n=i+u*d;if(Zt({x:s,y:n},o)){let t=!0;for(let e=0;e<a.length;e++)if(Zt({x:s,y:n},this.mainComponentThis.ROOM[a[e]].coordsOutside)){t=!1;break}t&&r.push({x:s,y:n})}}let c,m=0;for(let u=0;u<r.length;u++){let t=1/0;for(let e=0;e<o.length-1;e++){let i=this.pDistance(r[u],o[e],o[e+1]);i.distance<t&&(t=i.distance)}t>m&&(c=u,m=t)}return r[c]}textOnDiv(t,e,i,s){if("undefined"!=typeof e){let n=document.createElementNS("http://www.w3.org/2000/svg","text");n.setAttributeNS(null,"x",e.x),n.setAttributeNS(null,"y",e.y),n.setAttribute("style","fill:"+i.color+";font-weight:"+i.fontWeight+";font-size:"+i.fontSize),n.setAttributeNS(null,"text-anchor","middle"),n.textContent=t,qs.log("Text ond div"),s.appendChild(n)}}};const Js=class{constructor(t,e,i,s){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Unknown";this.thick=s,this.start=t,this.end=e,this.type=i,this.parent=null,this.child=null,this.angle=0,this.equations={},this.coords=[],this.backUp=!1,this.material=n}};var Xs=i(1317);const Ys=class{constructor(t,e,i,s,n,o,a,r,l){var h=this;this.heatmapPopupRayCasting=t=>{const e=this.mainComponentThis.createElementPopupSvgRectanglePolygon(this.mainComponentThis.drawingAreaPopup.current);return Zt({x:t.xMouse,y:t.yMouse},e)},this.createAndShowBoxMeasures=function(t,e,i,s,n){let o,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},r=e-t,l=s-i,p=(e-t)/h.mainComponentThis.meter,d=(s-i)/h.mainComponentThis.meter,c="m"+(e+40)+","+i;c+=" l60,0 m-40,10 l10,-10 l10,10 m-10,-10",c=c+" l0,"+l,c+=" m-30,0 l60,0 m-40,-10 l10,10 l10,-10",c=c+"M"+t+","+(i-40),c+=" l0,-60 m10,40 l-10,-10 l10,-10 m-10,10",c=c+" l"+r+",0",c+=" m0,30 l0,-60 m-10,40 l10,-10 l-10,-10",Ot(n.current),h.mainComponentThis.qSVG.create(n,"path",{d:c,stroke:a.color||"#555",fill:"none","stroke-width":a.strokeWidth||.5,"stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":4,"fill-rule":"nonzero"}),o=document.createElementNS("http://www.w3.org/2000/svg","text"),o.setAttributeNS(null,"x",e+70),o.setAttributeNS(null,"y",(s+i)/2+35),o.setAttributeNS(null,"fill",a.color||"#555"),o.setAttributeNS(null,"text-anchor","middle"),o.textContent=We(d,h.mainComponentThis.context.userUnit,"meter","feet",2,!0,!0),o.setAttribute("transform","rotate(270 "+(e+70)+","+(s+i)/2+")"),n.current.appendChild(o),o=document.createElementNS("http://www.w3.org/2000/svg","text"),o.setAttributeNS(null,"x",(e+t)/2),o.setAttributeNS(null,"y",i-95),o.setAttributeNS(null,"fill",a.color||"#555"),o.setAttributeNS(null,"text-anchor","middle"),o.textContent=We(p,h.mainComponentThis.context.userUnit,"meter","feet",2,!0,!0),n.current.appendChild(o)},this.isStartStopWallPoint=(t,e)=>{const i=T(t.x,0),s=T(t.y,0),n=T(e.start.x,0),o=T(e.start.y,0),a=T(e.end.x,0),r=T(e.end.y,0);return i===n&&s===o||i===a&&s===r},this.sliceWall=(t,e)=>{let i=new Js(e.start,t,"normal",e.thick,e.material);this.mainComponentThis.setWallId(i),i.equations.base=e.equations.base;let s=new Js(t,e.end,"normal",e.thick,e.material);return this.mainComponentThis.setWallId(s),s.equations.base=e.equations.base,[i,s]},this.onWallAddedSlicing=t=>{let e=[t],i=[],s={};if(t.equations.base){for(let t=0;t<e.length;t++){let n=!1;for(let o=0;o<this.mainComponentThis.WALLS.length-1;o++)if(s[o])Xs.log("Zid vec presijecen");else if(this.mainComponentThis.WALLS[o].equations.base){const a=Kt(e[t].equations.base,this.mainComponentThis.WALLS[o].equations.base,"object");if(a&&this.mainComponentThis.qSVG.btwn(a.x,e[t].start.x,e[t].end.x,"round")&&this.mainComponentThis.qSVG.btwn(a.y,e[t].start.y,e[t].end.y,"round")&&this.mainComponentThis.qSVG.btwn(a.x,this.mainComponentThis.WALLS[o].start.x,this.mainComponentThis.WALLS[o].end.x,"round")&&this.mainComponentThis.qSVG.btwn(a.y,this.mainComponentThis.WALLS[o].start.y,this.mainComponentThis.WALLS[o].end.y,"round")){if(s[o]=!0,!this.isStartStopWallPoint(a,e[t])){Xs.log("Sijeci zid koji se obraduje");const s=this.sliceWall(a,e[t],null);if(e.push(s[0],s[1]),this.isStartStopWallPoint(a,this.mainComponentThis.WALLS[o]))i.push(this.mainComponentThis.WALLS[o]);else{Xs.log("SIjeci postojeci 2"),i=i.filter((t=>t!==this.mainComponentThis.WALLS[o]));const t=this.sliceWall(a,this.mainComponentThis.WALLS[o]);i.push(t[0],t[1])}n=!0;break}if(this.isStartStopWallPoint(a,this.mainComponentThis.WALLS[o]))Xs.log("Ne sijeci postojeci"),i.push(this.mainComponentThis.WALLS[o]);else{Xs.log("Sijeci postojeci"),i=i.filter((t=>t!==this.mainComponentThis.WALLS[o]));const t=this.sliceWall(a,this.mainComponentThis.WALLS[o]);i.push(t[0],t[1])}Xs.log(i)}else Xs.log("Ne sijeku se"),i.push(this.mainComponentThis.WALLS[o])}else Xs.log("Nema equation"),i.push(this.mainComponentThis.WALLS[o]);!n&&i.push(e[t])}i=i.filter(((t,e,i)=>i.findIndex((e=>t===e))===e))}else i=this.mainComponentThis.WALLS;Xs.log("Final wals after slicing"),Xs.log(i),this.mainComponentThis.WALLS=i},this.removeZeroLengthWallsAndSliceExistingWalls=()=>{Xs.log("Walls count before filtering zero length "+this.mainComponentThis.WALLS.length);let t=this.mainComponentThis.WALLS.filter((t=>!Et(t.start,t.end)));this.mainComponentThis.WALLS=[],Xs.log("Walls count before slicing "+t.length);for(let e=0;e<t.length;e++)this.mainComponentThis.WALLS.push(t[e]),this.onWallAddedSlicing(t[e]);Xs.log("Walls count befotre filtering duplicates"+this.mainComponentThis.WALLS.length),this.mainComponentThis.WALLS=this.mainComponentThis.WALLS.filter(((t,e,i)=>i.findIndex((e=>Et(t.start,e.start)&&Et(t.end,e.end)))===e)),Xs.log("Walls count after filtering duplicates"+this.mainComponentThis.WALLS.length)},this.boxWall=t,this.boxArea=e,this.panel=i,this.boxRoom=s,this.boxSurface=n,this.boxRib=o,this.areaValue=a,this.boxScale=r,this.mainComponentThis=l}getWallNode(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[];for(let s in this.mainComponentThis.WALLS)Wt(this.mainComponentThis.WALLS[s],e)||(Wt(this.mainComponentThis.WALLS[s].start,t)&&i.push({wall:this.mainComponentThis.WALLS[s],type:"start"}),Wt(this.mainComponentThis.WALLS[s].end,t)&&i.push({wall:this.mainComponentThis.WALLS[s],type:"end"}));return 0!==i.length&&i}wallsComputing(t){let e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ot(this.boxWall.current),Ot(this.boxWall.current);for(let s=0;s<t.length;s++)e=t[s],null!=e.parent&&(Wt(e.parent.start,e.start)||Wt(e.parent.end,e.start)||(e.parent=null)),null!=e.child&&(Wt(e.child.start,e.end)||Wt(e.child.end,e.end)||(e.child=null));for(let s=0;s<t.length;s++){let n,o,a,r,l,h;if(e=t[s],null!=e.parent)Wt(e.parent.start,e.start)&&(n=e.parent,o=n.end,a=n.start),Wt(e.parent.end,e.start)&&(n=e.parent,o=n.start,a=n.end);else{let t=this.getWallNode(e.start,e);for(let s in t){let r=this.createEquationFromWall(t[s].wall),l=90;"move"===i&&(l=this.mainComponentThis.qSVG.angleBetweenEquations(r.A,this.mainComponentThis.equation2.A)),"start"===t[s].type&&null==t[s].wall.parent&&l>20&&l<160&&(e.parent=t[s].wall,t[s].wall.parent=e,n=e.parent,o=n.end,a=n.start),"end"===t[s].type&&null==t[s].wall.child&&l>20&&l<160&&(e.parent=t[s].wall,t[s].wall.child=e,n=e.parent,o=n.start,a=n.end)}}if(null!=e.child)Wt(e.child.end,e.end)?(r=e.child,l=r.end,h=r.start):(r=e.child,l=r.start,h=r.end);else{let t=this.getWallNode(e.end,e);for(let s in t){let n=this.createEquationFromWall(t[s].wall),o=90;"move"===i&&(o=this.mainComponentThis.qSVG.angleBetweenEquations(n.A,this.mainComponentThis.equation2.A)),"end"===t[s].type&&null==t[s].wall.child&&o>20&&o<160&&(e.child=t[s].wall,t[s].wall.child=e,r=e.child,l=r.end,h=r.start),"start"===t[s].type&&null==t[s].wall.parent&&o>20&&o<160&&(e.child=t[s].wall,t[s].wall.parent=e,r=e.child,l=r.start,h=r.end)}}let p=Math.atan2(e.end.y-e.start.y,e.end.x-e.start.x);e.angle=p;let d,c,m,u,g=e.thick/2*Math.sin(p),x=e.thick/2*Math.cos(p),A=ee(e.start.x+g,e.start.y-x,e.end.x+g,e.end.y-x),f=ee(e.start.x-g,e.start.y+x,e.end.x-g,e.end.y+x),C=ee(e.start.x,e.start.y,e.end.x,e.end.y);if(e.equations={up:A,down:f,base:C},null==e.parent)c=this.mainComponentThis.qSVG.perpendicularEquation(A,e.start.x,e.start.y),m=Kt(A,c,"object"),u=Kt(f,c,"object"),e.coords=[m,u],d="M"+m.x+","+m.y+" L"+u.x+","+u.y+" ";else{let t=this.mainComponentThis.qSVG.perpendicularEquation(A,e.start.x,e.start.y),i=Math.atan2(a.y-o.y,a.x-o.x),s=n.thick/2*Math.sin(i),r=n.thick/2*Math.cos(i),l=ee(o.x+s,o.y-r,a.x+s,a.y-r),h=ee(o.x-s,o.y+r,a.x-s,a.y+r);if(Math.abs(i-p)>.09){m=Kt(A,l,"object"),u=Kt(f,h,"object"),A.A===l.A&&(m={x:e.start.x+g,y:e.start.y-x},u={x:e.start.x-g,y:e.start.y+x}),this.mainComponentThis.qSVG.gap(m,{x:a.x,y:a.y})>1e3&&(m=Kt(t,A,"object"),u=Kt(t,f,"object"))}Math.abs(i-p)<=.09&&(m=Kt(t,A,"object"),u=Kt(t,f,"object")),e.coords=[m,u],d="M"+m.x+","+m.y+" L"+u.x+","+u.y+" "}if(null==e.child)c=this.mainComponentThis.qSVG.perpendicularEquation(A,e.end.x,e.end.y),m=Kt(A,c,"object"),u=Kt(f,c,"object"),e.coords.push(u,m),d=d+"L"+u.x+","+u.y+" L"+m.x+","+m.y+" Z";else{let t=this.mainComponentThis.qSVG.perpendicularEquation(A,e.end.x,e.end.y),i=Math.atan2(h.y-l.y,h.x-l.x),s=r.thick/2*Math.sin(i),n=r.thick/2*Math.cos(i),o=ee(l.x+s,l.y-n,h.x+s,h.y-n),a=ee(l.x-s,l.y+n,h.x-s,h.y+n);if(Math.abs(i-p)>.09){m=Kt(A,o,"object"),u=Kt(f,a,"object"),A.A===o.A&&(m={x:e.end.x+g,y:e.end.y-x},u={x:e.end.x-g,y:e.end.y+x}),this.mainComponentThis.qSVG.gap(m,{x:l.x,y:l.y})>1e3&&(m=Kt(A,t,"object"),u=Kt(f,t,"object"))}Math.abs(i-p)<=.09&&(m=Kt(A,t,"object"),u=Kt(f,t,"object")),e.coords.push(u,m),d=d+"L"+u.x+","+u.y+" L"+m.x+","+m.y+" Z"}e.graph=this.makeWall(d,e.material),this.boxWall.current.appendChild(e.graph)}}makeWall(t,e){let i=this.mainComponentThis.wallMaterials.find((t=>t.title===e));return this.mainComponentThis.qSVG.create("none","path",{d:t,stroke:"none",fill:i?i.fill:this.mainComponentThis.wallMaterials[0].fill,"stroke-width":1,"stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":4,"fill-rule":"nonzero"})}visibleWall(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t||(t=this.mainComponentThis.binder.wall),t.type="normal",t.thick=t.backUp,t.backUp=!1,this.architect(this.mainComponentThis.WALLS),this.mainComponentThis.mode="select_mode",this.mainComponentThis.saveNeeded=!0,this.mainComponentThis.save(!1,!0),!0}architect(t){return this.wallsComputing(t),this.mainComponentThis.Rooms=this.mainComponentThis.qSVG.polygonize(t),Ot(this.boxRoom.current),Ot(this.boxSurface.current),this.roomMaker(this.mainComponentThis.Rooms),!0}nearWallNode(t){let e,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],o=1/0;for(let a=0;a<this.mainComponentThis.WALLS.length;a++)if(-1===n.indexOf(this.mainComponentThis.WALLS[a])){let s=this.mainComponentThis.WALLS[a].start,n=this.mainComponentThis.WALLS[a].end,r=ie(s,t);r<o&&(e=s,o=r,i=a),r=ie(n,t),r<o&&(e=n,o=r,i=a)}return o<=s&&{x:e.x,y:e.y,bestWall:i}}rayCastingWall(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[];for(let s=0;s<this.mainComponentThis.WALLS.length;s++)if(4===this.mainComponentThis.WALLS[s].coords.length){let e=[];for(let t=0;t<4;t++)e.push({x:this.mainComponentThis.WALLS[s].coords[t].x,y:this.mainComponentThis.WALLS[s].coords[t].y});Zt(t,e)&&i.push(this.mainComponentThis.WALLS[s])}return 0!==i.length&&(e||1===i.length?i[0]:i)}stickOnWall(t){if(0===this.mainComponentThis.WALLS.length)return!1;let e=1/0,i={};if(0===this.mainComponentThis.WALLS.length)return!1;for(let n=0;n<this.mainComponentThis.WALLS.length;n++){let s=ee(this.mainComponentThis.WALLS[n].coords[0].x,this.mainComponentThis.WALLS[n].coords[0].y,this.mainComponentThis.WALLS[n].coords[3].x,this.mainComponentThis.WALLS[n].coords[3].y),o=this.mainComponentThis.qSVG.nearPointOnEquation(s,t),a=ee(this.mainComponentThis.WALLS[n].coords[1].x,this.mainComponentThis.WALLS[n].coords[1].y,this.mainComponentThis.WALLS[n].coords[2].x,this.mainComponentThis.WALLS[n].coords[2].y),r=this.mainComponentThis.qSVG.nearPointOnEquation(a,t);o.distance<e&&this.mainComponentThis.qSVG.btwn(o.x,this.mainComponentThis.WALLS[n].coords[0].x,this.mainComponentThis.WALLS[n].coords[3].x)&&this.mainComponentThis.qSVG.btwn(o.y,this.mainComponentThis.WALLS[n].coords[0].y,this.mainComponentThis.WALLS[n].coords[3].y)&&(e=o.distance,i={wall:this.mainComponentThis.WALLS[n],x:o.x,y:o.y,distance:o.distance}),r.distance<e&&this.mainComponentThis.qSVG.btwn(r.x,this.mainComponentThis.WALLS[n].coords[1].x,this.mainComponentThis.WALLS[n].coords[2].x)&&this.mainComponentThis.qSVG.btwn(r.y,this.mainComponentThis.WALLS[n].coords[1].y,this.mainComponentThis.WALLS[n].coords[2].y)&&(e=r.distance,i={wall:this.mainComponentThis.WALLS[n],x:r.x,y:r.y,distance:r.distance})}let s=this.nearVertice(t);if(s.distance<e){let t=ee(s.number.coords[0].x,s.number.coords[0].y,s.number.coords[3].x,s.number.coords[3].y),n=this.mainComponentThis.qSVG.nearPointOnEquation(t,s),o=ee(s.number.coords[1].x,s.number.coords[1].y,s.number.coords[2].x,s.number.coords[2].y),a=this.mainComponentThis.qSVG.nearPointOnEquation(o,s);n.distance<e&&this.mainComponentThis.qSVG.btwn(n.x,s.number.coords[0].x,s.number.coords[3].x)&&this.mainComponentThis.qSVG.btwn(n.y,s.number.coords[0].y,s.number.coords[3].y)&&(e=n.distance,i={wall:s.number,x:n.x,y:n.y,distance:n.distance}),a.distance<e&&this.mainComponentThis.qSVG.btwn(a.x,s.number.coords[1].x,s.number.coords[2].x)&&this.mainComponentThis.qSVG.btwn(a.y,s.number.coords[1].y,s.number.coords[2].y)&&(e=a.distance,i={wall:s.number,x:a.x,y:a.y,distance:a.distance})}return i}objFromWall(t){let e=[];for(let i=0;i<this.mainComponentThis.OBJDATA.length;i++){let s;if("inWall"===this.mainComponentThis.OBJDATA[i].family){let n=ee(t.start.x,t.start.y,t.end.x,t.end.y);s=this.mainComponentThis.qSVG.nearPointOnEquation(n,this.mainComponentThis.OBJDATA[i]),s.distance<.01&&this.mainComponentThis.qSVG.btwn(this.mainComponentThis.OBJDATA[i].x,t.start.x,t.end.x)&&this.mainComponentThis.qSVG.btwn(this.mainComponentThis.OBJDATA[i].y,t.start.y,t.end.y)&&e.push(this.mainComponentThis.OBJDATA[i])}}return e}createEquationFromWall(t){return ee(t.start.x,t.start.y,t.end.x,t.end.y)}rayCastingWalls(t){let e=[];for(let i=0;i<this.mainComponentThis.WALLS.length;i++)if(4===this.mainComponentThis.WALLS[i].coords.length){let s=[];for(let t=0;t<4;t++)s.push({x:this.mainComponentThis.WALLS[i].coords[t].x,y:this.mainComponentThis.WALLS[i].coords[t].y});Zt(t,s)&&e.push(this.mainComponentThis.WALLS[i])}return 0!==e.length&&(1===e.length?e[0]:e)}inWallRib2(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Xs.log("In wall rib2 pozvan"),e||Ot(this.boxRib.current);let i,s=[],n=[];s.push(n),s.push(n);let o=t.angle*(180/Math.PI),a=this.objFromWall(t);s[0].push({wall:t,crossObj:!1,side:"up",coords:t.coords[0],distance:0}),s[1].push({wall:t,crossObj:!1,side:"down",coords:t.coords[1],distance:0});for(let r in a){let e=a[r];e.up=[this.mainComponentThis.qSVG.nearPointOnEquation(t.equations.up,e.limit[0]),this.mainComponentThis.qSVG.nearPointOnEquation(t.equations.up,e.limit[1])],e.down=[this.mainComponentThis.qSVG.nearPointOnEquation(t.equations.down,e.limit[0]),this.mainComponentThis.qSVG.nearPointOnEquation(t.equations.down,e.limit[1])],i=ie(t.coords[0],e.up[0])/this.mainComponentThis.meter,s[0].push({wall:t,crossObj:r,side:"up",coords:e.up[0],distance:i.toFixed(2)}),i=ie(t.coords[0],e.up[1])/this.mainComponentThis.meter,s[0].push({wall:t,crossObj:r,side:"up",coords:e.up[1],distance:i.toFixed(2)}),i=ie(t.coords[1],e.down[0])/this.mainComponentThis.meter,s[1].push({wall:t,crossObj:r,side:"down",coords:e.down[0],distance:i.toFixed(2)}),i=ie(t.coords[1],e.down[1])/this.mainComponentThis.meter,s[1].push({wall:t,crossObj:r,side:"down",coords:e.down[1],distance:i.toFixed(2)})}i=ie(t.coords[0],t.coords[3])/this.mainComponentThis.meter,s[0].push({wall:t,crossObj:!1,side:"up",coords:t.coords[3],distance:i}),i=ie(t.coords[1],t.coords[2])/this.mainComponentThis.meter,s[1].push({wall:t,crossObj:!1,side:"down",coords:t.coords[2],distance:i}),s[0].sort((function(t,e){return(t.distance-e.distance).toFixed(2)})),s[1].sort((function(t,e){return(t.distance-e.distance).toFixed(2)}));for(let r in s)for(let t=1;t<s[r].length;t++){let e=!0,i=-5,n=Math.abs(s[r][t-1].distance-s[r][t].distance),a=o;if(e){"down"===s[r][t-1].side&&(i=10-i),(a>89||a<-89)&&(a-=180,i="down"===s[r][t-1].side?-5:10-i),this.mainComponentThis.sizeText[t]=document.createElementNS("http://www.w3.org/2000/svg","text");let e=this.mainComponentThis.qSVG.middle(s[r][t-1].coords.x,s[r][t-1].coords.y,s[r][t].coords.x,s[r][t].coords.y);this.mainComponentThis.sizeText[t].setAttributeNS(null,"x",e.x),this.mainComponentThis.sizeText[t].setAttributeNS(null,"y",e.y+i),this.mainComponentThis.sizeText[t].setAttributeNS(null,"text-anchor","middle"),this.mainComponentThis.sizeText[t].setAttributeNS(null,"font-family","roboto"),this.mainComponentThis.sizeText[t].setAttributeNS(null,"stroke","#ffffff"),this.mainComponentThis.sizeText[t].textContent=We(n,this.mainComponentThis.context.userUnit),this.mainComponentThis.sizeText[t].textContent<1?(this.mainComponentThis.sizeText[t].setAttributeNS(null,"font-size","0.8em"),this.mainComponentThis.sizeText[t].textContent=this.mainComponentThis.sizeText[t].textContent.substring(1,this.mainComponentThis.sizeText[t].textContent.length)):this.mainComponentThis.sizeText[t].setAttributeNS(null,"font-size","15px"),this.mainComponentThis.sizeText[t].setAttributeNS(null,"stroke-width","0.4px"),this.mainComponentThis.sizeText[t].setAttributeNS(null,"fill","#666666"),this.mainComponentThis.sizeText[t].setAttribute("transform","rotate("+a+" "+e.x+","+e.y+")"),this.boxRib.current.appendChild(this.mainComponentThis.sizeText[t])}}}areSamePolygons(t,e){let i=this.mainComponentThis.qSVG.diffObjIntoArray(t.coordsInsideWithOrphans||t.coordsInside,e.coordsInsideWithOrphans||e.coordsInside);if(t.way.length===e.way.length||0===i){if(0===this.mainComponentThis.qSVG.diffArray(t.way,e.way).length||0===i)return!0}else if(t.way.length===e.way.length+1){if(1===this.mainComponentThis.qSVG.diffArray(t.way,e.way).length||2===i)return!0}else if(t.way.length===e.way.length-1&&1===this.mainComponentThis.qSVG.diffArray(t.way,e.way).length)return!0;return!1}roomMaker(t){this.mainComponentThis.globalArea=0,0===t.polygons.length&&(this.mainComponentThis.ROOM=[]);for(let n=0;n<t.polygons.length;n++){let e=!1;for(let i=0;i<this.mainComponentThis.ROOM.length;i++)if(this.areSamePolygons(t.polygons[n],this.mainComponentThis.ROOM[i])){e=!0,this.mainComponentThis.ROOM[i].area=t.polygons[n].area,this.mainComponentThis.ROOM[i].realRoomArea=Fe(t.polygons[n]),this.mainComponentThis.ROOM[i].inside=t.polygons[n].inside,this.mainComponentThis.ROOM[i].insideNoDelete=t.roomsWithInsideRoomsNoDeleteIndexes[n],this.mainComponentThis.ROOM[i].coords=t.polygons[n].coords,this.mainComponentThis.ROOM[i].coordsOutside=t.polygons[n].coordsOutside,this.mainComponentThis.ROOM[i].way=t.polygons[n].way,this.mainComponentThis.ROOM[i].coordsInside=t.polygons[n].coordsInside,this.mainComponentThis.ROOM[i].coordsInsideWithOrphans=t.polygons[n].coordsInsideWithOrphans;break}e||(this.mainComponentThis.ROOM.push({id:this.mainComponentThis.roomIdCounter,coords:t.polygons[n].coords,coordsOutside:t.polygons[n].coordsOutside,coordsInside:t.polygons[n].coordsInside,coordsInsideWithOrphans:t.polygons[n].coordsInside,inside:t.polygons[n].inside,insideNoDelete:t.roomsWithInsideRoomsNoDeleteIndexes[n],way:t.polygons[n].way,area:t.polygons[n].area,realRoomArea:Fe(t.polygons[n]),surface:"",name:"",color:"gradientWhite",showSurface:!1,action:"add"}),this.mainComponentThis.roomIdCounter++)}let e=[];for(let n=0;n<this.mainComponentThis.ROOM.length;n++)if(this.mainComponentThis.ROOM[n].inside.length>0&&!this.mainComponentThis.ROOM[n].insideNoDelete)e.push(n);else{let i=!1;for(let e=0;e<t.polygons.length;e++)if(this.areSamePolygons(t.polygons[e],this.mainComponentThis.ROOM[n])){i=!0;break}i||e.push(n)}e.sort((function(t,e){return e-t}));for(let n=0;n<e.length;n++)this.mainComponentThis.ROOM.splice(e[n],1);let i={};for(let n=0;n<this.mainComponentThis.ROOM.length;n++)if(!i[n])for(let t=0;t<this.mainComponentThis.ROOM.length;t++)n!==t&&this.areSamePolygons(this.mainComponentThis.ROOM[n],this.mainComponentThis.ROOM[t])&&(i[t]=!0);Xs.log("Duplicates to splice "+JSON.stringify(i));const s=Object.keys(i).sort(((t,e)=>e-t));for(let n=0;n<s.length;n++)this.mainComponentThis.ROOM.splice(s[n],1);Xs.log("EMpty elememts"),Ot(this.boxRoom.current),Ot(this.boxSurface.current),Ot(this.boxArea.current);for(let n=0;n<this.mainComponentThis.ROOM.length;n++){"add"===this.mainComponentThis.ROOM[n].action&&(this.mainComponentThis.globalArea=this.mainComponentThis.globalArea+this.mainComponentThis.ROOM[n].realRoomArea);let t=this.mainComponentThis.ROOM[n].coords,e="M"+t[0].x+","+t[0].y;for(let n=1;n<t.length;n++)e=e+" L"+t[n].x+","+t[n].y;this.mainComponentThis.qSVG.create(this.boxRoom,"path",{d:e,fill:"none","fill-opacity":1,stroke:"none","fill-rule":"evenodd",class:"room"}),this.mainComponentThis.qSVG.create(this.boxSurface,"path",{d:e,fill:"none","fill-opacity":1,stroke:"none","fill-rule":"evenodd",class:"room"});let i,s=this.mainComponentThis.qSVG.polygonVisualCenter(this.mainComponentThis.ROOM[n]);""!==this.mainComponentThis.ROOM[n].name&&s&&(i={color:"#343938"},this.mainComponentThis.qSVG.textOnDiv(this.mainComponentThis.ROOM[n].name,s,i,this.mainComponentThis.boxArea.current)),""!==this.mainComponentThis.ROOM[n].name&&s&&(s.y=s.y+20),Xs.log("Area of room"),Xs.log(this.mainComponentThis.ROOM[n].realRoomArea),this.mainComponentThis.ROOM[n].realRoomArea<0&&Xs.log("Negative room surface"),i={color:"#343938",fontSize:"12.5px",fontWeight:"normal"},""!==this.mainComponentThis.ROOM[n].surface&&(i.fontWeight="bold")}if(this.mainComponentThis.globalArea<=0)this.mainComponentThis.globalArea=0,this.areaValue.current.innerHTML="";else{const t=this.mainComponentThis.globalArea/(this.mainComponentThis.meter*this.mainComponentThis.meter);this.areaValue.current.innerHTML=Ge(t,this.mainComponentThis.context.userUnit,"square meter","square foot",2,!0,!1)}this.roomWallsClockwiseOrder(),Xs.log("Roomss"+this.mainComponentThis.ROOM.length),Xs.log(this.mainComponentThis.ROOM)}roomWallsClockwiseOrder(){let t=[];for(let i=0;i<this.mainComponentThis.ROOM.length;i++){Xs.log("Room"),Xs.log(this.mainComponentThis.ROOM[i]),Xs.log(this.mainComponentThis.WALLS);let e={x:this.mainComponentThis.ROOM[i].coords[0].realX,y:this.mainComponentThis.ROOM[i].coords[0].realY};const s=Vt(this.mainComponentThis.ROOM[i].coords);if(Xs.log("Is clockwise "+s),s){let s,n;Xs.log("Nastavi obilazak sobe u dosadasnjem smjeru");for(let o=0;o<this.mainComponentThis.ROOM[i].coords.length-1;o++)s=o,n=s===this.mainComponentThis.ROOM[i].coords.length-2?0:s+1,Xs.log("Wall "+s+" -> "+n),Xs.log("Cwstop before "+JSON.stringify(e)),e=this.roomWallsClockwiseOrderProcessWall(this.mainComponentThis.ROOM[i],s,n,t,e),Xs.log("Cwstop after "+JSON.stringify(e))}else{let s,n;Xs.log("Obrni smjer obilaska sobe");for(let o=0;o>=0&&(s=o,0===o?(n=this.mainComponentThis.ROOM[i].coords.length-2,o=this.mainComponentThis.ROOM[i].coords.length-1):n=s-1,Xs.log("Wall "+s+" -> "+n),Xs.log("Cwstop before "+JSON.stringify(e)),e=this.roomWallsClockwiseOrderProcessWall(this.mainComponentThis.ROOM[i],s,n,t,e),Xs.log("Cwstop after "+JSON.stringify(e)),1!==o);o--);}}this.mainComponentThis.ORPHANWALLS=[];let e=[];for(let i=0;i<this.mainComponentThis.WALLS.length;i++)if(!t.find((t=>t===this.mainComponentThis.WALLS[i]))){const t=_t(this.mainComponentThis.WALLS[i].start,this.mainComponentThis.ROOM,!1),s=_t(this.mainComponentThis.WALLS[i].end,this.mainComponentThis.ROOM,!1);let n;if(this.mainComponentThis.ORPHANWALLS.push({wall:this.mainComponentThis.WALLS[i],startRoom:t,endRoom:s}),t&&!s?n=t:!t&&s&&(n=s),n){let t=e.find((t=>t.room===n));t?t.orphanWalls.push(this.mainComponentThis.ORPHANWALLS[this.mainComponentThis.ORPHANWALLS.length-1]):e.push({room:n,orphanWalls:[this.mainComponentThis.ORPHANWALLS[this.mainComponentThis.ORPHANWALLS.length-1]]})}}Xs.log("Orphan walls count "+this.mainComponentThis.ORPHANWALLS.length),Xs.log("roomsWithSingleOrphanWalls count"+e.length),Xs.log(e),this.interpolateRoomCoordsInsideWithOrphanWalls(e)}interpolateRoomCoordsInsideWithOrphanWalls(t){for(let e=0;e<t.length;e++){let i=[];for(let n=0;n<t[e].room.coordsInside.length-1;n++)$t(n,t[e].room.coordsInside,i);let s=[...t[e].room.coordsInside];for(let n=0;n<t[e].orphanWalls.length;n++){Xs.log("Current orphan wall");let o=[],a=[];for(let i=0;i<t[e].orphanWalls[n].wall.coords.length;i++)It(t[e].orphanWalls[n].wall.coords[i],t[e].orphanWalls[n].wall.equations.up,this.isPointOnWallDecimalPrecision)?o.push(t[e].orphanWalls[n].wall.coords[i]):a.push(t[e].orphanWalls[n].wall.coords[i]);Xs.log("Room coords before "+JSON.stringify(s)),Xs.log("Room coords up point"+JSON.stringify(o)),Xs.log("Room coords down point"+JSON.stringify(a));let r=[],l={intersectedRoomCoordsInsideWalls:[],upEquationWallNode1SpliceIndex:null,upEquationWallNode2SpliceIndex:null};if(this.orphanWallLineProcessing(t[e].orphanWalls[n].wall.equations.up,o,i,t[e].room.coordsInside,s,r,l,!0),this.orphanWallLineProcessing(t[e].orphanWalls[n].wall.equations.down,a,i,t[e].room.coordsInside,s,r,l,!1),null!==l.upEquationWallNode1SpliceIndex&&null!==l.upEquationWallNode2SpliceIndex&&4===r.length){let t=null;l.intersectedRoomCoordsInsideWalls.length>1?(Xs.log("Orphan izmedu 2 zida"),-1!==l.upEquationWallNode2SpliceIndex?(Xs.log("Interpoliraj wallNode2"),t=l.upEquationWallNode2SpliceIndex):Xs.log("Exception, nema wallNode2 indexa")):(Xs.log("Orphan na rubu"),Et(r[0],l.intersectedRoomCoordsInsideWalls[0].wallNode1,0)?-1!==l.upEquationWallNode1SpliceIndex?(Xs.log("Interpoliraj wallNode1"),t=l.upEquationWallNode1SpliceIndex):Xs.log("Exception, nema wallNode1 indexa"):Et(r[3],l.intersectedRoomCoordsInsideWalls[0].wallNode2,0)?-1!==l.upEquationWallNode2SpliceIndex?(Xs.log("Interpoliraj wallNode2"),t=l.upEquationWallNode2SpliceIndex):Xs.log("Exception, nema wallNode2 indexa"):Xs.log("Orphan na rubu interpolation exception")),null!==t&&s.splice(t,1,r[0],r[1],r[2],r[3]),Xs.log("Room coords after "+JSON.stringify(s))}else Xs.log("Orphan walls interpolation exception "+JSON.stringify(t[e].orphanWalls[n].wall.coords));Xs.log(l)}t[e].room.coordsInsideWithOrphans=s}}orphanWallLineProcessing(t,e,i,s,n,o,a,r){let l=e[0];Zt(e[1],s)||(l=e[1]);let h=e.find((t=>t!==l));const p=Nt(e[0],e[1]);for(let d=0;d<i.length;d++){const e=Kt(i[d].wallEquation,t,"object");if(e){Xs.log("Equation intersection "+JSON.stringify(e));const t=Nt(i[d].wallNode1,i[d].wallNode2);if(Lt(0,e.x,e.y,p,t)){a.intersectedRoomCoordsInsideWalls.find((t=>t===i[d]))||a.intersectedRoomCoordsInsideWalls.push(i[d]),Xs.log("Intersection coords inside wall"),Xs.log(i[d]),Xs.log("Pomjeri tocku orphan zida "+JSON.stringify(l)),l.x=e.x,l.y=e.y,Xs.log("Tocka orphan zida nakom pomjeranja "+JSON.stringify(l)),r?(o.push(l,h),a.upEquationWallNode1SpliceIndex=n.findIndex((t=>Et(t,i[d].wallNode1,0))),a.upEquationWallNode2SpliceIndex=n.findIndex((t=>Et(t,i[d].wallNode2,0)))):o.push(h,l);break}}}}roomWallsClockwiseOrderProcessWall(t,e,i,s,n){const o=te(t.coords,e,i);Xs.log(o);let a=this.mainComponentThis.WALLS.find((t=>T(t.start.x,0)===T(o.wallNode1.realX,0)&&T(t.start.y,0)===T(o.wallNode1.realY,0)&&T(t.end.x,0)===T(o.wallNode2.realX,0)&&T(t.end.y,0)===T(o.wallNode2.realY,0)||T(t.start.x,0)===T(o.wallNode2.realX,0)&&T(t.start.y,0)===T(o.wallNode2.realY,0)&&T(t.end.x,0)===T(o.wallNode1.realX,0)&&T(t.end.y,0)===T(o.wallNode1.realY,0)));Xs.log(a);let r=n;return a?(Xs.log("Wall start "+JSON.stringify(a.start)+"wall end: "+JSON.stringify(a.end)),Xs.log(JSON.stringify(r)),Xs.log("Wall needs switch "+!Et(a.start,r,0)),Xs.log(s),Xs.log(!s.find((t=>t===a))),Et(a.start,r,0)?(!s.find((t=>t===a))&&s.push(a),r=a.end):s.find((t=>t===a))?r=a.start:(Xs.log(JSON.stringify(r)),Xs.log(JSON.stringify(a.start)),Xs.log("Obrnioo"),this.switchWallStartEnd(a),s.push(a),r=a.end)):(r={x:o.wallNode2.realX,y:o.wallNode2.realY},Xs.log("Nema target walla u roomWallsClockwiseOrderProcessWall"+JSON.stringify(o))),r}switchWallStartEnd(t){const e={...t.start};t.start={...t.end},t.end=e}findCorrespondingWall(t){return this.mainComponentThis.WALLS.find((e=>e.start.x===t.wallNode1.realX&&e.start.y===t.wallNode1.realY&&e.end.x===t.wallNode2.realX&&e.end.y===t.wallNode2.realY||e.start.x===t.wallNode2.realX&&e.start.y===t.wallNode2.realY&&e.end.x===t.wallNode1.realX&&e.end.y===t.wallNode1.realY))}nearVertice(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,s=1/0;for(let n=0;n<this.mainComponentThis.WALLS.length;n++){let i=this.mainComponentThis.qSVG.gap(t,{x:this.mainComponentThis.WALLS[n].start.x,y:this.mainComponentThis.WALLS[n].start.y}),o=this.mainComponentThis.qSVG.gap(t,{x:this.mainComponentThis.WALLS[n].end.x,y:this.mainComponentThis.WALLS[n].end.y});i<o&&i<s&&(s=i,e={number:this.mainComponentThis.WALLS[n],x:this.mainComponentThis.WALLS[n].start.x,y:this.mainComponentThis.WALLS[n].start.y,distance:Math.sqrt(s)}),o<i&&o<s&&(s=o,e={number:this.mainComponentThis.WALLS[n],x:this.mainComponentThis.WALLS[n].end.x,y:this.mainComponentThis.WALLS[n].end.y,distance:Math.sqrt(s)})}return s<i*i&&e}nearWall(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,s=1/0,n={};if(0===this.mainComponentThis.WALLS.length)return!1;for(let a=0;a<this.mainComponentThis.WALLS.length;a++){let i=ee(this.mainComponentThis.WALLS[a].start.x,this.mainComponentThis.WALLS[a].start.y,this.mainComponentThis.WALLS[a].end.x,this.mainComponentThis.WALLS[a].end.y);e=this.mainComponentThis.qSVG.nearPointOnEquation(i,t),e.distance<s&&this.mainComponentThis.qSVG.btwn(e.x,this.mainComponentThis.WALLS[a].start.x,this.mainComponentThis.WALLS[a].end.x)&&this.mainComponentThis.qSVG.btwn(e.y,this.mainComponentThis.WALLS[a].start.y,this.mainComponentThis.WALLS[a].end.y)&&(s=e.distance,n={wall:this.mainComponentThis.WALLS[a],x:e.x,y:e.y,distance:e.distance})}let o=this.nearVertice(t);return o.distance<s&&(s=o.distance,n={wall:o.number,x:o.x,y:o.y,distance:o.distance}),s<=i&&n}showScaleBox(){const t=Tt(this.mainComponentThis.WALLS);if(!t)return Ot(this.boxScale.current),void(this.mainComponentThis.boxWallCoordinates={minX:0,maxX:0,minY:0,maxY:0,width:0,height:0});this.createAndShowBoxMeasures(t.minX,t.maxX,t.minY,t.maxY,this.boxScale),this.mainComponentThis.boxWallCoordinates={},this.mainComponentThis.boxWallCoordinates.maxX=T(t.maxX,0),this.mainComponentThis.boxWallCoordinates.minX=T(t.minX,0),this.mainComponentThis.boxWallCoordinates.minY=T(t.minY,0),this.mainComponentThis.boxWallCoordinates.maxY=T(t.maxY,0),this.mainComponentThis.boxWallCoordinates.width=this.mainComponentThis.boxWallCoordinates.maxX-this.mainComponentThis.boxWallCoordinates.minX,this.mainComponentThis.boxWallCoordinates.height=this.mainComponentThis.boxWallCoordinates.maxY-this.mainComponentThis.boxWallCoordinates.minY}};const Zs=class{constructor(t,e,i,s,n,o,a){let r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"normal",l=arguments.length>8?arguments[8]:void 0,h=arguments.length>9?arguments[9]:void 0,p=arguments.length>10?arguments[10]:void 0,d=arguments.length>11?arguments[11]:void 0,c=arguments.length>12?arguments[12]:void 0;this.family=t,this.class=e,this.type=i,this.x=s.x,this.y=s.y,this.angle=n,this.angleSign=o,this.limit=[],this.hinge=r,this.graph=c.qSVG.create("none","g",{"data-object-class":this.class,"data-object-type":this.type}),this.scale={x:1,y:1},this.value=h,this.size=a,this.thick=l,this.width=(this.size/c.meter).toFixed(2),this.height=(this.thick/c.meter).toFixed(2),p&&(this.position_num=p),d&&(this.baseStationOptions=d);let m,u=c.carpentryCalc(e,i,a,l,h,p,this.baseStationOptions&&this.baseStationOptions.index);for(let x=0;x<u.length;x++)u[x].path&&(m=c.qSVG.create("none","path",{d:u[x].path,"stroke-width":1,fill:u[x].fill,stroke:u[x].stroke,"stroke-dasharray":u[x].strokeDashArray})),u[x].text&&(m=c.qSVG.create("none","text",{x:u[x].x,y:u[x].y,"font-size":"1em",stroke:u[x].stroke,"stroke-width":u[x].strokeWidth,"font-family":"roboto","text-anchor":"middle",fill:u[x].fill}),m.textContent=u[x].text),this.graph.appendChild(m);let g=this.graph.getBoundingClientRect();g.x=g.x*c.zoomFactor-c.offset.left*c.zoomFactor+c.originX_viewbox,g.y=g.y*c.zoomFactor-c.offset.top*c.zoomFactor+c.originY_viewbox,g.origin={x:this.x,y:this.y},this.bbox=g,this.realBbox=[{x:-this.size/2,y:-this.thick/2},{x:this.size/2,y:-this.thick/2},{x:this.size/2,y:this.thick/2},{x:-this.size/2,y:this.thick/2}],"byObject"===t&&(this.family=u.family),this.params=u.params,u.params.width?this.size=u.params.width:this.size=a,u.params.height?this.thick=u.params.height:this.thick=l}update(t){this.width=(this.size/t.meter).toFixed(2),this.height=(this.thick/t.meter).toFixed(2);let e,i=t.carpentryCalc(this.class,this.type,this.size,this.thick,this.value,this.position_num,this.baseStationOptions&&this.baseStationOptions.index);for(let l=0;l<i.length;l++)if(i[l].path)this.graph.querySelectorAll("path")[l].setAttribute("d",i[l].path);else if(i[l].text){let t=this.graph.querySelectorAll("text");for(let e of t)e.setAttribute("font-size",i[l].fontSize),e.setAttribute("fill",i[l].fill);t[0].textContent=i[l].text}if("text"===this.class){let e=t.qSVG.create("none","text",{x:0,y:0,"font-size":i[0].fontSize,stroke:i[0].stroke,"stroke-width":i[0].strokeWidth,"font-family":"roboto","text-anchor":"middle",fill:i[0].fill});e.textContent=i[0].text,e.style.visibility="hidden",this.graph.appendChild(e);const s=e.getBBox();this.size=s.width,this.thick=s.height,e.remove()}e="normal"===this.hinge?1:-1;let s=this.y;this.graph.setAttribute("transform","translate("+this.x+","+s+") rotate("+this.angle+",0,0) scale("+e+", 1)");let n=this.graph.getBoundingClientRect();n.x=n.x*t.zoomFactor-t.offset.left*t.zoomFactor+t.originX_viewbox,n.y=n.y*t.zoomFactor-t.offset.top*t.zoomFactor+t.originY_viewbox,n.origin={x:this.x,y:this.y},this.bbox=n;let o=this.angle*(Math.PI/180),a=[{x:-this.size/2,y:-this.thick/2},{x:this.size/2,y:-this.thick/2},{x:this.size/2,y:this.thick/2},{x:-this.size/2,y:this.thick/2}],r={x:0,y:0};if("text"===this.class&&(a=[{x:this.bbox.x,y:this.bbox.y},{x:this.bbox.x+this.bbox.width*t.zoomFactor,y:this.bbox.y},{x:this.bbox.x+this.bbox.width*t.zoomFactor,y:this.bbox.y+this.bbox.height*t.zoomFactor},{x:this.bbox.x,y:this.bbox.y+this.bbox.height*t.zoomFactor}],r.x=this.bbox.x+this.bbox.width*t.zoomFactor/2,r.y=this.bbox.y+this.bbox.height*t.zoomFactor/2),this.rotateRectangleAroundPoint(a,r,o),"text"!==this.class)for(let l=0;l<a.length;l++)a[l].x+=this.x,a[l].y+=this.y;return this.realBbox=a,!0}rotateRectangleAroundPoint(t,e,i){for(let s=0;s<t.length;s++){const n=t[s].x-e.x,o=t[s].y-e.y;t[s].x=n*Math.cos(i)-o*Math.sin(i),t[s].y=n*Math.sin(i)+o*Math.cos(i),t[s].x+=e.x,t[s].y+=e.y}}};var Qs=i(1317);function Ks(t){if("select_mode"===this.mode&&"off"===this.drag){this.snap=this.calcul_snap(t,"off");let e=!1;for(let t=0;t<this.OBJDATA.length;t++){let i=this.OBJDATA[t].realBbox;Zt(this.snap,i)&&(e=this.OBJDATA[t])}!1!==e?!e.params.bindBox||"position"!==e.type&&"gateway"!==e.type||(!this.selectedBinder||this.selectedBinder&&this.selectedBinder.obj!==e)&&(this.binder||(this.binder=new Zs("free","boundingBox","",e.bbox.origin,e.angle,0,e.size,"normal",e.thick,e.realBbox,void 0,void 0,this),this.binder.update(this),this.binder.obj=e,this.binder.type="boundingBox",this.binder.oldX=this.binder.x,this.binder.oldY=this.binder.y,this.boxBind.current.appendChild(this.binder.graph),e.params.move&&this.cursor("move"))):this.binder&&(this.removeBinder(),this.cursor("default"),this.rib())}}function _s(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("text_mode"===this.mode&&(this.snap=this.calcul_snap(t,this.grid_snap),this.cursor("copy")),"floorplan_image_scaling"===this.mode||"floorplan_image_translation"===this.mode){if(this.snap=this.calcul_snap(t,this.grid_snap),this.cursor("pointer"),this.binder?e&&(this.binder.setAttribute("cx",this.snap.x),this.binder.setAttribute("cy",this.snap.y)):(this.binder=this.qSVG.create("none","circle",{cx:this.snap.x,cy:this.snap.y,r:this.meter/6,fill:"url('#uploadFloorplanCursorCircleGradient')"}),this.boxBind.current.appendChild(this.binder)),e&&"floorplan_image_scaling"===this.mode){let t;if((t=this.boxFloorplanImage.current.querySelector(".floorplan-image-scaling-group"))&&!this.boxFloorplanImage.current.querySelector("#endCircle")){let e=t.querySelector("line");e.setAttribute("x2",this.snap.x),e.setAttribute("y2",this.snap.y)}}}else"upload_floorplan_image_mode"===this.mode&&this.removeBinder()}function $s(t){if("room_mode"===this.mode){let e;this.snap=this.calcul_snap(t,this.grid_snap),(e=_t(this.snap,this.ROOM))?(this.cursor("pointer"),(!this.selectedBinder||this.selectedBinder&&parseInt(this.selectedBinder.id)!==this.ROOM.indexOf(e))&&(this.removeBinder(),this.binder=this.createRoomBinderPath(e))):this.removeBinder()}}function tn(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"table_mode"===this.mode&&(this.snap=this.calcul_snap(t,this.grid_snap),this.binder?e&&(this.binder.x=this.snap.x,this.binder.y=this.snap.y,this.binder.update(this)):(this.binder=new Zs("free","furniture","table",{x:this.snap.x,y:this.snap.y},0,0,this.meter/2,"normal",this.meter/2,null,void 0,void 0,this),this.binder.update(this),this.boxBind.current.appendChild(this.binder.graph)))}function en(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("door_mode"===this.mode){let i;if(this.snap=this.calcul_snap(t,this.grid_snap),i=this.editor.nearWall(this.snap)){let t=i.wall;if(this.cursor("crosshair"),this.binder){if(e){Qs.log("Ne treba napravit mainComponentThis.binder,vec postoji");let e=this.qSVG.angleDeg(t.start.x,t.start.y,t.end.x,t.end.y),s=this.qSVG.vectorXY({x:t.start.x,y:t.start.y},{x:t.end.x,y:t.end.y}),n=this.qSVG.vectorXY({x:t.end.x,y:t.end.y},this.snap),o=this.qSVG.vectorDeter(s,n);this.binder.angleSign=0,1===Math.sign(o)&&(this.binder.angleSign=1,e+=180);let a=Ht(t.equations.base,this.binder.size,i);this.qSVG.btwn(a[0].x,t.start.x,t.end.x)&&this.qSVG.btwn(a[0].y,t.start.y,t.end.y)&&this.qSVG.btwn(a[1].x,t.start.x,t.end.x)&&this.qSVG.btwn(a[1].y,t.start.y,t.end.y)&&(this.binder.x=i.x,this.binder.y=i.y,this.binder.angle=e,this.binder.thick=t.thick,this.binder.limit=a,this.binder.update(this)),(Et(i,t.start)||Et(i,t.end))&&(this.qSVG.btwn(a[0].x,t.start.x,t.end.x)&&this.qSVG.btwn(a[0].y,t.start.y,t.end.y)&&(this.binder.x=a[0].x,this.binder.y=a[0].y),this.qSVG.btwn(a[1].x,t.start.x,t.end.x)&&this.qSVG.btwn(a[1].y,t.start.y,t.end.y)&&(this.binder.x=a[1].x,this.binder.y=a[1].y),Qs.log("Binder"),Qs.log(this.binder),this.binder.limit=a,this.binder.angle=e,this.binder.thick=t.thick)}}else{this.binder=new Zs("inWall","doorWindow",this.modeOption,i,0,0,"simple"===this.modeOption?this.doorSize:this.windowSize,"normal",t.thick,null,void 0,void 0,this);let e=this.qSVG.angleDeg(t.start.x,t.start.y,t.end.x,t.end.y),s=this.qSVG.vectorXY({x:t.start.x,y:t.start.y},{x:t.end.x,y:t.end.y}),n=this.qSVG.vectorXY({x:t.end.x,y:t.end.y},this.snap),o=this.qSVG.vectorDeter(s,n);1===Math.sign(o)&&(e+=180,this.binder.angleSign=1);let a=this.qSVG.middle(t.start.x,t.start.y,t.end.x,t.end.y);this.binder.x=a.x,this.binder.y=a.y,this.binder.angle=e,this.binder.update(this),this.boxBind.current.appendChild(this.binder.graph)}}else this.removeBinder()}}function sn(t){if("select_mode"===this.mode&&"off"===this.drag){this.snap=this.calcul_snap(t,"off");let e,i,s=!1;for(let t=0;t<this.OBJDATA.length;t++){let e=this.OBJDATA[t].realBbox;Zt(this.snap,e)&&(s=this.OBJDATA[t])}if(!1!==s){if(this.binder&&"segment"===this.binder.type&&(this.removeBinder(),this.cursor("default")),!this.selectedBinder||this.selectedBinder&&this.selectedBinder.obj!==s)if(s.params.bindBox)this.binder||(Qs.log("Napravi mainComponentThis.binder za text"),Qs.log(s),this.binder=new Zs("free","boundingBox","",s.bbox.origin,s.angle,0,s.size,"normal",s.thick,s.realBbox,void 0,void 0,this),this.binder.update(this),this.binder.obj=s,this.binder.type="boundingBox",this.binder.oldX=this.binder.x,this.binder.oldY=this.binder.y,this.boxBind.current.appendChild(this.binder.graph),s.params.move&&this.cursor("move"));else if(!this.binder||this.binder.obj&&this.binder.obj!==s){let t;if(this.binder&&this.binder.obj!==s&&this.removeBinder(),t=this.editor.rayCastingWall(s)){t.length>1&&(t=t[0]),this.inWallRib(t);let e=t.thick,i=s.size;this.binder=new Zs("inWall","socle","",s,s.angle,0,i,"normal",e,null,void 0,void 0,this),this.binder.update(this),this.binder.type="obj",this.binder.obj=s,this.binder.oldXY={x:s.x,y:s.y},this.boxBind.current.appendChild(this.binder.graph)}}else this.binder.graph&&(Qs.log("Error binder"),Qs.log(this.binder),t.target===this.binder.graph.firstChild?(this.cursor("move"),this.binder.graph.firstChild.setAttribute("class","circle_css_2"),this.binder.type="obj",this.binder.obj=s):(this.cursor("default"),this.binder.graph.firstChild.setAttribute("class","circle_css_1"),this.binder.type=!1))}else this.binder&&(this.removeBinder(),this.cursor("default"),this.rib());if(e=this.editor.nearWallNode(this.snap,this.nearWallNodeRange)){if(!this.binder||"segment"===this.binder.type)if(this.selectedBinder)if(this.selectedBinder.obj){let t=[];for(let s=this.WALLS.length-1;s>-1;s--)(Wt(this.WALLS[s].start,e)||Wt(this.WALLS[s].end,e))&&t.push(this.WALLS[s]);let i=!1;Qs.log(t);for(let e=0;e<t.length;e++)if(-1!==this.editor.objFromWall(t[e]).indexOf(this.selectedBinder.obj)){i=!0;break}i||(Qs.log("Create node binder"),this.binder=this.qSVG.create(this.boxBind,"circle",{id:"circlebinder",class:"circle_css_2",cx:e.x,cy:e.y,r:this.Rcircle}),this.binder.data=e,this.binder.type="node")}else this.selectedBinder.wall&&(!this.selectedBinder.wall||Wt(this.selectedBinder.wall.start,e)||Wt(this.selectedBinder.wall.end,e))||(this.binder=this.qSVG.create(this.boxBind,"circle",{id:"circlebinder",class:"circle_css_2",cx:e.x,cy:e.y,r:this.Rcircle}),this.binder.data=e,this.binder.type="node");else this.binder=this.qSVG.create(this.boxBind,"circle",{id:"circlebinder",class:"circle_css_2",cx:e.x,cy:e.y,r:this.Rcircle}),this.binder.data=e,this.binder.type="node";this.cursor("move")}else this.binder&&"node"===this.binder.type&&(this.removeBinder(),this.cursor("default"),this.rib());if(i=this.editor.rayCastingWalls(this.snap,this.WALLS)){if((!this.selectedBinder||!this.selectedBinder.obj||this.selectedBinder.obj&&!Array.isArray(i)&&-1===this.editor.objFromWall(i).indexOf(this.selectedBinder.obj)||0===(this.selectedBinder.obj&&Array.isArray(i)&&i.filter((t=>-1!==this.editor.objFromWall(t).indexOf(this.selectedBinder.obj)))).length)&&(!this.selectedBinder||!this.selectedBinder.wall||this.selectedBinder.wall&&this.selectedBinder.wall!==i)&&(i.length>1&&(i=i[i.length-1]),i&&!this.binder)){this.editor.objFromWall(i).length>0&&this.editor.inWallRib2(i),this.binder={},this.binder.wall=i,this.inWallRib(this.binder.wall);let t=this.qSVG.create("none","line",{x1:this.binder.wall.start.x,y1:this.binder.wall.start.y,x2:this.binder.wall.end.x,y2:this.binder.wall.end.y,"stroke-width":this.wallSize,stroke:"#19ab7f"}),e=this.qSVG.create("none","circle",{class:"circle_css",cx:this.binder.wall.start.x,cy:this.binder.wall.start.y,r:this.wallBinderBallsRadius}),s=this.qSVG.create("none","circle",{class:"circle_css",cx:this.binder.wall.end.x,cy:this.binder.wall.end.y,r:this.wallBinderBallsRadius});this.binder.graph=this.qSVG.create("none","g"),this.binder.graph.append(t),this.binder.graph.append(e),this.binder.graph.append(s),this.boxBind.current.appendChild(this.binder.graph),this.binder.type="segment",this.cursor("pointer")}}else if(i=this.editor.nearWall(this.snap,this.nearWallBinderRadius)){if((!this.selectedBinder||!this.selectedBinder.obj||this.selectedBinder.obj&&-1===this.editor.objFromWall(i.wall).indexOf(this.selectedBinder.obj))&&(!this.selectedBinder||!this.selectedBinder.wall||this.selectedBinder.wall&&this.selectedBinder.wall!==i.wall)&&i&&!this.binder){Qs.log("Wall objects"),Qs.log(this.editor.objFromWall(i.wall)),this.selectedBinder&&this.editor.objFromWall(i.wall).length>0&&Qs.log(this.editor.objFromWall(i.wall).indexOf(this.selectedBinder.obj)),i=i.wall,this.editor.objFromWall(i).length>0&&this.editor.inWallRib2(i),this.binder={},this.binder.wall=i,this.inWallRib(this.binder.wall);let t=this.qSVG.create("none","line",{x1:this.binder.wall.start.x,y1:this.binder.wall.start.y,x2:this.binder.wall.end.x,y2:this.binder.wall.end.y,"stroke-width":this.wallSize,stroke:"#19ab7f"}),e=this.qSVG.create("none","circle",{class:"circle_css",cx:this.binder.wall.start.x,cy:this.binder.wall.start.y,r:this.wallBinderBallsRadius}),s=this.qSVG.create("none","circle",{class:"circle_css",cx:this.binder.wall.end.x,cy:this.binder.wall.end.y,r:this.wallBinderBallsRadius});this.binder.graph=this.qSVG.create("none","g"),this.binder.graph.append(t),this.binder.graph.append(e),this.binder.graph.append(s),this.boxBind.current.appendChild(this.binder.graph),this.binder.type="segment",this.cursor("pointer")}}else this.binder&&"segment"===this.binder.type&&(this.removeBinder(),this.cursor("default"),this.rib())}}function nn(t){if("line_mode"===this.mode&&0===this.action&&!t.shiftKey){let e,i;this.snap=this.calcul_snap(t,"off"),this.pox=this.snap.x,this.poy=this.snap.y,(e=this.intersection(this.snap,25))&&(e.distance<10?(this.pox=e.x,this.poy=e.y):this.cursor("crosshair")),(i=this.editor.nearWallNode(this.snap,this.nearWallNodeRange))?(this.pox=i.x,this.poy=i.y,this.binder||(this.binder=this.qSVG.create(this.boxBind,"circle",{id:"circlebinder",class:"circle_css_2",cx:i.x,cy:i.y,r:this.wallBinderPulsingBallRadius})),this.intersectionOff()):(e||this.cursor("crosshair"),this.removeBinder())}}function on(t){if("select_source_location_active"===this.mode&&(this.snap=this.calcul_snap(t,this.grid_snap),!this.binder&&this.createSourceLocationSvgBinder(this.snap.x,this.snap.y),this.setSourceLocationSvgPosition(this.snap.x,this.snap.y),this.checkSimulateTestingSourceLocationIsValid()),"set_testing_locations_active"===this.mode){if(this.snap=this.calcul_snap(t,this.grid_snap),this.binder)this.binder.setAttribute("x",this.snap.x),this.binder.setAttribute("y",this.snap.y),this.binder.setAttribute("transform","translate("+this.snap.x+","+this.snap.y+") ");else{let t=0;const e=this.testPlanLocationsBox.current.children;for(let i of e)parseInt(i.textContent)>t&&(t=parseInt(i.textContent));this.binder=this.createTestingLocationObject(this.snap.x,this.snap.y,t+1,this.boxBind)}this.isLocationInsideRoomAndNotOnWalls(parseFloat(this.binder.getAttribute("x")),parseFloat(this.binder.getAttribute("y")))?this.binder.setAttribute("fill-opacity",1):this.binder.setAttribute("fill-opacity",.5)}}var an=i(1317);let rn=!1;function ln(t){if("layer_mode"!==this.mode&&!rn&&t.shiftKey&&(this.snap=this.calcul_snap(t,this.grid_snap),this.pox=this.snap.xMouse,this.poy=this.snap.yMouse),rn=t.shiftKey,this.props.isHeatmap){let e=!0;this.heatmapObjectBinderCreation(t),this.binder&&(e=!1),"bind_mode"===this.mode?(e=!1,this.snap=this.calcul_snap(t,this.grid_snap),"boundingBox"===this.binder.type&&1===this.action&&this.binder.obj.params.move&&(!this.heatmapGenerated||"position"!==this.binder.obj.type&&"gateway"!==this.binder.obj.type||(this.clearHeatmapCanvases(!1,!0),this.heatmapGenerated=!1,this.closeDrawingAreaPopup(),this.showMapLayer2D3DRef.current&&this.showMapLayer2D3DRef.current.onPositionPopupClose(),this.removeSelectedBinder()),this.binder.x=this.snap.x,this.binder.y=this.snap.y,this.binder.obj.x=this.snap.x,this.binder.obj.y=this.snap.y,this.binder.obj.update(this),this.binder.update(this),this.saveNeeded=!0),"obj"!==this.binder.type&&"segment"!==this.binder.type&&this.rib()):"add_gateway"===this.mode?(e=!1,this.snap=this.calcul_snap(t,this.grid_snap),this.binder?(this.binder.x=this.snap.x,this.binder.y=this.snap.y,this.binder.update(this)):(this.binder=new Zs("free","energy","gateway",{x:this.snap.x,y:this.snap.y},0,0,this.meter,"normal",this.meter,null,void 0,this.gatewayBinderOptions,this),this.binder.update(this),this.boxBind.current.appendChild(this.binder.graph))):"add_position"===this.mode&&(e=!1,this.snap=this.calcul_snap(t,this.grid_snap),this.binder?(this.binder.x=this.snap.x,this.binder.y=this.snap.y,this.binder.update(this)):(this.binder=new Zs("free","energy","position",{x:this.snap.x,y:this.snap.y},0,0,0,"normal",0,null,this.positionBinderNumber,void 0,this),this.binder.update(this),this.boxBind.current.appendChild(this.binder.graph))),!t.touches&&("select_mode"===this.mode&&"on"===this.drag||"layer_mode"!==this.mode&&t.shiftKey)&&(e=!1,this.hideDrawingAreaPopup=!1,this.snap=this.calcul_snap(t,this.grid_snap),an.log("Snap: "),an.log(this.snap),this.cursor("move"),this.distX=(this.snap.xMouse-this.pox)*this.zoomFactor,this.distY=(this.snap.yMouse-this.poy)*this.zoomFactor,an.log("Pox: "+this.pox+", Poy: "+this.poy),an.log("DistX: "+this.distX),an.log("DistY: "+this.distY),this.pox=this.snap.xMouse-this.distX,this.poy=this.snap.yMouse-this.distY,this.zoom_maker("zoomdrag",this.distX,this.distY)),e&&this.showMapLayer2D3DRef.current&&this.showMapLayer2D3DRef.current.handleMapMouseMove2D(t)}else{if(this.textAndUploadFloorplanImageBinderCreation(t,!0),this.roomModeBinderCreation(t),this.tableModeBinderCreation(t,!0),this.doorModeBinderCreation(t,!0),this.selectModeObj2DWallNodeWallSegmentBinderCreation(t),this.lineModeNearWallHleperBinderCreation(t),this.indoorPlanningBinderCreation(t),"simulate_testing_mode"===this.mode&&this.simulateTestingRightBoxRef.current.isRaybasedHeatmapRendered()){const{xMouse:e,yMouse:i}=this.calcul_snap(t,"off");this.isLocationInsideRoomAndNotOnWalls(e,i)?this.cursor("pointer"):this.cursor("default")}if(1===this.action&&"line_mode"===this.mode){this.snap=this.calcul_snap(t,this.grid_snap),this.x=this.snap.x,this.y=this.snap.y;let e=this.minMoveGrid(this.snap),i=document.getElementById("line_construc");if(!i){let t;(t=this.editor.nearWallNode(this.snap,this.nearWallNodeRange))?(this.pox=t.x,this.poy=t.y,this.wallStartX=t.x,this.wallStartY=t.y):this.cursor("crosshair")}if(e>this.grid)if(i){let e;if(document.getElementById("linetemp")&&document.getElementById("linetemp").setAttribute("x2",this.x),document.getElementById("linetemp")&&document.getElementById("linetemp").setAttribute("y2",this.y),(e=this.intersection(this.snap,10))&&(this.x=e.x,this.y=e.y),(this.wallEndConstruc=this.editor.nearWall(this.snap,this.nearWallConstrucRadius))?(this.x=this.wallEndConstruc.x,this.y=this.wallEndConstruc.y):this.cursor("crosshair"),!t.altKey){let t;(t=this.editor.nearWallNode(this.snap,this.nearWallNodeRange))?(this.binder||(this.binder=this.qSVG.create(this.boxBind,"circle",{id:"circlebinder",class:"circle_css_2",cx:t.x,cy:t.y,r:this.wallBinderPulsingBallRadius})),document.getElementById("line_construc")&&document.getElementById("line_construc").setAttribute("x2",t.x),document.getElementById("line_construc")&&document.getElementById("line_construc").setAttribute("y2",t.y),this.x=t.x,this.y=t.y,this.wallEndConstruc=!0,this.intersectionOff()):(this.removeBinder(),!1===this.wallEndConstruc&&this.cursor("crosshair"));let e=this.qSVG.angle(this.pox,this.poy,this.x,this.y),i=Math.abs(e.deg),s=e.deg/i,n=this.poy-s*this.pox,o=(this.y-n)/s;if(!this.binder){let t=!1;i<15&&Math.abs(this.poy-this.y)<25&&(this.y=this.poy,t=!0),i>75&&Math.abs(this.pox-this.x)<25&&(this.x=this.pox,t=!0),i<55&&i>35&&Math.abs(o-this.x)<20&&(this.x=o,t=!0),t?document.getElementById("line_construc")&&document.getElementById("line_construc").setAttribute("stroke-opacity",1):document.getElementById("line_construc")&&document.getElementById("line_construc").setAttribute("stroke-opacity",.7)}}an.log("Wall construct x:"+this.x+"y "+this.y),document.getElementById("line_construc")&&document.getElementById("line_construc").setAttribute("x2",this.x),document.getElementById("line_construc")&&document.getElementById("line_construc").setAttribute("y2",this.y);let i=this.qSVG.middle(this.wallStartX,this.wallStartY,this.x,this.y),s=this.qSVG.angle(this.wallStartX,this.wallStartY,this.x,this.y),n=ie({x:this.wallStartX,y:this.wallStartY},{x:this.x,y:this.y})/this.meter;an.log("Value text "+n),this.lengthTemp||(this.lengthTemp=document.createElementNS("http://www.w3.org/2000/svg","text"),this.lengthTemp.setAttributeNS(null,"x",i.x),this.lengthTemp.setAttributeNS(null,"y",i.y-15),this.lengthTemp.setAttributeNS(null,"text-anchor","middle"),this.lengthTemp.setAttributeNS(null,"stroke","none"),this.lengthTemp.setAttributeNS(null,"stroke-width","0.6px"),this.lengthTemp.setAttributeNS(null,"fill","#777777"),this.lengthTemp.textContent=We(n,this.context.userUnit,"meter","feet",2,!0,!0),this.boxBind.current.appendChild(this.lengthTemp)),this.lengthTemp&&n>.1&&(this.lengthTemp.setAttributeNS(null,"x",i.x),this.lengthTemp.setAttributeNS(null,"y",i.y-15),this.lengthTemp.setAttribute("transform","rotate("+s.deg+" "+i.x+","+i.y+")"),this.lengthTemp.textContent=We(n,this.context.userUnit,"meter","feet",2,!0,!0)),this.lengthTemp&&n<.1&&(this.lengthTemp.textContent="")}else{let t=this.wallSize,e=this.selectedWallMaterial;for(let i=0;i<this.WALLS.length;i++)if(this.WALLS[i].start.x===this.pox&&this.WALLS[i].start.y===this.poy||this.WALLS[i].end.x===this.pox&&this.WALLS[i].end.y===this.poy){t=this.WALLS[i].thick,e=this.WALLS[i].material;break}this.qSVG.create(this.boxBind,"line",{id:"line_construc",x1:this.wallStartX,y1:this.wallStartY,x2:this.x,y2:this.y,"stroke-width":t,"stroke-linecap":"butt","stroke-opacity":.7,stroke:"#9fb2e2","data-wall-material":e}),this.qSVG.create(this.boxBind,"line",{id:"linetemp",x1:this.pox,y1:this.poy,x2:this.x,y2:this.y,stroke:"transparent","stroke-width":.5,"stroke-opacity":"0.9"})}else an.log("Starter nije veci od grid"),an.log("Starter: "+e),an.log("Grid: "+this.grid),document.getElementById("linetemp")&&document.getElementById("linetemp").remove(),document.getElementById("line_construc")&&document.getElementById("line_construc").remove(),this.lengthTemp&&(this.lengthTemp.remove(),this.lengthTemp=null)}if("bind_mode"===this.mode){if(an.log("BIND MODE"),this.snap=this.calcul_snap(t,this.grid_snap),"node"===this.binder.type){an.log("Node binder wall details"),an.log(this.binder);let t=this.snap,e=!1,i=null;for(let s in this.wallListRun){let n=0;if(Wt(this.wallListRun[s].end,this.binder.data)&&(Math.abs(this.wallListRun[s].start.x-this.snap.x)<20&&(t.x=this.wallListRun[s].start.x,e="H",n++),Math.abs(this.wallListRun[s].start.y-this.snap.y)<20&&(t.y=this.wallListRun[s].start.y,e="V",n++)),Wt(this.wallListRun[s].start,this.binder.data)&&(Math.abs(this.wallListRun[s].end.x-this.snap.x)<20&&(t.x=this.wallListRun[s].end.x,e="H",n++),Math.abs(this.wallListRun[s].end.y-this.snap.y)<20&&(t.y=this.wallListRun[s].end.y,e="V",n++)),2===n){i=s;break}}if(i)an.log("Start i end tocka zida iste -> OSTAVI ZID I NE RADI NISTA");else{let i;if(i=this.editor.nearWallNode(this.snap,15,this.wallListRun))t.x=i.x,t.y=i.y,document.getElementById("circlebinder").classList.add("circleGum"),document.getElementById("circlebinder").setAttribute("cx",t.x),document.getElementById("circlebinder").setAttribute("cy",t.y);else{let i;!1!==e&&("H"===e?this.snap.x=t.x:this.snap.y=t.y),(i=this.intersection(this.snap,10,this.wallListRun))?(t.x=i.x,t.y=i.y,this.snap.x=i.x,this.snap.y=i.y,!1!==e&&("H"===e?this.snap.x=t.x:this.snap.y=t.y)):(an.log("iscrtaj move kursor"),this.cursor("move")),document.getElementById("circlebinder").classList.add("circle_css"),document.getElementById("circlebinder").setAttribute("cx",t.x),document.getElementById("circlebinder").setAttribute("cy",t.y)}for(let e in this.wallListRun)Wt(this.wallListRun[e].start,this.binder.data)&&(this.wallListRun[e].start.x=t.x,this.wallListRun[e].start.y=t.y),Wt(this.wallListRun[e].end,this.binder.data)&&(this.wallListRun[e].end.x=t.x,this.wallListRun[e].end.y=t.y);this.binder.data=t,this.editor.wallsComputing(this.WALLS,!1);let s=[];for(let t in this.wallListObj){let e=this.wallListObj[t].wall,i=this.wallListObj[t].obj,n=this.qSVG.angleDeg(e.start.x,e.start.y,e.end.x,e.end.y),o=Ht(e.equations.base,2*this.wallListObj[t].distance,this.wallListObj[t].from),a=0;this.qSVG.btwn(o[1].x,e.start.x,e.end.x)&&this.qSVG.btwn(o[1].y,e.start.y,e.end.y)&&(a=1),i.x=o[a].x,i.y=o[a].y,i.angle=n,1===i.angleSign&&(i.angle=n+180);let r=Ht(e.equations.base,i.size,i);this.qSVG.btwn(r[0].x,e.start.x,e.end.x)&&this.qSVG.btwn(r[0].y,e.start.y,e.end.y)&&this.qSVG.btwn(r[1].x,e.start.x,e.end.x)&&this.qSVG.btwn(r[1].y,e.start.y,e.end.y)?(i.limit=r,i.update(this)):(an.log("Nedovoljna sirina zida -> makni objekt sa zida"),an.log(i),i.graph.remove(),this.OBJDATA.splice(this.OBJDATA.indexOf(i),1),s.push(this.wallListObj[t]))}for(let t=0;t<s.length;t++)this.wallListObj.splice(this.wallListObj.indexOf(s[t]),1);an.log("Empy elem 973"),Ot(this.boxRoom.current),Ot(this.boxSurface.current),this.Rooms=this.qSVG.polygonize(this.WALLS),this.editor.roomMaker(this.Rooms)}}if("bind_mode"===this.mode&&"segment"===this.binder.type&&1===this.action){this.rib(),"v"===this.equation2.A?this.equation2.B=this.snap.x:"h"===this.equation2.A?this.equation2.B=this.snap.y:this.equation2.B=this.snap.y-this.snap.x*this.equation2.A;let t=Kt(this.equation1,this.equation2,"obj"),e=Kt(this.equation2,this.equation3,"obj");if(null!=this.binder.wall.parent&&(Wt(this.binder.wall.parent.end,this.binder.wall.start)?this.binder.wall.parent.end=t:Wt(this.binder.wall.parent.start,this.binder.wall.start)?this.binder.wall.parent.start=t:this.binder.wall.parent.end=t),null!=this.binder.wall.child&&(Wt(this.binder.wall.child.start,this.binder.wall.end)?this.binder.wall.child.start=e:Wt(this.binder.wall.child.end,this.binder.wall.end)?this.binder.wall.child.end=e:this.binder.wall.child.start=e),this.binder.wall.start=t,this.binder.wall.end=e,this.binder.graph.children[0].setAttribute("x1",t.x),this.binder.graph.children[0].setAttribute("x2",e.x),this.binder.graph.children[0].setAttribute("y1",t.y),this.binder.graph.children[0].setAttribute("y2",e.y),this.binder.graph.children[1].setAttribute("cx",t.x),this.binder.graph.children[1].setAttribute("cy",t.y),this.binder.graph.children[2].setAttribute("cx",e.x),this.binder.graph.children[2].setAttribute("cy",e.y),void 0!==this.equation1.follow)if(Zt(t,this.equation1.backUp.coords))this.equation1.follow.end=this.equation1.backUp.end,this.equation1.follow.start=this.equation1.backUp.start;else{this.qSVG.gap(this.equation1.backUp.start,t)>this.qSVG.gap(this.equation1.backUp.end,t)?this.equation1.follow.end=t:this.equation1.follow.start=t}if(void 0!==this.equation3.follow)if(Zt(e,this.equation3.backUp.coords))this.equation3.follow.end=this.equation3.backUp.end,this.equation3.follow.start=this.equation3.backUp.start;else{this.qSVG.gap(this.equation3.backUp.start,e)>this.qSVG.gap(this.equation3.backUp.end,e)?this.equation3.follow.end=e:this.equation3.follow.start=e}let i=[];for(let n=0;n<this.equationFollowers.length;n++){let t=Kt(this.equationFollowers[n].eq,this.equation2,"obj");if(this.qSVG.btwn(t.x,this.binder.wall.start.x,this.binder.wall.end.x,"round")&&this.qSVG.btwn(t.y,this.binder.wall.start.y,this.binder.wall.end.y,"round")){let e=ie(this.equationFollowers[n].wall.start,this.equationFollowers[n].wall.end);"start"===this.equationFollowers[n].type&&(this.equationFollowers[n].wall.start=t,e<5&&null==this.equationFollowers[n].wall.child&&(this.WALLS.splice(this.WALLS.indexOf(this.equationFollowers[n].wall),1),i.push(this.equationFollowers[n]))),"end"===this.equationFollowers[n].type&&(this.equationFollowers[n].wall.end=t,e<5&&null==this.equationFollowers[n].wall.parent&&(this.WALLS.splice(this.WALLS.indexOf(this.equationFollowers[n].wall),1),i.push(this.equationFollowers[n])))}}for(let n=0;n<i.length;n++)this.equationFollowers.splice(this.equationFollowers.indexOf(i[n]),1);this.editor.wallsComputing(this.WALLS,"move"),this.Rooms=this.qSVG.polygonize(this.WALLS);for(let n=0;n<this.equationsObj.length;n++){let t=this.equationsObj[n].obj,e=Kt(this.equationsObj[n].eq,this.equation2);t.x=e[0],t.y=e[1];let i=Ht(this.equation2,t.size,t);this.qSVG.btwn(i[0].x,this.binder.wall.start.x,this.binder.wall.end.x)&&this.qSVG.btwn(i[0].y,this.binder.wall.start.y,this.binder.wall.end.y)&&this.qSVG.btwn(i[1].x,this.binder.wall.start.x,this.binder.wall.end.x)&&this.qSVG.btwn(i[1].y,this.binder.wall.start.y,this.binder.wall.end.y)&&(t.limit=i,t.update(this))}for(let n in this.WALLS){let t=this.editor.objFromWall(this.WALLS[n]);for(let e in t){let i=t[e],s=this.editor.createEquationFromWall(this.WALLS[n]),o=Ht(s,i.size,i);if(!this.qSVG.btwn(o[0].x,this.WALLS[n].start.x,this.WALLS[n].end.x)||!this.qSVG.btwn(o[0].y,this.WALLS[n].start.y,this.WALLS[n].end.y)||!this.qSVG.btwn(o[1].x,this.WALLS[n].start.x,this.WALLS[n].end.x)||!this.qSVG.btwn(o[1].y,this.WALLS[n].start.y,this.WALLS[n].end.y)){i.graph.remove();let t=this.OBJDATA.indexOf(i);this.OBJDATA.splice(t,1)}}}this.equationsObj=[];let s=this.editor.objFromWall(this.binder.wall);for(let n=0;n<s.length;n++){let t=s[n];this.equationsObj.push({obj:t,wall:this.binder.wall,eq:this.qSVG.perpendicularEquation(this.equation2,t.x,t.y)})}an.log("Empty elem 1231"),Ot(this.boxRoom.current),Ot(this.boxSurface.current),this.editor.roomMaker(this.Rooms),this.cursor("pointer")}if("bind_mode"===this.mode&&"boundingBox"===this.binder.type&&1===this.action&&this.binder.obj.params.move&&(an.log("BOUNDING BOX"),this.binder.x=this.snap.x,this.binder.y=this.snap.y,this.binder.obj.x=this.snap.x,this.binder.obj.y=this.snap.y,this.binder.obj.update(this),this.binder.update(this)),"bind_mode"===this.mode&&"obj"===this.binder.type&&1===this.action){let t;if(t=this.editor.nearWall(this.snap)){this.inWallRib(t.wall);let e=this.binder.obj,i=t.wall,s=this.qSVG.angleDeg(i.start.x,i.start.y,i.end.x,i.end.y),n=this.qSVG.vectorXY({x:i.start.x,y:i.start.y},{x:i.end.x,y:i.end.y}),o=this.qSVG.vectorXY({x:i.end.x,y:i.end.y},this.snap),a=this.qSVG.vectorDeter(n,o);this.binder.angleSign=0,e.angleSign=0,1===Math.sign(a)&&(s+=180,this.binder.angleSign=1,e.angleSign=1);let r=Ht(i.equations.base,this.binder.size,t);this.qSVG.btwn(r[0].x,i.start.x,i.end.x)&&this.qSVG.btwn(r[0].y,i.start.y,i.end.y)&&this.qSVG.btwn(r[1].x,i.start.x,i.end.x)&&this.qSVG.btwn(r[1].y,i.start.y,i.end.y)&&(this.binder.x=t.x,this.binder.y=t.y,this.binder.angle=s,this.binder.thick=i.thick,e.x=t.x,e.y=t.y,e.angle=s,e.thick=i.thick,e.limit=r,this.binder.update(this),e.update(this)),(Et(t,i.start)||Et(t,i.end))&&(this.qSVG.btwn(r[0].x,i.start.x,i.end.x)&&this.qSVG.btwn(r[0].y,i.start.y,i.end.y)&&(this.binder.x=r[0].x,this.binder.y=r[0].y,e.x=r[0].x,e.y=r[0].y,e.limit=r),this.qSVG.btwn(r[1].x,i.start.x,i.end.x)&&this.qSVG.btwn(r[1].y,i.start.y,i.end.y)&&(this.binder.x=r[1].x,this.binder.y=r[1].y,e.x=r[1].x,e.y=r[1].y,e.limit=r),this.binder.angle=s,this.binder.thick=i.thick,e.angle=s,e.thick=i.thick,this.binder.update(this),e.update(this))}}"bind_mode"===this.mode&&"obj"!==this.binder.type&&"segment"!==this.binder.type&&this.rib()}!t.touches&&(("select_mode"===this.mode||"simulate_testing_mode"===this.mode||"plan_testing_mode"===this.mode)&&"on"===this.drag||"layer_mode"!==this.mode&&t.shiftKey)&&(this.snap=this.calcul_snap(t,this.grid_snap),this.cursor("move"),this.distX=(this.snap.xMouse-this.pox)*this.zoomFactor,this.distY=(this.snap.yMouse-this.poy)*this.zoomFactor,this.pox=this.snap.xMouse-this.distX,this.poy=this.snap.yMouse-this.distY,this.zoom_maker("zoomdrag",this.distX,this.distY))}}var hn=i(1317);function pn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;hn.log("Positions data"),hn.log(this.positionsData);let e,i,s,n={},o=[];for(let a=0;a<this.positionsData.length;a++)for(let t=0;t<this.positionsData[a].messages.length;t++){s=this.positionsData[a].messages[t].best_gtw_id;for(let r=0;r<this.positionsData[a].messages[t].gateways.length;r++)n[this.positionsData[a].messages[t].gateways[r].gtw_id]||(n[this.positionsData[a].messages[t].gateways[r].gtw_id]=!0,o.push({gtw_id:this.positionsData[a].messages[t].gateways[r].gtw_id,name:this.positionsData[a].messages[t].gateways[r].name?this.positionsData[a].messages[t].gateways[r].name:this.positionsData[a].messages[t].gateways[r].gtw_id,gtw_long:this.positionsData[a].messages[t].gateways[r].gtw_long,gtw_lat:this.positionsData[a].messages[t].gateways[r].gtw_lat})),(e=this.gatewaysTableData.find((e=>e.gtw_id===this.positionsData[a].messages[t].gateways[r].gtw_id)))?(e.sfs["SF".concat(this.positionsData[a].messages[t].spreading_factor)]||(e.sfs["SF".concat(this.positionsData[a].messages[t].spreading_factor)]=!0),e.antennas[this.positionsData[a].messages[t].antenna_type]||(e.antennas[this.positionsData[a].messages[t].antenna_type]=!0),(i=e.positions.find((t=>t.position_number===this.positionsData[a].position_number)))?(e.gtw_id===s&&i.points++,this.positionsData[a].messages[t].gateways[r].rssi<i.min_rssi&&(i.min_rssi=this.positionsData[a].messages[t].gateways[r].rssi),this.positionsData[a].messages[t].gateways[r].rssi>i.max_rssi&&(i.max_rssi=this.positionsData[a].messages[t].gateways[r].rssi),i.avg_rssi=(i.avg_rssi*i.count+this.positionsData[a].messages[t].gateways[r].rssi)/(i.count+1),this.positionsData[a].messages[t].gateways[r].snr<i.min_snr&&(i.min_snr=this.positionsData[a].messages[t].gateways[r].snr),this.positionsData[a].messages[t].gateways[r].snr>i.max_snr&&(i.max_snr=this.positionsData[a].messages[t].gateways[r].snr),i.avg_snr=(i.avg_snr*i.count+this.positionsData[a].messages[t].gateways[r].snr)/(i.count+1),i.count++):e.positions.push({position_number:this.positionsData[a].position_number,points:s===this.positionsData[a].messages[t].gateways[r].gtw_id?1:0,min_rssi:this.positionsData[a].messages[t].gateways[r].rssi,max_rssi:this.positionsData[a].messages[t].gateways[r].rssi,avg_rssi:this.positionsData[a].messages[t].gateways[r].rssi,min_snr:this.positionsData[a].messages[t].gateways[r].snr,max_snr:this.positionsData[a].messages[t].gateways[r].snr,avg_snr:this.positionsData[a].messages[t].gateways[r].snr,count:1})):this.gatewaysTableData.push({gtw_id:this.positionsData[a].messages[t].gateways[r].gtw_id,name:this.positionsData[a].messages[t].gateways[r].name,sfs:{["SF".concat(this.positionsData[a].messages[t].spreading_factor)]:!0},antennas:{[this.positionsData[a].messages[t].antenna_type]:!0},positions:[{position_number:this.positionsData[a].position_number,points:s===this.positionsData[a].messages[t].gateways[r].gtw_id?1:0,min_rssi:this.positionsData[a].messages[t].gateways[r].rssi,max_rssi:this.positionsData[a].messages[t].gateways[r].rssi,avg_rssi:this.positionsData[a].messages[t].gateways[r].rssi,min_snr:this.positionsData[a].messages[t].gateways[r].snr,max_snr:this.positionsData[a].messages[t].gateways[r].snr,avg_snr:this.positionsData[a].messages[t].gateways[r].snr,count:1}]})}this.setState({gatewaysData:o},(()=>{hn.log("Callback fired"),t&&t()}))}function dn(t,e,i,s,n,o,a,r,l,h,p){const{sfs_filtered_hashmap:d,antennas_filtered_hashmap:c,base_filtered_hashmap:m}=bt(i,s,n);let u,g,x;hn.log("Position filtered hashmaps"),hn.log(m),hn.log(c),hn.log(d),p&&(this.positionsPopupParameters=[],this.filteredMessagesCount=0),"Max RSSI"===o?(g="maxRSSI",x="maxSNR",u=(t,e,i)=>{t>i.maxRSSI&&(i.maxRSSI=t),e>i.maxSNR&&(i.maxSNR=e)}):"Min RSSI"===o?(g="minRSSI",x="minSNR",u=(t,e,i)=>{t<i.minRSSI&&(i.minRSSI=t),e<i.minSNR&&(i.minSNR=e)}):"Avg RSSI"===o&&(g="avgRSSI",x="avgSNR",u=(t,e,i)=>{i.avgRSSI=(i.avgRSSI*i.count+t)/(i.count+1),i.avgSNR=(i.avgSNR*i.count+e)/(i.count+1),i.count++});for(let A=0;A<t.length;A++){e.push({x:t[A].x,y:t[A].y});let i,s=[],n=[],f=0,C={},b=this.positionsData.find((e=>e.position_number===t[A].position_num)).messages;hn.log("Messages data"),hn.log(b);for(let t=0;t<b.length;t++){let e=!1;if(d["SF".concat(b[t].spreading_factor)]&&c[b[t].antenna_type]){let i={maxRSSI:null,maxSNR:null,minRSSI:null,minSNR:null,avgRSSI:0,avgSNR:0,count:0},a=0;for(let s=0;s<b[t].gateways.length;s++)m[b[t].gateways[s].gtw_id]&&(a++,e||(f++,e=!0,i.minRSSI=b[t].gateways[s].rssi,i.maxRSSI=b[t].gateways[s].rssi,i.minSNR=b[t].gateways[s].snr,i.maxSNR=b[t].gateways[s].snr),C[b[t].gateways[s].gtw_id]=!0,"Avg GTWs/MSG"!==o&&u(b[t].gateways[s].rssi,b[t].gateways[s].snr,i));"Avg GTWs/MSG"!==o?(i[g]&&s.push(i[g]),i[x]&&n.push(i[x])):a&&s.push(a)}}"Avg GTWs/MSG"===o?(t[A].colorGtwsPerMessage=T(s.reduce(((t,e)=>t+e),0)/s.length,0),i=t[A].colorGtwsPerMessage,i<l?i=l:i>h&&(i=h)):(t[A].colorRSSI=T(s.reduce(((t,e)=>t+e),0)/s.length,0),t[A].colorSNR=T(n.reduce(((t,e)=>t+e),0)/n.length,0),i=t[A].colorRSSI,i<a?i=a:i>r&&(i=r)),p&&(this.positionsPopupParameters.push({position_number:t[A].position_num,colorRssi:t[A].colorRSSI,colorSnr:t[A].colorSNR,colorGtwsPerMessage:t[A].colorGtwsPerMessage,messagesCount:f,gatewaysCount:Object.keys(C).length,leftOffset:"Avg GTWs/MSG"!==o?(i-a)/(r-a)*160:h===l?0:(i-l)/(h-l)*160}),this.filteredMessagesCount+=f)}}function cn(t,e,i){for(let s=0;s<t.objData.length;s++)t.objData[s].baseStationOptions?e&&e.push(t.objData[s]):i.push(t.objData[s])}function mn(t,e,i,s){for(let n=0;n<this.props.mainComponentThis.positionsData.length;n++)if(this.renderedPositionsNumbers.find((t=>t===this.props.mainComponentThis.positionsData[n].position_number))){let o=[],a=null,r=[],l=0,h=0;for(let p=0;p<this.props.mainComponentThis.positionsData[n].messages.length;p++){let d,c,m,u,g=0,x=[];if(e["SF".concat(this.props.mainComponentThis.positionsData[n].messages[p].spreading_factor)]&&i[this.props.mainComponentThis.positionsData[n].messages[p].antenna_type]){let e,i;for(let t=0;t<this.props.mainComponentThis.positionsData[n].messages[p].gateways.length;t++)s[this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].gtw_id]&&(d||c||m||u?(this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].rssi>d&&(d=this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].rssi,a=this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].gtw_id),this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].rssi<c&&(c=this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].rssi),m=(m*g+this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].rssi)/(g+1),u=(u*g+this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].snr)/(g+1),g++,x.push(this.props.mainComponentThis.positionsData[n].messages[p].gateways[t])):(d=this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].rssi,c=this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].rssi,m=this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].rssi,u=this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].snr,g++,x.push(this.props.mainComponentThis.positionsData[n].messages[p].gateways[t]),a=this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].gtw_id),(e=this.filteredPositionsTableGatewaysData.find((e=>e.gtw_id===this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].gtw_id)))?(i=e.positions.find((t=>t.position_number===this.props.mainComponentThis.positionsData[n].position_number)))?(this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].rssi>i.max_rssi&&(i.max_rssi=this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].rssi),this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].rssi<i.min_rssi&&(i.min_rssi=this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].rssi),i.avg_rssi=(i.avg_rssi*i.count+this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].rssi)/(i.count+1),this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].snr>i.max_snr&&(i.max_snr=this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].snr),this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].snr<i.min_snr&&(i.min_snr=this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].snr),i.avg_snr=(i.avg_snr*i.count+this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].snr)/(i.count+1),i.count++):e.positions.push({position_number:this.props.mainComponentThis.positionsData[n].position_number,points:0,min_rssi:this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].rssi,max_rssi:this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].rssi,avg_rssi:this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].rssi,min_snr:this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].snr,max_snr:this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].snr,avg_snr:this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].snr,count:1}):this.filteredPositionsTableGatewaysData.push({gtw_id:this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].gtw_id,name:this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].name,positions:[{position_number:this.props.mainComponentThis.positionsData[n].position_number,points:0,min_rssi:this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].rssi,max_rssi:this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].rssi,avg_rssi:this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].rssi,min_snr:this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].snr,max_snr:this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].snr,avg_snr:this.props.mainComponentThis.positionsData[n].messages[p].gateways[t].snr,count:1}]}));g>0&&(o.push({min_rssi:c,avg_rssi:m,avg_snr:u,max_rssi:d,gateways:x,spreading_factor:this.props.mainComponentThis.positionsData[n].messages[p].spreading_factor}),t&&(g>h&&(h=g),g>this.maxAllPositionsGatewaysCount&&(this.maxAllPositionsGatewaysCount=g),r.push({x:++l,y:g})))}}o.length>0&&(this.filteredPositionsData.push({position_number:this.props.mainComponentThis.positionsData[n].position_number,position_name:this.props.mainComponentThis.positionsData[n].position_name,lost_messages_object:this.props.mainComponentThis.positionsData[n].lost_messages_object,messages:o,avg_rssi_avg:T(o.reduce(((t,e)=>t+e.avg_rssi),0)/o.length,0),max_rssi_avg:T(o.reduce(((t,e)=>t+e.max_rssi),0)/o.length,0),min_rssi_avg:T(o.reduce(((t,e)=>t+e.min_rssi),0)/o.length,0),gtw_per_message_avg:T(o.reduce(((t,e)=>t+e.gateways.length),0)/o.length,0)}),t&&(this.gatewaysCountData.push({name:"Position "+this.props.mainComponentThis.positionsData[n].position_number+" gateway count",type:"bar",data:r}),this.positionGatewaysMaxCount.push(h)),this.filteredPositionsTableGatewaysData.find((t=>t.gtw_id===a)).points++)}if(this.positionFilteredMinAvgMaxChartData=this.filteredPositionsData,t)for(let n=0;n<this.filteredPositionsData.length;n++)this.gatewaysCountYAXIS.push({show:!1,type:"numeric",decimalsInFloat:0,min:0,max:this.maxAllPositionsGatewaysCount,opposite:!0,forceNiceScale:!0,title:{text:"Gateways number"}})}function un(){let{positions_widget_common_data:t}=G(this.filteredPositionsData,this.filteredPositionsTableGatewaysData,[],!1);this.positionsFilteredWidgetsData=H(this.filteredPositionsData,{name:"All gateways per message"},t)}var gn=i(1317);class xn extends s.Component{constructor(){super(),this.lineChartsData=[],this.chartColors=[],this.pointGatewayCountLength=null,this.seriesHiddingLoadingComponent=s.createRef()}componentDidMount(){gn.log("Usao u componeent did mount"),setTimeout((()=>{this.props.showColumnCharts||this.props.positionMinAvgMaxChartData.forEach((t=>{Z().exec("LTAnalyticsGraph2","hideSeries",t.position_name+" gateway count")})),this.props.resetLoading({graph2Loading:!1})}),1)}componentDidUpdate(){((t,e,i,s)=>{let n=Z().getChartByID(t),o=!1;for(let a=0;a<i.length;a++)if(K(n,_(e,i[a]))){o=!0;break}o&&(s.style.display="flex",setTimeout((()=>{let o;for(let s=0;s<i.length;s++)o=_(e,i[s]),K(n,o)&&Z().exec(t,"hideSeries",o);s.style.display="none"}),0))})("LTAnalyticsGraph2","location",this.props.positionMinAvgMaxChartData,this.seriesHiddingLoadingComponent.current)}shouldComponentUpdate(t){return gn.log("Usao u should component update"),gn.log("Trenutni propsovi "),gn.log(this.props),gn.log("Novi proosovi:"),gn.log(t),!(this.props.gatewaysPerMessageLimit.value===t.gatewaysPerMessageLimit.value&&!this.props.forceRerender)&&(gn.log("Rerenderaj"),!0)}render(){const{positionMinAvgMaxChartData:t,gatewaysPerMessageLimit:e}=this.props;let{minRssi:i,maxRssi:n}=cs,o=0;this.lineChartsData=[],t.forEach((t=>{t.messages.length>o&&(o=t.messages.length);let s=[],a=[],r=[];t.messages.forEach(((t,o)=>{if("All gateways per message"===e.name)t.avg_rssi>n&&(n=t.avg_rssi),t.avg_rssi<i&&(i=t.avg_rssi),this.props.showAvgGraph&&a.push({x:o+1,y:t.avg_rssi,sf:t.spreading_factor}),this.props.showMaxGraph&&(t.max_rssi>n&&(n=t.max_rssi),r.push({x:o+1,y:t.max_rssi,sf:t.spreading_factor})),this.props.showMinGraph&&(t.min_rssi<i&&(i=t.min_rssi),s.push({x:o+1,y:t.min_rssi,sf:t.spreading_factor}));else{let s,r=0,l=0;t.gateways.forEach(((t,i)=>{i<e.value&&(l++,r+=t.rssi)})),s=r/l,s>n&&(n=s),s<i&&(i=s),a.push({x:o+1,y:s,sf:t.spreading_factor})}})),this.props.showAvgGraph&&this.lineChartsData.push({name:t.position_name+" avg",type:a.length>1?"line":"scatter",graphType:"AnalyticsLine",data:a}),this.props.showMaxGraph&&this.lineChartsData.push({name:t.position_name+" max",type:r.length>1?"line":"scatter",graphType:"AnalyticsLine",data:r}),this.props.showMinGraph&&this.lineChartsData.push({name:t.position_name+" min",type:s.length>1?"line":"scatter",graphType:"AnalyticsLine",data:s})})),this.chartColors=[];let a=0;this.pointGatewayCountLength=this.props.gatewaysCountData.length;for(let s=0;s<this.props.gatewaysCountData.length;s++)this.chartColors.push({name:t[s].position_name,type:"bar",color:us[a]}),a++,a===us.length&&(a=0);let r=[];this.props.gatewaysCountYAXIS.forEach((t=>r.push(t)));let l=0;for(let s=0;s<this.lineChartsData.length;s++)this.chartColors.push({name:t[s]?t[s].position_name:t[0].position_name,type:"line",color:ms[l]}),l++,l===ms.length&&(l=0),r.push({show:0===s,showAlways:0===s,type:"numeric",min:i,max:n,tickAmount:9,forceNiceScale:!0,decimalsInFloat:0,title:{text:"RSSI"}});let h=[];this.props.gatewaysCountData.forEach((t=>{h.push(t)})),this.lineChartsData.forEach((t=>{h.push(t)})),gn.log("parsed data in graph:"),gn.log(h),gn.log("xaxis max"+o);const p=gs(this,"LTAnalyticsGraph2","line",h,r,{xaxis_max:o});return(0,u.jsxs)(s.Fragment,{children:[t.length>0?(0,u.jsx)(hs.Z,{series:p.series,height:500,options:p.options,type:"line"}):(0,u.jsx)("div",{className:"form-error",style:{marginTop:50},children:(0,u.jsx)("h3",{children:"There is no data that matches specified filter conditions"})}),(0,u.jsx)("div",{ref:this.seriesHiddingLoadingComponent,className:"chart-loading-spinner-section series-hidding-loading-component",children:(0,u.jsx)(Ai,{})})]})}}var An=i(1317);class fn extends s.Component{constructor(t){super(t),this.handleTableGatewaysPerMessageIntervalChange=t=>{this.state.selectedTableGatewaysPerMessageInterval.value!==t.value&&this.setState({positionsWidgetsData:H(this.props.parsedPositions,t,this.state.positionsWidgetsData),selectedTableGatewaysPerMessageInterval:t})},this.positionComparisonTableInfoContent=t=>"Gateways total"===t?"Number of unique gateways reached":"Avg of best RSSIs from message"===t?"For this calculation best RSSI of every message is taken":"Avg of worst RSSIs from message"===t?"For this calculation worst RSSI of every message is taken":"Most points for best signal"===t?"1 point is given to position that has best RSSI on given message index":"Most points for best position"===t?"Advanced algorithm for choosing best position":void 0,this.state={positionsWidgetsData:t.positionsWidgetsData,selectedTableGatewaysPerMessageInterval:t.gatewaysPerMessageIntervals[0]},this.handleTableGatewaysPerMessageIntervalChange=this.handleTableGatewaysPerMessageIntervalChange.bind(this),this.positionComparisonTableInfoContent=this.positionComparisonTableInfoContent.bind(this)}render(){const{positionsWidgetsData:t,selectedTableGatewaysPerMessageInterval:e}=this.state;return(0,u.jsx)("section",{className:"layout__section section-box-shadow",style:{marginTop:20,...this.props.containerStyle},children:(0,u.jsx)("section",{className:"table-responsive",style:{overflowX:this.props.tableNoHorizontalOverflow?"visible":"auto"},children:(0,u.jsxs)("table",{className:"table",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{}),this.props.parsedPositions.map((t=>(0,u.jsx)("th",{children:t.position_name},t.position_number)))]})}),(0,u.jsx)("tbody",{children:xs.map(((i,n)=>"Max distance from gateway"===i.name?this.props.positionsCoordinatesInserted?(An.log("Ispisi distance redak"),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{style:{fontWeight:"bold"},children:i.name}),(()=>{let e,s=[0];e=t[0]["".concat(i.statePropertyname)];for(let n=1;n<t.length;n++)t[n]["".concat(i.statePropertyname)]>e?(s=[n],e=t[n]["".concat(i.statePropertyname)]):t[n]["".concat(i.statePropertyname)]===e&&s.push(n);return s.length===t.length&&(s=[-1]),this.props.parsedPositions.map(((e,n)=>(0,u.jsx)("td",{style:{backgroundColor:void 0!==s.find((t=>t===n))?"#99ff99":"initial"},children:"-"!==t.find((t=>t.position_number===e.position_number))["".concat(i.statePropertyname)]?F(t.find((t=>t.position_number===e.position_number))["".concat(i.statePropertyname)],this.props.UserPermissionsContext.userUnit):"-"},e.position_number)))})()]},i.name)):null:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsxs)("tr",{children:["Gateways total"===i.name||"Avg of best RSSIs from message"===i.name||"Avg of worst RSSIs from message"===i.name||"Most points for best signal"===i.name||"Most points for best position"===i.name?(0,u.jsx)("td",{children:(0,u.jsxs)("div",{className:"analytics-table-row-with-info",children:[(0,u.jsx)("div",{style:{fontWeight:"bold",borderBottom:"Best gateway"===i.name?"2px solid #f6f6f7":"none"},children:i.name}),(0,u.jsx)(ti,{infoText:this.positionComparisonTableInfoContent(i.name),explanationInfoBoxStyles:{bottom:n===xs.length-1?0:"auto",top:n!==xs.length-1?0:"auto"}})]})}):(0,u.jsx)("td",{style:{fontWeight:"bold"},children:i.name}),(()=>{let e,s=[0];if("Best gateway"===i.name)s=[-1];else if("Messages lost"===i.name){let e=t[0]["".concat(i.statePropertyname)];for(let n=1;n<t.length;n++)t[n]["".concat(i.statePropertyname)]<e?(s=[n],e=t[n]["".concat(i.statePropertyname)]):t[n]["".concat(i.statePropertyname)]===e&&s.push(n);s.length===t.length&&(s=[-1])}else{e=t[0]["".concat(i.statePropertyname)];for(let n=1;n<t.length;n++)t[n]["".concat(i.statePropertyname)]>e?(s=[n],e=t[n]["".concat(i.statePropertyname)]):t[n]["".concat(i.statePropertyname)]===e&&s.push(n);s.length===t.length&&(s=[-1])}return this.props.parsedPositions.map(((e,n)=>(0,u.jsx)("td",{style:{backgroundColor:void 0!==s.find((t=>t===n))?"#99ff99":"initial",padding:"Avg RSSI for all messages"===i.name||"Avg SNR for all messages"===i.name?0:"auto",borderBottom:"Best gateway"===i.name?"2px solid #f6f6f7":"none"},children:(()=>{if("Best gateway"!==i.name){if("Avg RSSI for all messages"===i.name){let i=t.find((t=>t.position_number===e.position_number));return(0,u.jsxs)("div",{className:"analytics-table-deviation",children:[(0,u.jsx)("div",{className:"first-container",children:"".concat(Math.round(i.position_avg_all),"dBm")}),(0,u.jsxs)("div",{className:"last-container",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(ss,{}),(0,u.jsx)("div",{children:Math.round(i.position_max_rssi-i.position_avg_all)})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(os,{}),(0,u.jsx)("div",{children:Math.round(i.position_min_rssi-i.position_avg_all)})]})]})]})}if("Avg SNR for all messages"===i.name){let i=t.find((t=>t.position_number===e.position_number));return(0,u.jsxs)("div",{className:"analytics-table-deviation",children:[(0,u.jsx)("div",{className:"first-container",children:"".concat(Math.round(10*i.position_avg_snr)/10,"dB")}),(0,u.jsxs)("div",{className:"last-container",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(ss,{}),(0,u.jsx)("div",{children:Math.round(10*(i.position_max_snr-i.position_avg_snr))/10})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(os,{}),(0,u.jsx)("div",{children:Math.round(10*(i.position_min_snr-i.position_avg_snr))/10})]})]})]})}return i.rssi?"".concat(t.find((t=>t.position_number===e.position_number))["".concat(i.statePropertyname)],"dBm"):i.snr?"".concat(t.find((t=>t.position_number===e.position_number))["".concat(i.statePropertyname)],"dB"):"Transmission efficiency"!==i.name?t.find((t=>t.position_number===e.position_number))["".concat(i.statePropertyname)]:"".concat(t.find((t=>t.position_number===e.position_number))["".concat(i.statePropertyname)],"%")}return t.find((t=>t.position_number===e.position_number))["".concat(i.statePropertyname)].name})()},e.position_number)))})()]}),"Best gateway"===i.name&&this.props.showSelectGatewaysComponent?(0,u.jsx)("tr",{children:(0,u.jsx)("td",{style:{textAlign:"left"},colSpan:this.props.parsedPositions.length+1,children:(0,u.jsx)(ts,{inputLabel:"Number of best gateways per message",renderListItemText:t=>"All gateways per message"===t.name?"All gateways per message (max ".concat(t.value,")"):t.name,selectedValue:e,handleSelectChange:this.handleTableGatewaysPerMessageIntervalChange,selectOptions:this.props.gatewaysPerMessageIntervals,infoText:"If you want to get more objective result you can compare positions on same gateways sample size"})})}):null]},i.name)))})]})})})}}const Cn=fn;var bn=i(1317);class yn extends s.Component{constructor(t){super(t),this.calculatePositionTableGatewayData=t=>{let e=[];return this.filteredPositionsTableGatewaysData.forEach((i=>{let s=i.positions.find((e=>e.position_number===t));s&&e.push({gtw_id:i.gtw_id,name:i.name,...s})})),e},this.onClosePositionsDataVisualization=()=>{vt(this.props.mainComponentThis.positionsDataVisualizationRef.current,this.props.mainComponentThis.othersTimeout,(()=>n.unmountComponentAtNode(this.props.mainComponentThis.positionsDataVisualizationRef.current)),!1)},this.onTabClick=t=>{if(t!==this.state.activeTabIndex){if(t>0){this.gatewaysCountYAXIS.forEach((t=>t.show=!1));let e=0;t>2&&(e=t-2),this.gatewaysCountYAXIS[e].show=!0,1===t?this.gatewaysCountYAXIS.forEach((t=>t.max=this.maxAllPositionsGatewaysCount)):this.gatewaysCountYAXIS[e].max=this.positionGatewaysMaxCount[e],t>1&&(this.positionTableGatewaysData=this.calculatePositionTableGatewayData(this.renderedPositionsNumbers[t-2]))}this.setState({activeTabIndex:t,graph2Loading:t>0},(()=>{t>1&&this.analyzeByGatewaysTableRef.current.onToggleItemStateCallback()}))}},this.handleAllPositionsGraphTypeChange=t=>{this.state.selectedAllPositionsGraphType.value!==t.value&&this.setState({selectedAllPositionsGraphType:t})},this.allPositionsGraphTypeOptions=[{name:"Maximum",value:"Maximum"},{name:"Average",value:"Average"},{name:"Minimum",value:"Minimum"}],this.state={activeTabIndex:null,graph2Loading:!0,showGraph:!1,noDataError:!1,selectedAllPositionsGraphType:this.allPositionsGraphTypeOptions[0]},this.analyzeByGatewaysTableRef=s.createRef(),this.gatewaysCountData=[],this.gatewaysCountYAXIS=[],this.maxAllPositionsGatewaysCount=0,this.positionGatewaysMaxCount=[],this.filteredPositionsData=[],this.positionFilteredMinAvgMaxChartData=[],this.filteredPositionsTableGatewaysData=[],this.positionsFilteredWidgetsData=[],this.positionTableGatewaysData=[],this.renderedPositionsNumbers=[],this.onClosePositionsDataVisualization=this.onClosePositionsDataVisualization.bind(this),this.onTabClick=this.onTabClick.bind(this),this.calculatePositionTableGatewayData=this.calculatePositionTableGatewayData.bind(this),this.handleAllPositionsGraphTypeChange=this.handleAllPositionsGraphTypeChange.bind(this),this.calculateHeatmapFilteredData=mn.bind(this),this.calculateFilteredPositionsWidgetData=un.bind(this)}componentDidMount(){for(let s=0;s<this.props.mainComponentThis.OBJDATA.length;s++)this.props.mainComponentThis.OBJDATA[s].position_num&&this.renderedPositionsNumbers.push(this.props.mainComponentThis.OBJDATA[s].position_num);this.renderedPositionsNumbers.sort(((t,e)=>t-e));const{sfs_filtered_hashmap:t,antennas_filtered_hashmap:e,base_filtered_hashmap:i}=bt(this.props.mainComponentThis.selectedPositionDataSfs,this.props.mainComponentThis.selectedPositionDataAntennas,this.props.mainComponentThis.selectedPositionDataGateways);if(this.calculateHeatmapFilteredData(!0,t,e,i),bn.log(this.positionFilteredMinAvgMaxChartData),bn.log(this.gatewaysCountData),bn.log(this.gatewaysCountYAXIS),bn.log(this.filteredPositionsTableGatewaysData),this.positionFilteredMinAvgMaxChartData.length>0){let t;this.calculateFilteredPositionsWidgetData(),t="comparison"===this.props.activePositionNumber?0:"all"===this.props.activePositionNumber?1:this.renderedPositionsNumbers.indexOf(this.props.activePositionNumber)+2;let e=0;t>2&&(e=t-2),this.gatewaysCountYAXIS[e].show=!0,t>1&&(this.gatewaysCountYAXIS[e].max=this.positionGatewaysMaxCount[e]),t>1&&(this.positionTableGatewaysData=this.calculatePositionTableGatewayData(this.renderedPositionsNumbers[t-2])),this.setState({showGraph:!0,activeTabIndex:t},(()=>{t>1&&this.analyzeByGatewaysTableRef.current.onToggleItemStateCallback()}))}else this.setState({noDataError:!0})}render(){const{activeTabIndex:t,noDataError:e,selectedAllPositionsGraphType:i,graph2Loading:n,showGraph:o}=this.state;return(0,u.jsx)(li,{onCloseModalClick:this.onClosePositionsDataVisualization,modalTabs:e?null:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{className:"".concat(0===t?"active":""),onClick:()=>this.onTabClick(0),children:"Positions comparison"}),(0,u.jsx)("div",{className:"".concat(1===t?"active":""),onClick:()=>this.onTabClick(1),children:"All positions"}),this.renderedPositionsNumbers.map(((e,i)=>(0,u.jsx)("div",{className:"".concat(t===i+2?"active":""),onClick:()=>this.onTabClick(i+2),children:"Position ".concat(e)},e)))]}),children:(0,u.jsx)("div",{className:"layout__section",children:e?(0,u.jsx)("p",{className:"indoor-paragraph-centered info-note",children:(0,u.jsx)("b",{children:"There is no data that complies with specified filter parameters."})}):(0,u.jsx)(s.Fragment,{children:0===t?(0,u.jsx)(Cn,{containerStyle:{padding:0,boxShadow:"none"},parsedPositions:this.filteredPositionsData,positionsWidgetsData:this.positionsFilteredWidgetsData,gatewaysPerMessageIntervals:[{name:"All gateways per message"}],positionsCoordinatesInserted:!1,showSelectGatewaysComponent:!1,tableNoHorizontalOverflow:!0}):(0,u.jsxs)(s.Fragment,{children:[n?(0,u.jsx)("div",{className:"chart-loading-spinner-section double-graph-sticky",children:(0,u.jsx)(Ai,{})}):null,o&&null!==t?(0,u.jsxs)(s.Fragment,{children:[1===t?(0,u.jsx)(ts,{inputLabel:"Showed positions graph type",renderListItemText:t=>t.name,selectedValue:i,handleSelectChange:this.handleAllPositionsGraphTypeChange,selectOptions:this.allPositionsGraphTypeOptions,infoText:"Choose which type of graph do you want to show for listed positions"}):null,(0,u.jsx)("section",{className:"analyze-by-gateways-graph-section",children:(0,u.jsx)("div",{className:"graph-container",children:(0,u.jsx)(xn,{positionMinAvgMaxChartData:1===t?this.positionFilteredMinAvgMaxChartData:[this.positionFilteredMinAvgMaxChartData[t-2]],gatewaysCountData:1===t?this.gatewaysCountData:[this.gatewaysCountData[t-2]],gatewaysCountYAXIS:1===t?this.gatewaysCountYAXIS:[this.gatewaysCountYAXIS[t-2]],resetLoading:this.setState.bind(this),gatewaysPerMessageLimit:{name:"All gateways per message"},showMinGraph:1!==t||"Minimum"===i.value,showMaxGraph:1!==t||"Maximum"===i.value,showAvgGraph:1!==t||"Average"===i.value,forceRerender:!0,showColumnCharts:t>1,showSpreadingFactorValue:1===t,showCommonSpreadingFactor:1!==t},t)})}),1===t?(0,u.jsx)("section",{className:"analyze-by-gateways-graph-section",children:(0,u.jsx)("div",{className:"graph-container",children:(0,u.jsx)(bs,{graphType:"comparison",valueType:i.value,chartData:this.positionFilteredMinAvgMaxChartData,forceRerender:!0,gatewaysPerMessageLimit:{name:"All gateways per message"},nameProperty:"position_name"})})}):null,t>1?(0,u.jsxs)(s.Fragment,{children:[n?null:(0,u.jsxs)("div",{className:"position-graph-info-data-container",children:[(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("span",{children:"Average of MAX graph:"}),"".concat(this.positionFilteredMinAvgMaxChartData[t-2].max_rssi_avg," dBm")]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("span",{children:"Average of AVG graph:"}),"".concat(this.positionFilteredMinAvgMaxChartData[t-2].avg_rssi_avg," dBm")]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("span",{children:"Average of MIN graph:"}),"".concat(this.positionFilteredMinAvgMaxChartData[t-2].min_rssi_avg," dbm")]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("span",{children:"Average gateways per message:"}),this.positionFilteredMinAvgMaxChartData[t-2].gtw_per_message_avg]})]}),(0,u.jsx)("div",{style:{marginTop:"1.25rem"},children:(0,u.jsx)(ls,{ref:this.analyzeByGatewaysTableRef,tableGatewaysData:this.positionTableGatewaysData,distanceCalculated:!1,showPoC:!1,tableNoHorizontalOverflow:!0})})]}):null]}):null]})})})})}}const wn=yn;var vn=i(1317);function Sn(t){if(vn.log("Mouse up mode"+this.mode),this.props.isHeatmap){const e="move"===this.linRef.current.style.cursor;if(this.showRib&&wt(this.boxScale.current,0,null,"inline",!1),this.hideDrawingAreaPopup&&this.drawingAreaPopupActive&&!this.editor.heatmapPopupRayCasting(this.calcul_snap(t,"off"))&&(vn.log("Zatvori popup"),this.showMapLayer2D3DRef.current&&this.showMapLayer2D3DRef.current.onPositionPopupClose(),this.removeSelectedBinder(),this.closeDrawingAreaPopup(),this.hideDrawingAreaPopup=!1),this.drag="off",this.cursor("default"),"select_mode"===this.mode&&this.binder&&(this.removeBinder(),this.save(!1,!0)),"bind_mode"===this.mode){this.action=0,this.construc=0;let t=!0;if(this.binder){if(this.foncButton("select_mode"),"node"===this.binder.type)return;if(this.binder&&"boundingBox"===this.binder.type){let e=Math.abs(this.binder.oldX-this.binder.x)+Math.abs(this.binder.oldY-this.binder.y),i=this.binder.obj;if(i.params.move||(i.graph.remove(),this.OBJDATA.splice(this.OBJDATA.indexOf(i),1),this.boxInfo.current.innerHTML="Measure deleted!",t=!1),e<1&&i.params.move&&("position"===i.type||"gateway"===i.type))if(this.removeSelectedBinder(),this.selectedBinder=this.binder,this.binder=null,this.showDrawingAreaPopup(i.x,i.y),this.cursor("default"),this.mode="select_mode","position"===i.type){let t=this.positionsPopupParameters.find((t=>t.position_number===i.position_num));n.render((0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{children:(0,u.jsx)("p",{style:{textAlign:"center"},children:(0,u.jsx)("b",{children:"Position ".concat(i.position_num)})})}),(0,u.jsxs)("div",{style:{padding:"1rem"},children:[(0,u.jsx)("div",{className:"popuprow",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Position number:"}),i.position_num?i.position_num:"Unknown"]})}),t?(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{className:"popuprow",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Number of messages:"}),t.messagesCount]})}),(0,u.jsx)("div",{className:"popuprow",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Number of gateways:"}),t.gatewaysCount]})}),"Avg GTWs/MSG"!==this.heatmapPositionDataSelectedOption?(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{className:"popuprow",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Calculated SNR(dB):"}),t.colorSnr]})}),(0,u.jsx)("div",{className:"popuprow",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Calculated RSSI(dBm):"}),t.colorRssi]})})]}):(0,u.jsx)("div",{className:"popuprow",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Average gateways/message :"}),t.colorGtwsPerMessage]})}),(0,u.jsx)("div",{className:"popup-color-rssi-legend-container",children:(0,u.jsxs)("div",{className:"canvas-container",children:[(0,u.jsx)(Hs,{canvasFillStyle:this.heatmapGradient,width:256,height:20,showLabels:!1}),(0,u.jsx)("div",{className:"mark-tip"})]})})]}):(0,u.jsx)("div",{className:"popuprow",style:{textAlign:"center"},children:(0,u.jsx)("span",{children:"If you want more details please generate heatmap first."})})]}),(0,u.jsx)("hr",{style:{width:"95%",marginTop:0,marginBottom:"1rem",border:"1px solid #f2f2f2"}}),(0,u.jsx)("div",{className:"button-centered-container",children:(0,u.jsx)(Ue,{type:"primary",onClick:()=>wt(this.positionsDataVisualizationRef.current,this.othersTimeout,(()=>{n.render((0,u.jsx)(wn,{mainComponentThis:this,activePositionNumber:i.position_num}),this.positionsDataVisualizationRef.current)}),"block",!1),children:"Show data graph"})}),this.showMapLayer2D3DRef.current&&(0,u.jsx)(s.Fragment,{children:(0,u.jsx)("div",{className:"button-centered-container",style:{marginTop:"1rem"},children:(0,u.jsx)(Ue,{type:"blue",onClick:()=>this.showMapLayer2D3DRef.current.showPositionGatewayLines(i.position_num),children:"Reached gateways"})})})]}),this.popupContentRef.current,(()=>{if(t){vn.log("Left offset "+t.leftOffset);let e=document.getElementsByClassName("mark-tip")[0],i=t.leftOffset-8+(document.getElementsByClassName("popup-color-rssi-legend-container")[0].firstChild.offsetWidth-160)/2+"px";e.style.left=i}}))}else n.render((0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("p",{style:{textAlign:"center"},children:(0,u.jsx)("b",{children:i.baseStationOptions.name})}),(0,u.jsx)("center",{style:{wordBreak:"break-all",overflowWrap:"anywhere"},children:i.baseStationOptions.gtw_id}),(0,u.jsx)("hr",{style:{width:"95%",margin:"1.5rem auto",border:"1px solid #f2f2f2"}}),(0,u.jsx)("div",{className:"button-centered-container",children:(0,u.jsx)(Ue,{type:"delete",onClick:this.onObjectBBoxDeleteClick,children:"Delete gateway"})})]}),this.popupContentRef.current);else this.mode="select_mode",this.action=0,this.removeBinder()}"bind_mode"===this.mode&&(vn.log("Makni mainComponentThis.binder"),this.removeBinder())}this.save(!1,t)}else if("add_gateway"===this.mode){if(!this.binder)return this.foncButton("select_mode"),!1;this.OBJDATA.push(this.binder),this.binder.graph.remove(),this.boxCarpentry.current.appendChild(this.OBJDATA[this.OBJDATA.length-1].graph),this.binder=null,this.boxInfo.current.innerHTML="Gateway added",this.foncButton("select_mode","dont_save"),this.saveNeeded=!0,this.save(!1,!1),this.showGatewaysSelectRef.current.gatewayAdded(this.gatewayBinderOptions)}else if("add_position"===this.mode){if(!this.binder)return this.foncButton("select_mode"),!1;this.OBJDATA.push(this.binder),this.binder.graph.remove(),this.boxCarpentry.current.appendChild(this.OBJDATA[this.OBJDATA.length-1].graph),this.binder=null,this.boxInfo.current.innerHTML="Position added",this.foncButton("select_mode","dont_save"),this.positionDrawingRef.current.positionAdded(this.positionBinderNumber)}else!e&&this.showMapLayer2D3DRef.current&&this.showMapLayer2D3DRef.current.handleMapClick2D(t);"edit_room_mode"!==this.mode&&(this.editor.showScaleBox(),this.rib())}else{if(this.showRib&&wt(this.boxScale.current,0,null,"inline",!1),this.drag="off",this.cursor("default"),"select_mode"===this.mode&&this.binder&&(this.removeBinder(),this.save(!1,!0)),"select_source_location_active"===this.mode&&this.simulateTestingSourceLocationIsValid&&(this.simulateTestingRightBoxRef.current.setSourceDistanceValues(this.snap.x-this.boxWallCoordinates.minX,this.snap.y-this.boxWallCoordinates.minY),this.simulateTestingRightBoxRef.current.toggleSourcePositionButton(!1),Ot(this.indoorPlanningCorrectAreaBox.current),this.mode="simulate_testing_mode"),"simulate_testing_mode"===this.mode&&this.simulateTestingRightBoxRef.current.isRaybasedHeatmapRendered()){const{xMouse:e,yMouse:i}=this.calcul_snap(t,"off");if(this.isLocationInsideRoomAndNotOnWalls(e,i)){const t=this.simulateTestingRightBoxRef.current.calculateRaybasedHeatmapPointData(e,i);this.showDrawingAreaPopup(e,i),n.render((0,u.jsxs)("div",{style:{padding:"1rem"},children:[(0,u.jsx)("div",{className:"popuprow",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Rssi(dBm):"}),t.rssi]})}),(0,u.jsx)("div",{className:"popuprow",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Distance from source:"}),t.distance]})}),(0,u.jsx)("div",{className:"popuprow",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Walls encountered:"}),t.wallsCount]})})]}),this.popupContentRef.current)}else this.closeDrawingAreaPopup()}if("set_testing_locations_active"===this.mode&&this.isLocationInsideRoomAndNotOnWalls(parseFloat(this.binder.getAttribute("x")),parseFloat(this.binder.getAttribute("y")))){const e=this.binder.cloneNode(!0);e.lastChild.textContent=parseInt(this.binder.textContent),this.testPlanLocationsBox.current.appendChild(e),this.planTestingRightBoxRef.current.onTestLocationAddedHandler(parseInt(this.binder.textContent),parseFloat(this.binder.getAttribute("x")),parseFloat(this.binder.getAttribute("y"))),t.touches?this.removeBinder():this.binder.lastChild.textContent=parseInt(this.binder.textContent)+1}if("text_mode"===this.mode&&0===this.action&&(this.action=1,this.textLayerModalContent.current.textContent=15,wt(this.textToLayerModal.current,this.modalTimeout)),"room_mode"===this.mode){if(!this.binder)return!1;this.removeSelectedBinder(),this.selectedBinder=this.binder,this.selectedBinder.binderType="room",this.binder=null,this.setRoomToolsValues(),vn.log("Room mode"),this.translateRightBox(this.roomTools.current,-200,!0),this.cursor("default"),this.save(!1,!1)}if("table_mode"===this.mode){if(!this.binder)return this.foncButton("select_mode"),!1;this.OBJDATA.push(this.binder),this.binder.graph.remove(),this.boxCarpentry.current.appendChild(this.OBJDATA[this.OBJDATA.length-1].graph),this.binder=null,this.boxInfo.current.innerHTML="Table added",this.saveNeeded=!0,this.save(!1,!1)}if("door_mode"===this.mode){if(!this.binder)return this.boxInfo.current.innerHTML="The plan currently contains no wall.",this.foncButton("select_mode"),!1;this.OBJDATA.push(this.binder),this.binder.graph.remove(),this.boxCarpentry.current.appendChild(this.OBJDATA[this.OBJDATA.length-1].graph),this.binder=null,"fix"===this.OBJDATA[this.OBJDATA.length-1].type?this.boxInfo.current.innerHTML="Window added":this.boxInfo.current.innerHTML="Door added",this.cursor("crosshair"),this.saveNeeded=!0,this.save(!1,!1)}if("line_mode"===this.mode){document.getElementById("linetemp")&&document.getElementById("linetemp").remove(),this.intersectionOff();let e=ie({x:this.x,y:this.y},{x:this.wallStartX,y:this.wallStartY})/this.meter;if(vn.log("Size wall: "+e),!document.getElementById("line_construc")&&this.wallDrawingStartClick)this.wallDrawingStartClick=!1;else if(document.getElementById("line_construc")&&e>.3){let t=new Js({x:this.wallStartX,y:this.wallStartY},{x:this.x,y:this.y},"normal",document.getElementById("line_construc").getAttribute("stroke-width"),document.getElementById("line_construc").getAttribute("data-wall-material"));this.setWallId(t),t.equations.base=this.editor.createEquationFromWall(t),this.WALLS.push(t),this.editor.onWallAddedSlicing(t),this.editor.architect(this.WALLS),this.multipleWallDrawing.current.checked&&!this.wallEndConstruc?this.action=1:this.action=0,this.boxInfo.current.innerHTML="<p>Wall added</p><p>Length: ".concat(We(e,this.context.userUnit,"meter","feet",2,!0,!0),"</p>"),document.getElementById("line_construc")&&document.getElementById("line_construc").remove(),this.lengthTemp&&this.lengthTemp.remove(),this.lengthTemp=null,this.construc=0,this.wallEndConstruc&&(this.action=0),this.wallEndConstruc=null,this.pox=this.x,this.poy=this.y,this.wallStartX=this.pox,this.wallStartY=this.poy,this.saveNeeded=!0,this.save(!1,!1)}else vn.log("Nemoj kreirat zid"),this.action=0,this.construc=0,this.boxInfo.current.innerHTML="Select mode",this.foncButton("select_mode"),this.removeBinder(),this.snap=this.calcul_snap(t,this.grid_snap),this.pox=this.snap.x,this.poy=this.snap.y}if("bind_mode"===this.mode){this.action=0,this.construc=0;let t=!0;if(this.binder){if(this.foncButton("select_mode","dont_save"),"node"===this.binder.type&&(vn.log("Mouse up bind mode NODE"),this.editor.removeZeroLengthWallsAndSliceExistingWalls(),this.editor.architect(this.WALLS)),"segment"===this.binder.type){let e=!1;if(this.binder.wall.start===this.binder.before&&(e=!0),e){this.boxInfo.current.innerHTML="Modify the wall",t=!1,vn.log("mainComponentThis.binder wall:"),vn.log(this.binder),this.hideActiveRightBox(),this.translateRightBox(this.wallTools.current,-200,!0),this.setWallToolsValues(this.binder.wall),this.removeSelectedBinder(),this.selectedBinder=this.binder,this.selectedBinder.binderType="wall",this.binder=null;for(let t=0;t<this.selectedBinder.graph.children.length;t++)this.selectedBinder.graph.children[t].setAttribute("stroke","#0cacf2"),this.selectedBinder.graph.children[t].setAttribute("fill","#0cacf2"),this.selectedBinder.graph.children[t].style.stroke="#0cacf2",this.selectedBinder.graph.children[t].style.fill="#0cacf2"}else vn.log("Mouse up bind mode pomican cijeli zid"),this.editor.removeZeroLengthWallsAndSliceExistingWalls(),this.editor.architect(this.WALLS);this.equation1=null,this.equation2=null,this.equation3=null}else if("obj"===this.binder.type){if(Math.abs(this.binder.oldXY.x-this.binder.x)+Math.abs(this.binder.oldXY.y-this.binder.y)<1){"simple"===this.binder.obj.type?(this.boxInfo.current.innerHTML="Config door",t=!1,wt(this.objToolsHinge.current,0),this.objToolsTitleRef.current.innerHTML="Modify door",this.objToolsDeleteButtonText.current.innerHTML="Delete door",this.objToolsBreakLine.current.classList.remove("hidden")):(this.boxInfo.current.innerHTML="Config window",t=!1,vt(this.objToolsHinge.current,0),this.objToolsTitleRef.current.innerHTML="Modify window",this.objToolsDeleteButtonText.current.innerHTML="Delete window",this.objToolsBreakLine.current.classList.add("hidden")),this.hideActiveRightBox(),this.translateRightBox(this.objTools.current,-200,!0),this.cursor("default"),this.setDoorWindowToolsValue(this.binder.obj),this.removeSelectedBinder(),this.selectedBinder=this.binder,this.selectedBinder.binderType="obj",this.binder=null;for(let t=0;t<this.selectedBinder.graph.children.length;t++)this.selectedBinder.graph.children[t].setAttribute("stroke","#0cacf2"),this.selectedBinder.graph.children[t].setAttribute("fill","#0cacf2"),this.selectedBinder.graph.children[t].style.stroke="#0cacf2",this.selectedBinder.graph.children[t].style.fill="#0cacf2"}else this.mode="select_mode",this.action=0,this.removeBinder()}else if("boundingBox"===this.binder.type){let e=Math.abs(this.binder.oldX-this.binder.x)+Math.abs(this.binder.oldY-this.binder.y),i=this.binder.obj;i.params.move||(i.graph.remove(),this.OBJDATA.splice(this.OBJDATA.indexOf(i),1),this.boxInfo.current.innerHTML="Measure deleted!",t=!1),vn.log("target object: "),vn.log(i),e<1&&i.params.move?"table"!==i.type?(i.params.rotate?wt(this.objBoundingBoxRotationNumberSliderInput.current.containerRef.current,0):vt(this.objBoundingBoxRotationNumberSliderInput.current.containerRef.current,0),vn.log("mainComponentThis.binder text"),vn.log(this.binder),this.setTextToolsValue(i),this.hideActiveRightBox(),this.translateRightBox(this.objBoundingBox.current,-200,!0),this.cursor("default"),this.boxInfo.current.innerHTML="Modify text",t=!1,this.removeSelectedBinder(),this.selectedBinder=this.binder,this.selectedBinder.binderType="text",this.binder=null):(this.hideActiveRightBox(),this.translateRightBox(this.objBoundingBox.current,-200,!0),this.cursor("default"),this.removeSelectedBinder(),this.selectedBinder=this.binder,this.binder=null):(this.mode="select_mode",this.action=0,this.removeBinder())}"bind_mode"===this.mode&&this.binder&&(vn.log("Makni mainComponentThis.binder"),this.removeBinder())}this.saveNeeded=!0,this.save(!1,t)}"edit_room_mode"!==this.mode&&(this.editor.showScaleBox(),this.rib())}}var Tn=i(1317);function Pn(t){if(Tn.log("Mouse down"+this.props.isHeatmap),this.props.isHeatmap)"select_mode"===this.mode&&(!this.binder||"segment"!==this.binder.type&&"node"!==this.binder.type&&"obj"!==this.binder.type&&"boundingBox"!==this.binder.type?(this.action=0,this.drag="on",this.drawingAreaPopupActive&&(Tn.log("Hide heatmap active popup true"),this.hideDrawingAreaPopup=!0),this.snap=this.calcul_snap(t,this.grid_snap),this.pox=this.snap.xMouse,this.poy=this.snap.yMouse):(this.mode="bind_mode","obj"===this.binder.type&&(this.action=1),"boundingBox"===this.binder.type&&(this.action=1)));else{if("floorplan_image_scaling"!==this.mode&&"floorplan_image_translation"!==this.mode||(this.snap=this.calcul_snap(t,this.grid_snap),this.uploadFloorplanImageToolsRef.current.handleMouseDownAction(this.snap)),"line_mode"===this.mode){if(0===this.action){let e;this.wallDrawingStartClick=!0,this.snap=this.calcul_snap(t,this.grid_snap),this.pox=this.snap.x,this.poy=this.snap.y,(e=this.editor.nearWall(this.snap,this.nearWallConstrucRadius))&&(this.pox=e.x,this.poy=e.y),this.wallStartX=this.pox,this.wallStartY=this.poy}else this.wallDrawingStartClick=!1,this.construc=1;this.action=1}if("edit_door_mode"===this.mode&&(this.action=1,this.cursor("pointer")),"select_mode"===this.mode||"simulate_testing_mode"===this.mode||"plan_testing_mode"===this.mode)if(Tn.log("Inside select mode"),Tn.log(this.binder),!this.binder||"segment"!==this.binder.type&&"node"!==this.binder.type&&"obj"!==this.binder.type&&"boundingBox"!==this.binder.type)this.action=0,this.drag="on",this.snap=this.calcul_snap(t,this.grid_snap),this.pox=this.snap.xMouse,this.poy=this.snap.yMouse;else{if(Tn.log("Set bind mode"),this.mode="bind_mode","obj"===this.binder.type&&(this.action=1),"boundingBox"===this.binder.type&&(this.action=1),"node"===this.binder.type){vt(this.boxScale.current,0,null,!1);let t=this.binder.data;this.pox=t.x,this.poy=t.y;let e,i={x:this.pox,y:this.poy};this.wallListObj=[],this.wallListRun=[];for(let s=this.WALLS.length-1;s>-1;s--)if(Wt(this.WALLS[s].start,i)||Wt(this.WALLS[s].end,i)){this.wallListRun.push(this.WALLS[s]);break}null!=this.wallListRun[0].child&&(Wt(this.wallListRun[0].child.start,i)||Wt(this.wallListRun[0].child.end,i))&&this.wallListRun.push(this.wallListRun[0].child),null!=this.wallListRun[0].parent&&(Wt(this.wallListRun[0].parent.start,i)||Wt(this.wallListRun[0].parent.end,i))&&this.wallListRun.push(this.wallListRun[0].parent);for(let s in this.wallListRun)if(Wt(this.wallListRun[s].start,i)||Wt(this.wallListRun[s].end,i)){let t=this.wallListRun[s].start;Wt(this.wallListRun[s].start,i)&&(t=this.wallListRun[s].end),e=this.editor.objFromWall(this.wallListRun[s]);let n=this.wallListRun[s];for(let i=0;i<e.length;i++){let s=e[i],o=ie(s,t);this.wallListObj.push({wall:n,from:t,distance:o,obj:s,indexObj:i})}}this.magnetic=0,this.action=1}if("segment"===this.binder.type){vt(this.boxScale.current,0,null,!1);let t=this.binder.wall;if(this.binder.before=this.binder.wall.start,this.equation2=this.editor.createEquationFromWall(t),null!=t.parent){this.equation1=this.editor.createEquationFromWall(t.parent);let e=this.qSVG.angleBetweenEquations(this.equation1.A,this.equation2.A);if(e<20||e>160){let e=!0;for(let i in this.WALLS)if(Zt(t.start,this.WALLS[i].coords)&&!Wt(this.WALLS[i],t.parent)&&!Wt(this.WALLS[i],t)){null!=t.parent.parent&&Wt(t,t.parent.parent)&&(t.parent.parent=null),null!=t.parent.child&&Wt(t,t.parent.child)&&(t.parent.child=null),t.parent=null,e=!1;break}if(e){let e;Wt(t.parent.end,t.start,"1")?(e=new Js(t.parent.end,t.start,"normal",t.thick,t.material),Tn.log("Push new wall "+JSON.stringify(e)),this.setWallId(e),this.WALLS.push(e),e.parent=t.parent,e.child=t,t.parent.child=e,t.parent=e,this.equation1=this.qSVG.perpendicularEquation(this.equation2,t.start.x,t.start.y)):Wt(t.parent.start,t.start,"2")&&(e=new Js(t.parent.start,t.start,"normal",t.thick,t.material),Tn.log("Push new wall "+JSON.stringify(e)),this.setWallId(e),this.WALLS.push(e),e.parent=t.parent,e.child=t,t.parent.parent=e,t.parent=e,this.equation1=this.qSVG.perpendicularEquation(this.equation2,t.start.x,t.start.y))}}}if(null==t.parent){let e=!1;for(let i in this.WALLS)if(Zt(t.start,this.WALLS[i].coords)&&!Wt(this.WALLS[i].coords,t.coords)){let t=this.qSVG.angleBetweenEquations(this.WALLS[i].equations.base.A,this.equation2.A);if(t<20||t>160)break;this.equation1=this.editor.createEquationFromWall(this.WALLS[i]),this.equation1.follow=this.WALLS[i],this.equation1.backUp={coords:this.WALLS[i].coords,start:this.WALLS[i].start,end:this.WALLS[i].end,child:this.WALLS[i].child,parent:this.WALLS[i].parent},e=!0;break}e||(this.equation1=this.qSVG.perpendicularEquation(this.equation2,t.start.x,t.start.y))}if(null!=t.child){this.equation3=this.editor.createEquationFromWall(t.child);let e=this.qSVG.angleBetweenEquations(this.equation3.A,this.equation2.A);if(e<20||e>160){let e=!0;for(let i in this.WALLS)if(Zt(t.end,this.WALLS[i].coords)&&!Wt(this.WALLS[i],t.child)&&!Wt(this.WALLS[i],t)){null!=t.child.parent&&Wt(t,t.child.parent)&&(t.child.parent=null),null!=t.child.child&&Wt(t,t.child.child)&&(t.child.child=null),t.child=null,e=!1;break}if(e)if(Wt(t.child.start,t.end)){let e=new Js(t.end,t.child.start,"new",t.thick,t.material);Tn.log("Push new wall "+JSON.stringify(e)),this.setWallId(e),this.WALLS.push(e),e.parent=t,e.child=t.child,t.child.parent=e,t.child=e,this.equation3=this.qSVG.perpendicularEquation(this.equation2,t.end.x,t.end.y)}else if(Wt(t.child.end,t.end)){let e=new Js(t.end,t.child.end,"normal",t.thick,t.material);Tn.log("Push new wall "+JSON.stringify(e)),this.setWallId(e),this.WALLS.push(e),e.parent=t,e.child=t.child,t.child.child=e,t.child=e,this.equation3=this.qSVG.perpendicularEquation(this.equation2,t.end.x,t.end.y)}}}if(null==t.child){let e=!1;for(let i in this.WALLS)if(Zt(t.end,this.WALLS[i].coords)&&!Wt(this.WALLS[i].coords,t.coords,"4")){let t=this.qSVG.angleBetweenEquations(this.WALLS[i].equations.base.A,this.equation2.A);if(t<20||t>160)break;this.equation3=this.editor.createEquationFromWall(this.WALLS[i]),this.equation3.follow=this.WALLS[i],this.equation3.backUp={coords:this.WALLS[i].coords,start:this.WALLS[i].start,end:this.WALLS[i].end,child:this.WALLS[i].child,parent:this.WALLS[i].parent},e=!0;break}e||(this.equation3=this.qSVG.perpendicularEquation(this.equation2,t.end.x,t.end.y))}this.equationFollowers=[];for(let i in this.WALLS)null==this.WALLS[i].child&&Zt(this.WALLS[i].end,t.coords)&&!Wt(t,this.WALLS[i])&&this.equationFollowers.push({wall:this.WALLS[i],eq:this.editor.createEquationFromWall(this.WALLS[i]),type:"end"}),null==this.WALLS[i].parent&&Zt(this.WALLS[i].start,t.coords)&&!Wt(t,this.WALLS[i])&&this.equationFollowers.push({wall:this.WALLS[i],eq:this.editor.createEquationFromWall(this.WALLS[i]),type:"start"});this.equationsObj=[];let e=this.editor.objFromWall(t);for(let i=0;i<e.length;i++){let s=e[i];this.equationsObj.push({obj:s,wall:t,eq:this.qSVG.perpendicularEquation(this.equation2,s.x,s.y)})}this.action=1}}}}function In(t){P(t,(t=>{const{xMouse:e,yMouse:i}=this.calcul_snap(t);if(this.showMapLayer2DInputRef.current.getCheckedStatus())var s=this.calcul_snap({pageX:this.offset.left,pageY:this.offset.top+this.offset.scrollY});if(this.setZoomParameters(t.deltaY<0?"zoomin":"zoomout",this.zoomXMove,!0)){const{xMouse:n,yMouse:o}=this.calcul_snap(t);this.originX_viewbox=this.originX_viewbox-(n-e),this.originY_viewbox=this.originY_viewbox-(o-i),this.showMapLayer2DInputRef.current.getCheckedStatus()&&this.handleMapZoomChange(s),this.drawingAreaPopupActive&&this.drawingAreaPopupZoomTranslateControl(),this.heatmapGenerated&&this.heatmapZoomTranslateControl(),"simulate_testing_mode"!==this.mode&&"select_source_location_active"!==this.mode||this.simulateTestingCanvasZoomTranslateControl(),this.setSvgViewBoxes()}}),100)()}function jn(t){if(1===t.touches.length)this.touchStartPageCoordinates={pageX:t.changedTouches[0].pageX,pageY:t.changedTouches[0].pageY},this.props.isHeatmap?this.heatmapObjectBinderCreation(t):(this.textAndUploadFloorplanImageBinderCreation(t),this.roomModeBinderCreation(t),this.tableModeBinderCreation(t),this.doorModeBinderCreation(t),this.selectModeObj2DWallNodeWallSegmentBinderCreation(t),this.lineModeNearWallHleperBinderCreation(t),this.indoorPlanningBinderCreation(t)),this.handleMouseDown(t);else if(2===t.touches.length){this.drag="off",this.touchZoomTouches=[],this.touchZoomTouches.push({identifier:t.touches[0].identifier,pageX:t.touches[0].pageX,pageY:t.touches[0].pageY}),this.touchZoomTouches.push({identifier:t.touches[1].identifier,pageX:t.touches[1].pageX,pageY:t.touches[1].pageY}),this.zoomTouchFocusPoint={pageX:(t.touches[0].pageX+t.touches[1].pageX)/2,pageY:(t.touches[0].pageY+t.touches[1].pageY)/2};const e=t.touches[0].pageX-t.touches[1].pageX,i=t.touches[0].pageY-t.touches[1].pageY;this.touchZoomDollyStartDistance=Math.sqrt(e*e+i*i)}}var Rn=i(1317);function Mn(t){if(t.touches[0].pageX!==this.touchStartPageCoordinates.pageX||t.touches[0].pageY!==this.touchStartPageCoordinates.pageY)if(1===t.touches.length&&"on"===this.drag)Rn.log("Drag"),this.hideDrawingAreaPopup=!1,this.snap=this.calcul_snap(t,this.grid_snap),this.distX=(this.snap.xMouse-this.pox)*this.zoomFactor,this.distY=(this.snap.yMouse-this.poy)*this.zoomFactor,this.pox=this.snap.xMouse-this.distX,this.poy=this.snap.yMouse-this.distY,this.zoom_maker("zoomdrag",this.distX,this.distY);else if(2===t.touches.length){Rn.log("Zoom 2 fingers"),this.binder&&"simulate_testing_mode"!==this.mode&&"select_source_location_active"!==this.mode&&(this.removeBinder(),this.mode="select_mode");const i=t.touches[0].pageX-t.touches[1].pageX,s=t.touches[0].pageY-t.touches[1].pageY;this.touchZoomDollyEndDistance=Math.sqrt(i*i+s*s);const n=this.touchZoomDollyEndDistance-this.touchZoomDollyStartDistance;if(Rn.log("Distance "+n),0!==n){const{xMouse:t,yMouse:i}=this.calcul_snap(this.zoomTouchFocusPoint);if(this.showMapLayer2DInputRef.current.getCheckedStatus())var e=this.calcul_snap({pageX:this.offset.left,pageY:this.offset.top+this.offset.scrollY});const s=n>0?.95*this.zoomFactor:this.zoomFactor/.95,o=1/s,a=s*this.taille_w;if(n>0){if(this.isOverMaxZoomIn(a,0))return}else if(this.isOverMaxZoomOut(a,0))return;const r=a-this.width_viewbox;Rn.log("Zoom out Width viewbox delta "+r),this.width_viewbox+=r,this.height_viewbox=this.width_viewbox*this.ratio_viewbox,this.originX_viewbox=this.originX_viewbox-r/2,this.originY_viewbox=this.originY_viewbox-r/2*this.ratio_viewbox,this.zoomFactor=this.width_viewbox/this.taille_w;const{xMouse:l,yMouse:h}=this.calcul_snap(this.zoomTouchFocusPoint);this.originX_viewbox=this.originX_viewbox-(l-t),this.originY_viewbox=this.originY_viewbox-(h-i),this.heatmapCanvasZoomFactor=o,this.setScaleValueWidth(o),this.showMapLayer2DInputRef.current.getCheckedStatus()&&this.handleMapZoomChange(e),this.drawingAreaPopupActive&&this.drawingAreaPopupZoomTranslateControl(),this.heatmapGenerated&&this.heatmapZoomTranslateControl(),"simulate_testing_mode"!==this.mode&&"select_source_location_active"!==this.mode||this.simulateTestingCanvasZoomTranslateControl(),this.setSvgViewBoxes(),this.touchZoomDollyStartDistance=this.touchZoomDollyEndDistance}}else this.handleMouseMove(t)}function Bn(t){this.drag="off",this.handleMouseUp(t)}var Dn=i(4014),Ln=i(3308),Nn=i(1051),kn=i(5654),On=i(2699),Fn=i(1095),Wn=i(8393),Hn=i(2317),Gn=i(6788),En=i(2550),Vn=i(657),zn=i(1015),qn=i(7747);s.Component;class Un extends s.Component{render(){return(0,u.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"0 0 95.098 95.098",style:{enableBackground:"new 0 0 95.098 95.098",marginRight:5},xmlSpace:"preserve",children:(0,u.jsxs)("g",{children:[(0,u.jsx)("path",{d:"M47.549,0C21.288,0,0,21.288,0,47.549s21.288,47.549,47.549,47.549c26.262,0,47.549-21.288,47.549-47.549\r S73.811,0,47.549,0z M47.549,85.098C26.844,85.098,10,68.253,10,47.549S26.844,10,47.549,10s37.549,16.845,37.549,37.549\r S68.254,85.098,47.549,85.098z"}),(0,u.jsx)("path",{d:"M77.665,29.911c-0.25-0.428-0.755-0.633-1.231-0.503l-33.783,9.213c-0.186,0.052-0.355,0.151-0.492,0.288L17.596,63.865\r c-0.346,0.354-0.414,0.895-0.164,1.32c0.25,0.428,0.755,0.635,1.232,0.504l33.783-9.214c0.093-0.024,0.182-0.062,0.265-0.11\r c0.083-0.049,0.159-0.108,0.228-0.178l24.562-24.957C77.848,30.879,77.915,30.337,77.665,29.911z M26.705,59.756l16.46-16.725\r l6.179,10.551L26.705,59.756z"})]})})}}const Jn=Un;class Xn extends s.Component{render(){return(0,u.jsx)("svg",{width:"20px",height:"20px",style:{marginRight:5},viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"m22 6-3-4-3 4h2v4h-2l3 4 3-4h-2V6zM9.307 4l-6 16h2.137l1.875-5h6.363l1.875 5h2.137l-6-16H9.307zm-1.239 9L10.5 6.515 12.932 13H8.068z"})})}}const Yn=Xn;class Zn extends s.Component{render(){return(0,u.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"25px",height:"25px",viewBox:"0 0 477.381 477.382",style:{marginRight:5,enableBackground:"new 0 0 477.381 477.382"},xmlSpace:"preserve",children:(0,u.jsxs)("g",{children:[(0,u.jsx)("path",{d:"M477.381,103.373c0-54.988-44.577-99.564-99.565-99.564c-53.146,0-96.562,41.64-99.413,94.074\r c-13.35-2.513-27.168-3.838-41.322-3.838c-113.595,0-205.681,84.96-205.681,189.764c0,28.472,6.81,55.472,18.986,79.71\r L1.735,451.491c-2.703,4.889-2.215,10.917,1.239,15.308c2.673,3.397,6.721,5.3,10.911,5.3c1.223,0,2.457-0.163,3.674-0.498\r l106.506-29.233c32.435,19.721,71.269,31.206,113.016,31.206c113.594,0,205.681-84.96,205.681-189.764\r c0-32.378-8.8-62.854-24.3-89.521C453.186,178.737,477.381,143.881,477.381,103.373z M377.816,177.937\r c-41.115,0-74.565-33.449-74.565-74.564c0-41.115,33.45-74.564,74.565-74.564s74.565,33.449,74.565,74.564\r C452.381,144.487,418.931,177.937,377.816,177.937z"}),(0,u.jsx)("path",{d:"M419.955,92.871h-31.636V61.233c0-5.801-4.703-10.503-10.503-10.503c-5.799,0-10.502,4.702-10.502,10.503V92.87h-31.636\r c-5.802,0-10.503,4.702-10.503,10.503c0,5.8,4.701,10.502,10.503,10.502h31.636v31.636c0,5.801,4.703,10.503,10.502,10.503\r c5.801,0,10.503-4.702,10.503-10.503v-31.636h31.636c5.802,0,10.503-4.702,10.503-10.502\r C430.458,97.572,425.755,92.871,419.955,92.871z"})]})})}}const Qn=Zn;class Kn extends s.Component{render(){return(0,u.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"0 0 347.523 347.523",style:{marginRight:5,enableBackground:"new 0 0 347.523 347.523"},xmlSpace:"preserve",children:(0,u.jsxs)("g",{children:[(0,u.jsx)("path",{d:"M108.674,196.125c-2.857-0.402-5.777-0.592-8.746-0.534c-14.267,0.278-36.342,6.092-60.493,32.207\r c-19.171,20.729-19.954,42.635-20.644,61.961c-0.66,18.474-1.181,33.065-16.507,43.727c-1.506,1.049-2.318,2.837-2.113,4.661\r c0.128,1.147,0.645,2.191,1.434,2.98c0.466,0.466,1.026,0.843,1.658,1.099c28.523,11.553,77.316,5.895,117.044-33.833\r c18.043-18.044,28.812-37.145,31.14-55.233c0.607-4.719,0.618-9.323,0.091-13.763L108.674,196.125z M100.915,229.382\r c-1.553,2.174-3.859,3.612-6.494,4.052c-19.209,3.202-25.884,15.953-26.159,16.494c-1.627,3.387-5.167,5.611-8.989,5.611\r c-0.337,0-0.676-0.017-1.015-0.052c-1.149-0.117-2.264-0.432-3.313-0.936c-4.97-2.391-7.069-8.376-4.681-13.347\r c0.442-0.918,11.153-22.546,40.869-27.5c0.546-0.09,1.1-0.136,1.647-0.136c4.908,0,9.055,3.516,9.861,8.357\r C103.08,224.559,102.467,227.207,100.915,229.382z"}),(0,u.jsx)("path",{d:"M340.587,6.796c-8.615-8.614-22.425-9.1-31.624-1.112c-5.782,5.021-141.818,123.166-160.166,141.513\r c-9.175,9.175-20.946,24.898-31.124,39.428l42.864,43.271c14.546-10.18,30.345-22.003,39.65-31.308\r C218.749,180.024,336.69,44.193,341.703,38.42C349.688,29.22,349.201,15.41,340.587,6.796z"})]})})}}const _n=Kn;class $n extends s.Component{render(){return(0,u.jsx)("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"#333",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.70714 3.29289C9.09766 3.68342 9.09766 4.31658 8.70714 4.70711L6.41424 7H14C17.866 7 21 10.134 21 14C21 17.866 17.866 21 14 21H8.15388C7.60159 21 7.15388 20.5523 7.15388 20C7.15388 19.4477 7.60159 19 8.15388 19H14C16.7615 19 19 16.7614 19 14C19 11.2386 16.7615 9 14 9H6.41424L8.70714 11.2929C9.09766 11.6834 9.09766 12.3166 8.70714 12.7071C8.31661 13.0976 7.68345 13.0976 7.29292 12.7071L2.58582 8L7.29292 3.29289C7.68345 2.90237 8.31661 2.90237 8.70714 3.29289Z"})})}}const to=$n;class eo extends s.Component{render(){return(0,u.jsx)("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"#333",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.2929 3.29289C15.6834 2.90237 16.3166 2.90237 16.7071 3.29289L21.4142 8L16.7071 12.7071C16.3166 13.0976 15.6834 13.0976 15.2929 12.7071C14.9024 12.3166 14.9024 11.6834 15.2929 11.2929L17.5858 9H10C7.23858 9 5 11.2386 5 14C5 16.7614 7.23857 19 10 19H15.8462C16.3984 19 16.8462 19.4477 16.8462 20C16.8462 20.5523 16.3984 21 15.8462 21H10C6.134 21 3 17.866 3 14C3 10.134 6.13401 7 10 7H17.5858L15.2929 4.70711C14.9024 4.31658 14.9024 3.68342 15.2929 3.29289Z"})})}}const io=eo;class so extends s.Component{render(){return(0,u.jsx)("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"22px",height:"22px",viewBox:"0 0 360.39 360.389",style:{enableBackground:"new 0 0 360.39 360.389"},xmlSpace:"preserve",children:(0,u.jsx)("g",{children:(0,u.jsx)("path",{d:"M301.123,173.306L118.995,3.265c-3.242-3.038-7.891-4.049-12.105-2.639c-4.211,1.404-7.317,5.006-8.086,9.389\r L55.602,255.404c-0.854,4.847,1.306,9.717,5.464,12.341c4.152,2.625,9.49,2.465,13.491-0.378l59.968-42.699l47.219,127.448\r c2.127,6.336,8.984,9.765,15.332,7.648l62.087-20.771c6.342-2.116,9.771-8.984,7.648-15.327l-47.228-127.43l73.596-1.975\r c4.905-0.13,9.262-3.215,11.006-7.802C305.929,181.85,304.717,176.654,301.123,173.306z M202.591,172.455\r c-3.842,0.109-7.4,2.004-9.599,5.163c-2.205,3.147-2.778,7.146-1.561,10.781l48.557,131.467l-39.111,13.075l-48.56-131.455\r c-1.224-3.647-4.093-6.502-7.743-7.679c-3.656-1.188-7.643-0.585-10.772,1.649l-49.216,35.027l34.206-194.281l144.19,134.636\r L202.591,172.455z"})})})}}const no=so;class oo extends s.Component{render(){return(0,u.jsxs)("svg",{width:"22px",height:"22px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("rect",{x:0,fill:"none",width:24,height:24}),(0,u.jsxs)("g",{children:[(0,u.jsx)("path",{d:"M21 14v5c0 1.105-.895 2-2 2H5c-1.105 0-2-.895-2-2V5c0-1.105.895-2 2-2h5v2H5v14h14v-5h2z"}),(0,u.jsx)("path",{d:"M21 7h-4V3h-2v4h-4v2h4v4h2V9h4"})]})]})}}const ao=oo;class ro extends s.Component{render(){return(0,u.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 60 60",style:{enableBackground:"new 0 0 60 60",width:22,height:22},xmlSpace:"preserve",children:(0,u.jsxs)("g",{children:[(0,u.jsx)("path",{d:"M58,37.104V4c0-0.553-0.448-1-1-1H1C0.448,3,0,3.447,0,4v44c0,0.553,0.448,1,1,1h34.003c1.963,4.693,6.6,8,11.997,8\r c7.168,0,13-5.832,13-13C60,41.465,59.26,39.105,58,37.104z M34.359,47H2V5h54v29.622c-0.17-0.164-0.354-0.311-0.532-0.465\r c-0.088-0.075-0.171-0.155-0.261-0.228c-0.235-0.192-0.48-0.37-0.728-0.545c-0.092-0.065-0.181-0.135-0.275-0.198\r c-0.245-0.163-0.498-0.312-0.754-0.458c-0.109-0.063-0.214-0.13-0.325-0.189c-0.077-0.041-0.154-0.083-0.232-0.123\r c0.179-0.385,0.112-0.852-0.218-1.154l-12-11c-0.196-0.179-0.45-0.277-0.72-0.262c-0.265,0.012-0.515,0.129-0.694,0.325\r l-9.794,10.727l-4.743-4.743c-0.374-0.373-0.972-0.391-1.368-0.044L6.339,41.249c-0.415,0.365-0.455,0.997-0.09,1.412\r C6.447,42.886,6.723,43,7,43c0.234,0,0.47-0.082,0.66-0.249l16.313-14.362l10.302,10.301c0.203,0.203,0.47,0.295,0.736,0.287\r C34.361,40.523,34,42.22,34,44c0,0.493,0.033,0.977,0.087,1.456c0.009,0.075,0.024,0.149,0.034,0.224\r c0.056,0.428,0.131,0.849,0.227,1.262C34.353,46.961,34.354,46.981,34.359,47z M48.779,31.136\r c-0.162-0.022-0.321-0.055-0.485-0.071C47.867,31.023,47.435,31,47,31c-4.773,0-8.942,2.593-11.203,6.437\r c-0.036-0.054-0.06-0.114-0.107-0.162l-4.807-4.807l9.181-10.054l9.694,8.887c-0.067-0.015-0.133-0.032-0.2-0.045\r C49.301,31.204,49.039,31.172,48.779,31.136z M47,55c-4.787,0-8.859-3.08-10.367-7.358c-0.094-0.267-0.176-0.536-0.249-0.806\r c-0.015-0.058-0.03-0.115-0.045-0.173c-0.06-0.238-0.112-0.476-0.156-0.716c-0.024-0.133-0.042-0.267-0.061-0.401\r c-0.026-0.18-0.054-0.36-0.071-0.54C36.021,44.674,36,44.339,36,44c0-6.065,4.935-11,11-11c0.426,0,0.848,0.031,1.265,0.079\r c0.127,0.015,0.25,0.039,0.375,0.057c0.291,0.044,0.579,0.096,0.863,0.162c0.141,0.033,0.281,0.07,0.421,0.108\r c0.268,0.074,0.531,0.159,0.792,0.253c0.134,0.048,0.269,0.094,0.4,0.147c0.295,0.119,0.583,0.255,0.866,0.399\r c0.083,0.042,0.17,0.077,0.252,0.121c0.342,0.185,0.671,0.393,0.992,0.614c0.131,0.09,0.255,0.19,0.382,0.286\r c0.199,0.15,0.395,0.305,0.584,0.469c0.127,0.11,0.251,0.224,0.373,0.339c0.193,0.184,0.379,0.377,0.559,0.575\r c0.094,0.103,0.191,0.202,0.281,0.309c0.261,0.311,0.51,0.634,0.739,0.976C57.315,39.643,58,41.743,58,44\r C58,50.065,53.065,55,47,55z"}),(0,u.jsx)("path",{d:"M53,43h-5v-5c0-0.553-0.448-1-1-1s-1,0.447-1,1v5h-5c-0.552,0-1,0.447-1,1s0.448,1,1,1h5v5c0,0.553,0.448,1,1,1\r s1-0.447,1-1v-5h5c0.552,0,1-0.447,1-1S53.552,43,53,43z"}),(0,u.jsx)("path",{d:"M16,25.138c3.071,0,5.569-2.498,5.569-5.568C21.569,16.498,19.071,14,16,14s-5.569,2.498-5.569,5.569\r C10.431,22.64,12.929,25.138,16,25.138z M16,16c1.968,0,3.569,1.602,3.569,3.569S17.968,23.138,16,23.138s-3.569-1.601-3.569-3.568\r S14.032,16,16,16z"})]})})}}const lo=ro;class ho extends s.Component{render(){return(0,u.jsx)("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:{width:22,height:22},children:(0,u.jsx)("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none",children:(0,u.jsx)("path",{d:"M0 2560 l0 -2560 2560 0 2560 0 0 2560 0 2560 -2560 0 -2560 0 0\r\n-2560z m960 1930 l0 -330 -330 0 -330 0 0 330 0 330 330 0 330 0 0 -330z m970\r\n0 l0 -330 -335 0 -335 0 0 330 0 330 335 0 335 0 0 -330z m960 0 l0 -330 -330\r\n0 -330 0 0 330 0 330 330 0 330 0 0 -330z m970 205 c0 -111 -2 -126 -17 -132\r\n-172 -58 -329 -206 -379 -355 l-16 -48 -129 0 -129 0 0 330 0 330 335 0 335 0\r\n0 -125z m960 -205 l0 -330 -130 0 c-103 0 -130 3 -130 14 0 7 -16 46 -36 86\r\n-54 107 -155 209 -256 260 -44 22 -87 40 -94 40 -11 0 -14 26 -14 130 l0 130\r\n330 0 330 0 0 -330z m-700 -231 c182 -82 219 -334 68 -463 -146 -125 -378 -64\r\n-445 117 -17 46 -16 136 3 189 21 62 74 121 136 152 67 34 170 36 238 5z\r\nm-3160 -526 l0 -128 -91 -43 c-119 -56 -217 -151 -272 -263 -20 -41 -37 -83\r\n-37 -92 0 -15 -15 -17 -130 -17 l-130 0 0 335 0 335 330 0 330 0 0 -127z m968\r\n-210 l2 -333 -130 0 c-104 0 -130 3 -130 14 0 7 -18 50 -40 94 -66 131 -181\r\n236 -312 284 l-58 21 0 122 c0 67 3 125 7 128 4 4 153 6 332 5 l326 -3 3 -332z\r\nm962 2 l0 -335 -330 0 -330 0 0 335 0 335 330 0 330 0 0 -335z m566 298 c42\r\n-103 74 -153 144 -223 70 -70 120 -102 223 -144 l37 -15 0 -125 0 -126 -335 0\r\n-335 0 0 328 c0 181 3 332 7 335 3 4 60 7 125 7 l119 0 15 -37z m1364 -298 l0\r\n-335 -330 0 -330 0 0 129 0 129 49 17 c149 49 295 205 354 378 6 15 21 17 132\r\n17 l125 0 0 -335z m-3584 -233 c58 -30 103 -78 132 -141 21 -45 24 -64 20\r\n-126 -10 -155 -124 -261 -278 -259 -77 2 -125 20 -182 72 -59 53 -88 121 -88\r\n205 0 128 64 217 189 264 51 19 156 11 207 -15z m-676 -415 c0 -27 69 -155\r\n113 -209 51 -61 154 -135 232 -166 l50 -20 3 -126 3 -126 -331 0 -330 0 0 330\r\n0 330 130 0 c99 0 130 -3 130 -13z m1370 -317 l0 -330 -335 0 -336 0 3 126 3\r\n126 51 18 c143 50 288 195 340 341 l18 49 128 0 128 0 0 -330z m960 0 l0 -330\r\n-330 0 -330 0 0 330 0 330 330 0 330 0 0 -330z m970 0 l0 -330 -335 0 -335 0\r\n0 330 0 330 335 0 335 0 0 -330z m960 0 l0 -330 -330 0 -330 0 0 330 0 330\r\n330 0 330 0 0 -330z m-3860 -965 l0 -335 -330 0 -330 0 0 335 0 335 330 0 330\r\n0 0 -335z m970 0 l0 -335 -332 2 -333 3 -3 320 c-1 176 0 325 3 332 3 10 78\r\n13 335 13 l330 0 0 -335z m960 206 l0 -129 -49 -17 c-119 -39 -258 -165 -316\r\n-287 -18 -37 -35 -76 -38 -88 -5 -19 -13 -20 -131 -20 l-126 0 0 335 0 335\r\n330 0 330 0 0 -129z m965 -206 l0 -330 -127 -3 -126 -3 -17 50 c-40 120 -168\r\n261 -296 325 -39 20 -78 36 -85 36 -11 0 -14 27 -14 130 l0 130 333 -2 332 -3\r\n0 -330z m965 0 l0 -335 -330 0 -330 0 0 335 0 335 330 0 330 0 0 -335z m-1665\r\n-229 c60 -27 107 -72 138 -130 17 -32 22 -58 22 -121 0 -70 -4 -87 -29 -133\r\n-53 -96 -132 -141 -246 -141 -81 -1 -150 29 -202 87 -53 59 -71 105 -71 187\r\n-1 99 35 166 125 234 61 46 185 54 263 17z m-2195 -736 l0 -330 -330 0 -330 0\r\n0 330 0 330 330 0 330 0 0 -330z m970 0 l0 -330 -335 0 -335 0 0 330 0 330\r\n335 0 335 0 0 -330z m569 284 c18 -61 100 -183 154 -229 57 -49 143 -100 195\r\n-117 l42 -13 0 -127 0 -128 -330 0 -330 0 0 330 0 330 128 0 128 0 13 -46z\r\nm1351 -284 l0 -330 -330 0 -331 0 3 126 3 125 57 23 c134 55 259 176 320 313\r\nl33 73 123 0 122 0 0 -330z m970 0 l0 -330 -330 0 -330 0 0 330 0 330 330 0\r\n330 0 0 -330z"})})})}}const po=ho;class co extends s.Component{render(){return(0,u.jsx)("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"321.000000pt",height:"323.000000pt",viewBox:"0 0 321.000000 323.000000",preserveAspectRatio:"xMidYMid meet",children:(0,u.jsxs)("g",{transform:"translate(0.000000,323.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none",children:[(0,u.jsx)("path",{d:"M1489 3150 c-209 -19 -367 -63 -554 -156 -163 -80 -285 -167 -409\r\n-292 -126 -126 -211 -246 -290 -407 -112 -227 -158 -423 -157 -675 0 -253 45\r\n-449 157 -675 80 -163 167 -285 292 -409 126 -126 246 -211 407 -290 226 -112\r\n422 -157 675 -157 253 0 449 45 675 157 161 79 280 164 407 291 126 125 212\r\n245 292 408 174 352 207 760 91 1135 -37 119 -143 328 -219 434 -84 116 -237\r\n270 -351 351 -107 77 -316 183 -435 220 -170 52 -414 80 -581 65z m421 -164\r\nc285 -66 512 -194 711 -402 180 -189 293 -400 356 -669 23 -97 26 -132 27\r\n-290 0 -151 -4 -197 -23 -285 -62 -283 -194 -523 -393 -716 -200 -194 -406\r\n-306 -683 -372 -98 -23 -131 -26 -295 -26 -164 0 -197 3 -295 26 -284 68 -514\r\n196 -706 394 -189 197 -302 404 -367 679 -23 98 -26 131 -26 295 0 164 3 197\r\n26 295 67 284 194 511 390 701 202 196 426 316 693 372 140 30 151 31 325 26\r\n118 -3 180 -10 260 -28z"}),(0,u.jsx)("path",{d:"M1450 2609 c-336 -59 -624 -283 -755 -586 -63 -146 -80 -229 -80\r\n-403 0 -174 17 -257 80 -403 95 -220 292 -417 512 -512 148 -64 229 -80 408\r\n-80 146 1 168 3 255 29 362 107 614 364 712 726 33 123 33 357 0 480 -51 188\r\n-134 333 -267 465 -131 132 -277 216 -460 265 -92 25 -314 35 -405 19z m429\r\n-168 c135 -46 239 -110 340 -212 101 -101 166 -204 213 -340 32 -92 33 -97 33\r\n-269 0 -172 -1 -177 -33 -269 -48 -138 -112 -240 -213 -341 -101 -100 -204\r\n-165 -340 -212 -92 -32 -97 -33 -269 -33 -172 0 -177 1 -269 33 -137 48 -240\r\n112 -341 212 -100 101 -164 204 -212 341 -32 92 -33 97 -33 269 0 170 1 177\r\n32 265 74 213 206 376 390 483 151 88 257 113 458 108 138 -2 157 -5 244 -35z"}),(0,u.jsx)("path",{d:"M1512 2075 c-90 -20 -166 -61 -231 -126 -69 -69 -108 -145 -128 -249\r\n-15 -73 -15 -87 0 -160 20 -104 59 -179 129 -248 69 -70 144 -109 248 -129 73\r\n-15 87 -15 160 0 102 20 178 58 245 125 117 116 163 266 131 420 -21 99 -60\r\n174 -127 241 -66 66 -141 106 -236 126 -82 18 -109 18 -191 0z m238 -156 c70\r\n-33 126 -89 159 -159 22 -46 26 -69 26 -140 0 -100 -27 -170 -91 -234 -64 -64\r\n-134 -91 -234 -91 -71 0 -94 4 -140 26 -156 74 -231 260 -168 417 39 96 91\r\n149 186 189 78 32 183 29 262 -8z"})]})})}}const mo=co;class uo extends s.Component{render(){return(0,u.jsx)("svg",{fill:"#000000",height:"800px",width:"800px",version:"1.1",id:"Capa_1",viewBox:"0 0 295.5 295.5",children:(0,u.jsxs)("g",{children:[(0,u.jsx)("path",{d:"M113.164,127.086c-23.142,0-41.969,18.854-41.969,42.027c0,15.452,12.179,27.999,13.566,29.378\r c2.285,2.271,5.297,7.3,6.274,10.456l3.352,13.743c0.818,3.359,3.828,5.724,7.286,5.724h22.979c3.457,0,6.467-2.363,7.286-5.722\r l3.355-13.748c0.973-3.147,3.984-8.178,6.272-10.453c1.388-1.379,13.564-13.927,13.564-29.378\r C155.131,145.939,136.305,127.086,113.164,127.086z M130.99,187.855c-4.134,4.111-8.489,11.422-10.131,17.004\r c-0.033,0.112-0.063,0.225-0.091,0.338l-2.006,8.218h-11.197l-2.004-8.216c-0.027-0.116-0.059-0.231-0.093-0.346\r c-1.649-5.588-6.004-12.896-10.116-16.983c-2.547-2.565-9.157-10.934-9.157-18.756c0-14.903,12.098-27.027,26.969-27.027\r c14.869,0,26.967,12.124,26.967,27.027C140.131,176.935,133.521,185.305,130.99,187.855z"}),(0,u.jsx)("path",{d:"M212.163,0h-198c-4.143,0-7.5,3.357-7.5,7.5V288c0,4.143,3.357,7.5,7.5,7.5h198c4.143,0,7.5-3.357,7.5-7.5V7.5\r C219.663,3.357,216.306,0,212.163,0z M204.663,280.5h-183V15h183V280.5z"}),(0,u.jsx)("path",{d:"M47.163,87.75h132c4.143,0,7.5-3.357,7.5-7.5V40.5c0-4.143-3.357-7.5-7.5-7.5h-132c-4.143,0-7.5,3.357-7.5,7.5v39.75\r C39.663,84.393,43.021,87.75,47.163,87.75z M54.663,48h117v24.75h-117V48z"}),(0,u.jsx)("path",{d:"M121.413,235.25h-16.5c-4.143,0-7.5,3.357-7.5,7.5s3.357,7.5,7.5,7.5h16.5c4.143,0,7.5-3.357,7.5-7.5\r S125.556,235.25,121.413,235.25z"}),(0,u.jsx)("path",{d:"M113.427,254.75h-0.527c-4.143,0-7.5,3.357-7.5,7.5s3.357,7.5,7.5,7.5h0.527c4.143,0,7.5-3.357,7.5-7.5\r S117.569,254.75,113.427,254.75z"}),(0,u.jsx)("path",{d:"M113.427,118.25c4.143,0,7.5-3.357,7.5-7.5s-3.357-7.5-7.5-7.5h-0.527c-4.143,0-7.5,3.357-7.5,7.5s3.357,7.5,7.5,7.5\r H113.427z"}),(0,u.jsx)("path",{d:"M75.927,123.75c0-4.143-3.357-7.5-7.5-7.5h-0.527c-4.143,0-7.5,3.357-7.5,7.5s3.358,7.5,7.5,7.5h0.527\r C72.569,131.25,75.927,127.893,75.927,123.75z"}),(0,u.jsx)("path",{d:"M158.427,116.25h-0.527c-4.143,0-7.5,3.357-7.5,7.5s3.357,7.5,7.5,7.5h0.527c4.143,0,7.5-3.357,7.5-7.5\r S162.569,116.25,158.427,116.25z"}),(0,u.jsx)("path",{d:"M175.427,152.75h-0.527c-4.143,0-7.5,3.357-7.5,7.5s3.357,7.5,7.5,7.5h0.527c4.143,0,7.5-3.357,7.5-7.5\r S179.569,152.75,175.427,152.75z"}),(0,u.jsx)("path",{d:"M54.427,152.75h-0.527c-4.142,0-7.5,3.357-7.5,7.5s3.358,7.5,7.5,7.5h0.527c4.143,0,7.5-3.357,7.5-7.5\r S58.569,152.75,54.427,152.75z"}),(0,u.jsx)("path",{d:"M237.664,225.442c0,1.164,0.271,2.313,0.792,3.355l18.086,36.173c1.271,2.54,3.867,4.146,6.708,4.146\r s5.438-1.605,6.708-4.146l18.087-36.173c0.521-1.042,0.792-2.191,0.792-3.355V47.75c0-4.143-3.357-7.5-7.5-7.5h-36.173\r c-4.143,0-7.5,3.357-7.5,7.5V225.442z M252.664,217.942V79.365h21.173v138.577H252.664z M273.837,55.25v9.115h-21.173V55.25\r H273.837z M263.25,244.845l-5.951-11.902h11.902L263.25,244.845z"})]})})}}const go=uo;class xo extends s.Component{render(){return(0,u.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 320",children:(0,u.jsx)("path",{d:"m150,110h-80v80h-70v100h150 20 150v-80-20-60-20-80h-170v80zm-60,20h60 70v60h-50-20-60v-60zm60,140h-130v-60h50 80v60zm150,0h-130v-60h50 20 60v60zm0-80h-60v-60h60v60zm-130-140h130v60h-60-20-50v-60z"})})}}const Ao=xo;class fo extends s.Component{render(){return(0,u.jsx)("svg",{height:22,width:22,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 490 490",xmlSpace:"preserve",children:(0,u.jsx)("g",{children:(0,u.jsx)("g",{children:(0,u.jsxs)("g",{children:[(0,u.jsx)("path",{d:"M385,0H105c-5.522,0-10,4.477-10,10v470c0,5.523,4.478,10,10,10h280c5.522,0,10-4.477,10-10V10\r C395,4.477,390.522,0,385,0z M375,470H115V20h260V470z"}),(0,u.jsx)("path",{d:"M140,240h210c5.522,0,10-4.477,10-10V55c0-11.028-8.972-20-20-20H150c-11.028,0-20,8.972-20,20v175\r C130,235.523,134.478,240,140,240z M255,55h85v75h-85V55z M255,150h85v70h-85V150z M150,55h85v75h-85V55z M150,150h85v70h-85V150\r z"}),(0,u.jsx)("path",{d:"M325,280c-16.542,0-30,13.458-30,30s13.458,30,30,30s30-13.458,30-30S341.542,280,325,280z M325,320\r c-5.514,0-10-4.486-10-10c0-5.514,4.486-10,10-10c5.514,0,10,4.486,10,10C335,315.514,330.514,320,325,320z"})]})})})})}}const Co=fo;class bo extends s.Component{render(){return(0,u.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512",width:22,height:22},xmlSpace:"preserve",children:[(0,u.jsx)("g",{children:(0,u.jsx)("g",{children:(0,u.jsx)("path",{d:"M480,0H32c-5.896,0-10.667,4.776-10.667,10.667v490.667C21.333,507.224,26.104,512,32,512h448\r c5.896,0,10.667-4.776,10.667-10.667V10.667C490.667,4.776,485.896,0,480,0z M469.333,490.667H42.667V21.333h426.667V490.667z"})})}),(0,u.jsx)("g",{children:(0,u.jsx)("g",{children:(0,u.jsx)("path",{d:"M437.333,42.667H266.667h-21.333H74.667C68.771,42.667,64,47.443,64,53.333v192v21.333v192\r c0,5.891,4.771,10.667,10.667,10.667h170.667h21.333h170.667c5.896,0,10.667-4.776,10.667-10.667v-192v-21.333v-192\r C448,47.443,443.229,42.667,437.333,42.667z M245.333,448h-160V266.667h160V448z M245.333,245.333h-160V64h160V245.333z\r M426.667,448h-160V266.667h160V448z M426.667,245.333h-160V64h160V245.333z"})})})]})}}const yo=bo;class wo extends s.Component{render(){return(0,u.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 330.004 330.004",style:{enableBackground:"new 0 0 330.004 330.004",width:22,height:22,fill:"#fff"},xmlSpace:"preserve",children:(0,u.jsx)("path",{d:"M315.002,0h-300c-8.284,0-15,6.716-15,15v300.004c0,8.284,6.716,15,15,15h170c8.284,0,15-6.716,15-15\r c0-8.284-6.716-15-15-15h-155v-130h70V225c0,8.284,6.716,15,15,15s15-6.716,15-15V85c0-8.284-6.716-15-15-15s-15,6.716-15,15v55.004\r h-70V30h150v75.004c0,8.284,6.716,15,15,15h70c8.284,0,15-6.716,15-15c0-8.284-6.716-15-15-15h-55V30h90v180.004h-105\r c-8.284,0-15,6.716-15,15c0,8.284,6.716,15,15,15h105v60h-25c-8.284,0-15,6.716-15,15c0,8.284,6.716,15,15,15h40\r c8.284,0,15-6.716,15-15V15C330.002,6.716,323.286,0,315.002,0z"})})}}const vo=wo;class So extends s.Component{render(){return(0,u.jsx)("svg",{fill:"#000000",height:"800px",width:"800px",version:"1.1",id:"Capa_1",viewBox:"0 0 297 297",children:(0,u.jsx)("path",{d:"M148.5,0C66.653,0,0.067,66.616,0.067,148.499C0.067,230.383,66.653,297,148.5,297s148.433-66.617,148.433-148.501\r C296.933,66.616,230.347,0,148.5,0z M158.597,276.411v-61.274c0-5.575-4.521-10.097-10.097-10.097s-10.097,4.521-10.097,10.097\r v61.274c-62.68-4.908-112.845-55.102-117.747-117.814h61.207c5.575,0,10.097-4.521,10.097-10.097s-4.522-10.097-10.097-10.097\r H20.656C25.558,75.69,75.723,25.497,138.403,20.589v61.274c0,5.575,4.521,10.097,10.097,10.097s10.097-4.521,10.097-10.097V20.589\r c62.681,4.908,112.846,55.102,117.747,117.814h-61.207c-5.575,0-10.097,4.521-10.097,10.097s4.521,10.097,10.097,10.097h61.207\r C271.441,221.31,221.276,271.503,158.597,276.411z"})})}}const To=So;class Po extends s.Component{render(){return(0,u.jsx)("svg",{width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M9 11L11 13L15 9M19 10.2C19 14.1764 15.5 17.4 12 21C8.5 17.4 5 14.1764 5 10.2C5 6.22355 8.13401 3 12 3C15.866 3 19 6.22355 19 10.2Z",stroke:"#333333",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}}const Io=Po;class jo extends s.Component{constructor(t){super(t),this.smallGridSize="metric"===t.UserPermissionsContext.userUnit?t.svgMeterUnits:M(t.imperialSystemSquareFeetSize,"feet","meter")*t.svgMeterUnits,this.bigGridSizeSmallGridCount=6,this.bigGridSize=this.bigGridSizeSmallGridCount*this.smallGridSize}render(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("pattern",{id:"smallGrid",width:this.smallGridSize,height:this.smallGridSize,patternUnits:"userSpaceOnUse",children:(0,u.jsx)("path",{d:"M 30 0 L 0 0 0 30",fill:"none",stroke:"#777",strokeWidth:"0.25"})}),(0,u.jsxs)("pattern",{id:"grid",width:this.bigGridSize,height:this.bigGridSize,patternUnits:"userSpaceOnUse",children:[(0,u.jsx)("rect",{width:this.bigGridSize,height:this.bigGridSize,fill:"url(#smallGrid)"}),(0,u.jsx)("path",{d:"M 200 10 L 200 0 L 190 0 M 0 10 L 0 0 L 10 0 M 0 190 L 0 200 L 10 200 M 190 200 L 200 200 L 200 190",fill:"none",stroke:"#999",strokeWidth:"0.8"})]})]})}}const Ro=jo;var Mo=i(1317);class Bo extends s.Component{constructor(){super(),this.closeModal=()=>{vt(this.props.containerRef.current,200,(()=>{n.unmountComponentAtNode(this.props.containerRef.current)}),!1)},this.onTestPlanClick=t=>{t===this.state.selectedTestPlanIndex?this.setState({selectedTestPlanIndex:null}):this.setState({testPlanImageLoading:!0,selectedTestPlanIndex:t},(()=>{this.props.mainComponentThis.downloadSvg(!1,!1,!1,!1,!1,!1,!0,this.state.floorplanTestPlans[t].testLocations).then((t=>{this.setState({testPlanImageLoading:!1,testPlanImageData:t})})).catch((t=>this.setState({testPlanImageLoading:!1,testPlanImageError:t})))}))},this.onArrangeByPlanClick=()=>{this.props.mainComponentThis.OBJDATA=this.props.mainComponentThis.OBJDATA.filter((t=>!t.position_num||(t.graph.remove(),!1)));let t,e=this.props.mainComponentThis.allPositionsObjData.map((t=>({position_number:t.position_num,notRendered:!0})));for(let i=0;i<this.state.floorplanTestPlans[this.state.selectedTestPlanIndex].testLocations.length;i++)if(t=this.props.mainComponentThis.allPositionsObjData.find((t=>t.position_num===this.state.floorplanTestPlans[this.state.selectedTestPlanIndex].testLocations[i].locationNumber))){const s=new Zs("free","energy","position",{x:this.state.floorplanTestPlans[this.state.selectedTestPlanIndex].testLocations[i].x,y:this.state.floorplanTestPlans[this.state.selectedTestPlanIndex].testLocations[i].y},0,0,0,"normal",0,null,this.state.floorplanTestPlans[this.state.selectedTestPlanIndex].testLocations[i].locationNumber,void 0,this.props.mainComponentThis);s.update(this.props.mainComponentThis),this.props.mainComponentThis.OBJDATA.push(s),this.props.mainComponentThis.boxCarpentry.current.appendChild(s.graph),e=e.filter((t=>t.position_number!==this.state.floorplanTestPlans[this.state.selectedTestPlanIndex].testLocations[i].locationNumber)),t.x=this.state.floorplanTestPlans[this.state.selectedTestPlanIndex].testLocations[i].x,t.y=this.state.floorplanTestPlans[this.state.selectedTestPlanIndex].testLocations[i].y}this.props.mainComponentThis.positionDrawingRef.current.setPositionOptions(e,(()=>{const t=this.props.mainComponentThis.positionsDataFilterRef.current.getPositionsDataParameters();this.props.mainComponentThis.positionsDataFilterRef.current.handleFilter(["BASE_filtered","ANTENNA_filtered","SF_filtered"],[t.BASE_filtered,t.ANTENNA_filtered,t.SF_filtered])})),this.closeModal()},this.state={loading:!0,error:null,floorplanLoadingError:null,floorplanTestPlans:[],selectedTestPlanIndex:null,testPlanImageLoading:!1,testPlanImageData:null,testPlanImageError:null},this.closeModal=this.closeModal.bind(this),this.onTestPlanClick=this.onTestPlanClick.bind(this),this.onArrangeByPlanClick=this.onArrangeByPlanClick.bind(this),this.mounted=!1}componentDidMount(){this.mounted=!0,b.get.call(this,"/plans?planId=".concat(this.props.floorplanID),(t=>{t&&t.length>0?this.setState({loading:!1,floorplanTestPlans:t[0].plan_general.testPlans}):this.setState({loading:!1,floorplanLoadingError:"Heatmap floorplan couldn't be found. Please check if floorplan may have been deleted."})}))}componentWillUnmount(){this.mounted=!1}render(){return Mo.log(this.state.floorplanTestPlans),(0,u.jsx)(li,{onCloseModalClick:this.closeModal,children:(0,u.jsx)("div",{className:"layout__section",style:{height:"auto",maxHeight:"85vh"},children:(()=>this.state.loading?(0,u.jsx)(Ai,{center:!0}):this.state.floorplanLoadingError?(0,u.jsx)("p",{className:"show-floorplan-on-map-error",children:this.state.floorplanLoadingError}):this.state.floorplanTestPlans.length>0?(0,u.jsxs)("section",{className:"arrange-by-test-plan-container",children:[(0,u.jsx)("h2",{className:"title",children:"Test plans"}),(0,u.jsxs)("table",{className:"table table-clickable table-hoverable",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Name"}),(0,u.jsx)("th",{children:"Note"})]})}),(0,u.jsx)("tbody",{children:this.state.floorplanTestPlans.map(((t,e)=>(0,u.jsxs)("tr",{className:"".concat(this.state.selectedTestPlanIndex===e?"test-plan-active":""),onClick:()=>this.onTestPlanClick(e),children:[(0,u.jsx)("td",{children:"Test plan ".concat(e+1)}),(0,u.jsx)("td",{children:t.testPlanNote||"-"})]},e)))})]}),null!==this.state.selectedTestPlanIndex&&(0,u.jsxs)("section",{className:"selected-test-plan-parameters-container",children:[(0,u.jsx)("div",{className:"image-container",children:this.state.testPlanImageLoading?(0,u.jsx)(Ai,{}):this.state.testPlanImageError?(0,u.jsx)("p",{className:"error-paragraph",children:"Cannot generate test plan image"}):(0,u.jsx)("img",{alt:"Test plan",src:this.state.testPlanImageData})}),(0,u.jsx)("div",{className:"table-container",children:(0,u.jsxs)("table",{className:"table",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"#"}),(0,u.jsx)("th",{children:"Note"})]})}),(0,u.jsx)("tbody",{children:this.state.floorplanTestPlans[this.state.selectedTestPlanIndex].testLocations.map((t=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:t.locationNumber}),(0,u.jsx)("td",{children:t.locationNote||"-"})]},t.locationNumber)))})]})}),(0,u.jsx)("div",{className:"button-centered-container",style:{marginTop:"1.25rem"},children:(0,u.jsx)(Ue,{type:"primary",onClick:this.onArrangeByPlanClick,children:"Arrange by plan"})})]})]}):(0,u.jsx)("p",{className:"show-floorplan-on-map-error",children:"There are no test plans for heatmap floorplan"}))()})})}}const Do=Bo;class Lo extends s.Component{constructor(){super(),this.onArrangePositionsByTestPlanClick=()=>{wt(this.props.mainComponentThis.arrangeHeatmapPositionsByTestPlanContainerRef.current,200,(()=>{this.props.mainComponentThis.foncButton("select_mode"),n.render((0,u.jsx)(Do,{containerRef:this.props.mainComponentThis.arrangeHeatmapPositionsByTestPlanContainerRef,floorplanID:this.props.mainComponentThis.getFloorplanID(),setResponseError:this.props.setResponseError,mainComponentThis:this.props.mainComponentThis}),this.props.mainComponentThis.arrangeHeatmapPositionsByTestPlanContainerRef.current)}),"block",!1)},this.onArrangePositionsByTestPlanClick=this.onArrangePositionsByTestPlanClick.bind(this),this.heatmapPositionArrangeButtonRef=s.createRef()}componentDidMount(){this.props.mainComponentThis.isSmallScreen()&&!this.props.mainComponentThis.isPanelMaximized()&&(this.heatmapPositionArrangeButtonRef.current.classList.add("panel-icon-button-no-text"),this.heatmapPositionArrangeButtonRef.current.classList.remove("fully"))}render(){return(0,u.jsx)("li",{className:"panel-margin",children:(0,u.jsxs)("button",{ref:this.heatmapPositionArrangeButtonRef,title:"Arrange positions by test plan",className:"btn btn-default fully panel-icon-button-container",onClick:this.onArrangePositionsByTestPlanClick,children:[(0,u.jsx)(Io,{}),(0,u.jsx)("p",{children:"AUTO DRAW"})]})})}}const No=Lo;var ko=i(1317);class Oo extends s.Component{constructor(){super(),this.handlePositionButtonClick=(t,e)=>{let i=this.positionButtonsContainerRef.current.querySelector(".btn-active");ko.log(t.target),i?i!==t.target?(i.classList.remove("btn-active"),t.target.classList.add("btn-active"),this.props.mainComponentThis.removeBinder(),this.props.mainComponentThis.positionBinderNumber=e,this.setState({activePositionNumber:e})):(t.target.classList.remove("btn-active"),this.props.mainComponentThis.removeBinder(),this.props.mainComponentThis.boxInfo.current.innerHTML="Select mode",this.props.mainComponentThis.foncButton("select_mode"),this.setState({activePositionNumber:null})):(t.target.classList.add("btn-active"),"add_position"!==this.props.mode&&(this.props.mainComponentThis.positionBinderNumber=e,j()?this.props.mainComponentThis.boxInfo.current.innerHTML="<p>Press and hold the screen to the position where you want to add Position ".concat(e,".</p>"):this.props.mainComponentThis.boxInfo.current.innerHTML="<p>Move mouse to position where you want to add Position ".concat(e,".</p><p>Hold SHIFT to drag around floorplan.</p><p>Press ESC to exit drawing mode.</p>"),this.props.mainComponentThis.foncButton("add_position")),this.setState({activePositionNumber:e}))},this.setPositionOptions=(t,e)=>{ko.log("Set position drawing options"),this.setState({positionOptions:t,activePositionNumber:null},(()=>{this.props.mainComponentThis.heatmapOptionPositionDrawingOptions=this.state.positionOptions,e&&e()}))},this.positionAdded=t=>{let e=this.state.positionOptions.filter((e=>e.position_number!==t)),i=this.props.mainComponentThis.allPositionsObjData.find((e=>e.position_num===t)),s=this.props.mainComponentThis.OBJDATA.find((e=>e.position_num===t));i.x=s.x,i.y=s.y,this.setState({positionOptions:e,activePositionNumber:null},(()=>{this.props.mainComponentThis.heatmapOptionPositionDrawingOptions=this.state.positionOptions,this.props.mainComponentThis.saveNeeded=!0,this.props.mainComponentThis.save(!1,!1)}))},this.positionHidden=t=>{let e=this.props.mainComponentThis.OBJDATA.find((e=>e.position_num&&e.position_num===t));this.props.mainComponentThis.OBJDATA.splice(this.props.mainComponentThis.OBJDATA.indexOf(e),1),e.graph.remove(),this.setState({positionOptions:[...this.state.positionOptions,{position_number:t,hidden:!0}],activePositionNumber:null},(()=>{this.props.mainComponentThis.heatmapOptionPositionDrawingOptions=this.state.positionOptions,this.props.mainComponentThis.saveNeeded=!0,this.props.mainComponentThis.save(!1,!0),this.props.mainComponentThis.heatmapGenerated&&this.props.mainComponentThis.generateHeatmapWithLoadingHandler()}))},this.clearActiveButton=()=>{this.setState({activePositionNumber:null})},this.onHidePositionClick=t=>{let e=this.props.mainComponentThis.OBJDATA.find((e=>e.position_num===t));this.props.mainComponentThis.removeSelectedBinder(),this.props.mainComponentThis.selectedBinder=new Zs("free","boundingBox","",e.bbox.origin,e.angle,0,e.size,"normal",e.thick,e.realBbox,void 0,void 0,this.props.mainComponentThis),this.props.mainComponentThis.selectedBinder.update(this.props.mainComponentThis),this.props.mainComponentThis.selectedBinder.obj=e,this.props.mainComponentThis.onObjectBBoxDeleteClick()},this.onShowPositionClick=t=>{let e=this.props.mainComponentThis.allPositionsObjData.find((e=>e.position_num===t)),i=new Zs(e.family,e.class,e.type,{x:e.x,y:e.y},e.angle,e.angleSign,e.size,e.hinge,e.thick,e.value,e.position_num,void 0,this.props.mainComponentThis);this.props.mainComponentThis.boxCarpentry.current.appendChild(i.graph),i.update(this.props.mainComponentThis),this.props.mainComponentThis.OBJDATA.push(i);let s=this.state.positionOptions.filter((e=>e.position_number!==t));this.setState({positionOptions:s,activePositionNumber:null},(()=>{this.props.mainComponentThis.heatmapOptionPositionDrawingOptions=this.state.positionOptions,this.props.mainComponentThis.saveNeeded=!0,this.props.mainComponentThis.save(!1,!0),this.props.mainComponentThis.heatmapGenerated&&this.props.mainComponentThis.generateHeatmapWithLoadingHandler()}))},this.getPositionButtonOptions=()=>[...this.state.positionOptions],this.getShowedPositions=()=>this.props.mainComponentThis.positionsData.filter((t=>!this.state.positionOptions.find((e=>e.position_number===t.position_number)))),this.state={positionOptions:[],activePositionNumber:null,showHeatmapPositionsArrangeOption:!1},this.handlePositionButtonClick=this.handlePositionButtonClick.bind(this),this.positionAdded=this.positionAdded.bind(this),this.positionHidden=this.positionHidden.bind(this),this.setPositionOptions=this.setPositionOptions.bind(this),this.clearActiveButton=this.clearActiveButton.bind(this),this.onShowPositionClick=this.onShowPositionClick.bind(this),this.onHidePositionClick=this.onHidePositionClick.bind(this),this.getPositionButtonOptions=this.getPositionButtonOptions.bind(this),this.getShowedPositions=this.getShowedPositions.bind(this),this.positionButtonsContainerRef=s.createRef()}render(){let t=this.getShowedPositions().map((t=>({position_number:t.position_number,showed:!0}))),e=[...this.state.positionOptions,...t];return this.props.mainComponentThis.showHeatmapDeadPositions&&this.props.mainComponentThis.renderHeatmapDeadPositions(),(0,u.jsx)("div",{className:"position-drawing-container",children:e.length>0?(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("h3",{style:{textAlign:"center"},children:"DRAW POSITIONS"}),this.props.mainComponentThis.showHeatmapPositionsArrangeOption&&(0,u.jsx)(No,{setResponseError:this.props.setResponseError,mainComponentThis:this.props.mainComponentThis}),(0,u.jsx)("div",{ref:this.positionButtonsContainerRef,className:"position-buttons-container",children:e.sort(((t,e)=>t.position_number-e.position_number)).map((t=>t.notRendered&&!t.filtered?(0,u.jsxs)("button",{title:"Position ".concat(t.position_number),className:"unrendered-position-button btn ".concat(this.state.activePositionNumber===t.position_number?"btn-active":""),style:{margin:"5px 0"},onClick:e=>this.handlePositionButtonClick(e,t.position_number),children:[(0,u.jsx)("span",{className:"label-span",children:"Position "}),(0,u.jsx)("span",{children:t.position_number})]},t.position_number):t.hidden&&!t.filtered?(0,u.jsxs)("div",{className:"hidden-position-button-container",children:[(0,u.jsxs)("button",{title:"Position ".concat(t.position_number),className:"hidden-position-button btn btn-default disabled",style:{margin:"5px 0"},children:[(0,u.jsx)("span",{className:"label-span",children:"Position\xa0"}),(0,u.jsx)("span",{children:t.position_number})]}),(0,u.jsx)(Ti.Z,{theme:Bs,children:(0,u.jsx)("div",{title:"Show position ".concat(t.position_number," "),children:(0,u.jsx)(Ms.Z,{checked:!1,onChange:()=>this.onShowPositionClick(t.position_number)})})})]},t.position_number):t.filtered?(0,u.jsxs)("div",{className:"hidden-position-button-container",children:[(0,u.jsxs)("button",{title:"Position ".concat(t.position_number),className:"hidden-position-button btn btn-default disabled filtered",style:{margin:"5px 0"},children:[(0,u.jsx)("span",{className:"label-span",children:"Position\xa0"}),(0,u.jsx)("span",{children:t.position_number})]}),(0,u.jsx)("div",{children:(0,u.jsx)(ti,{indoorPanelExplanationBox:this.props.mainComponentThis.panelInfoExplanationBox,infoText:"Position ".concat(t.position_number," is hidden because it doesn't comply with filter parameters. It will be <span style='font-weight: bold;'>automatically</span> added back when filter parameters change.")})})]},t.position_number):t.showed?(0,u.jsxs)("div",{className:"hidden-position-button-container",children:[(0,u.jsxs)("button",{title:"Position ".concat(t.position_number),className:"hidden-position-button btn btn-default disabled",style:{margin:"5px 0"},children:[(0,u.jsx)("span",{className:"label-span",children:"Position\xa0"}),(0,u.jsx)("span",{children:t.position_number})]}),(0,u.jsx)(Ti.Z,{theme:Bs,children:(0,u.jsx)("div",{title:"Hide position ".concat(t.position_number," "),children:(0,u.jsx)(Ms.Z,{checked:!0,onChange:()=>this.onHidePositionClick(t.position_number)})})})]},t.position_number):null))})]}):null})}}const Fo=Oo;class Wo extends s.Component{render(){return(0,u.jsx)("div",{className:"indoor-modal",ref:this.props.modalRef,style:this.props.indoorModalContainerStyle||{},children:(0,u.jsx)("div",{className:"indoor-modal-dialog ".concat(this.props.indoorModalDialogClasses||""),style:this.props.indoorModalDialogStyle||{},children:(0,u.jsxs)("div",{className:"indoor-modal-content",children:[(0,u.jsx)("div",{className:"indoor-modal-header",children:(0,u.jsx)("h3",{className:"indoor-modal-title",children:"GLAMOS Indoor Mapping"})}),this.props.modalBody?(0,u.jsx)("div",{className:"indoor-modal-body",children:this.props.modalBody}):null,this.props.modalFooter?(0,u.jsx)("div",{className:"indoor-modal-footer",children:this.props.modalFooter}):null]})})})}}const Ho=Wo;var Go=i(1618);class Eo extends s.Component{render(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{ref:this.props.panelRef,className:"panel panel-transition",onMouseMove:()=>this.props.onPanelMouseMove&&this.props.onPanelMouseMove(),style:{width:this.props.panelWidth||200,left:this.props.panelWidth?-this.props.panelWidth:-200},children:(0,u.jsx)("ul",{className:"list-unstyled",children:this.props.children})}),(0,u.jsx)("div",{ref:this.props.panelControlRef,title:"Hide panel",className:"panel-control-container panel-transition svg-center-inside-container",style:this.props.panelControlStyles||{},onClick:()=>this.props.onPanelControlClick(),children:(0,u.jsx)(Go.Z,{className:"panel-transition"})})]})}}const Vo=Eo;var zo=i(5418),qo=i(1317);class Uo extends s.Component{constructor(t){var e;super(),e=this,this.getRenderedGateways=()=>this.state.values,this.setRenderedGateways=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;qo.log("Set rendred gateways"),e.setState({values:t},(()=>{i&&i()}))},this.handleChange=(t,e)=>{if(!e.find((t=>"LOAD MORE"===t.name)))if(e.length>this.state.values.length){let t;for(let i=0;i<e.length;i++)if(!this.state.values.find((t=>t.gtw_id===e[i].gtw_id))){t=e[i];break}this.props.mainComponentThis.gatewayBinderOptions={index:this.state.values.length+1,gtw_id:t.gtw_id,name:t.name},j()?this.props.mainComponentThis.boxInfo.current.innerHTML="<p>Press and hold the screen to the position where you want to add gateway.</p>":this.props.mainComponentThis.boxInfo.current.innerHTML="<p>Move mouse to position where you want to add gateway.</p><p>Hold SHIFT to drag around floorplan.</p><p>Press ESC to exit drawing mode.</p>",this.props.mainComponentThis.foncButton("add_gateway"),this.props.mainComponentThis.isSmallScreen()&&this.props.mainComponentThis.heatmapRightBoxRef.current.onHeatmapRightBoxControlClick()}else{let t,i;for(let s=0;s<this.state.values.length;s++)if(!e.find((t=>t.gtw_id===this.state.values[s].gtw_id))){t=this.state.values[s],i=s;break}this.handleSelectedGatewayDelete(t.gtw_id,i)}},this.filterOptions=(t,e)=>{let{inputValue:i}=e;if(qo.log("filtered options"),i!==this.previousInput){if(qo.log("Filter options different inputs"),i&&i.length>2){let t=this.props.bases.filter((t=>t.name.toLowerCase().includes(i))),e=this.props.bases.filter((t=>t.name.toLowerCase().includes(i))).slice(0,this.gatewaysPerPage);return this.currentPage=1,e.length>0&&t.length>this.gatewaysPerPage?[...e,this.loadMoreObject]:e}return qo.log("Vrati pocetnu konfiguraciju"),this.currentPage=1,""===i&&(this.previousInput=""),this.props.bases.length>this.gatewaysPerPage?[...this.props.bases.slice(0,this.gatewaysPerPage),this.loadMoreObject]:[...this.props.bases]}return t},this.handleLoadMore=()=>{let t,e,i;qo.log("load more"),this.state.inputValue?(t=this.props.bases.filter((t=>t.name.toLowerCase().includes(this.state.inputValue))),e=t.slice(0,(this.currentPage+1)*this.gatewaysPerPage),i=t.length>(this.currentPage+1)*this.gatewaysPerPage?[...e,this.loadMoreObject]:e):(e=this.props.bases.slice(0,(this.currentPage+1)*this.gatewaysPerPage),i=[...e],this.props.bases.length>(this.currentPage+1)*this.gatewaysPerPage&&i.push(this.loadMoreObject)),this.currentPage++,this.setState({showGateways:i})},this.handleInputChange=(t,e,i)=>{qo.log("input cHnage"),this.previousInput=this.state.inputValue,"LOAD MORE"===t.target.textContent&&"reset"===i||this.setState({inputValue:e})},this.handleSelectedGatewayDelete=(t,e)=>{let i=this.props.mainComponentThis.OBJDATA.find((t=>t.baseStationOptions&&t.baseStationOptions.index===e+1));this.props.mainComponentThis.OBJDATA.splice(this.props.mainComponentThis.OBJDATA.indexOf(i),1),i.graph.remove();let s=[...this.state.values].filter((e=>e.gtw_id!==t));this.setState({values:s},(()=>this.updateRenderedSelectedGateways(!1)))},this.updateRenderedSelectedGateways=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(qo.log("Update rendered gateways data loading"+t),t){let t=[];for(let i=0;i<e.props.mainComponentThis.OBJDATA.length;i++)e.props.mainComponentThis.OBJDATA[i].baseStationOptions&&t.push(e.props.bases.find((t=>t.gtw_id===e.props.mainComponentThis.OBJDATA[i].baseStationOptions.gtw_id)));qo.log("updateRenderedSelectedGateways Set rendered gateways 2"),e.setState({values:t})}else{let t=e.props.mainComponentThis.OBJDATA.filter((t=>t.baseStationOptions)),s=[];for(let i=0;i<t.length;i++)e.state.values.find((e=>e.gtw_id===t[i].baseStationOptions.gtw_id))||(qo.log("Brisi gateway"),t[i].graph.remove(),e.props.mainComponentThis.OBJDATA.splice(e.props.mainComponentThis.OBJDATA.indexOf(t[i]),1),s.push(i));s.sort(((t,e)=>e-t));for(let e=0;e<s.length;e++)t.splice(s[e],1);for(let i=0;i<e.state.values.length;i++){let s=t.find((t=>t.baseStationOptions.gtw_id===e.state.values[i].gtw_id));s&&s.baseStationOptions.index!==i+1&&(s.baseStationOptions.index=i+1,s.update(e.props.mainComponentThis))}qo.log("Spremi obj data niz"),e.props.mainComponentThis.saveNeeded=!0,e.props.mainComponentThis.save(!1,!0),e.props.mainComponentThis.heatmapGenerated&&e.props.mainComponentThis.generateHeatmapWithLoadingHandler(),qo.log("On save callback"),qo.log(i),i&&i()}},this.onClose=(t,e)=>{let i=!0;"select-option"===e&&t.target.classList.contains("load-more-menu-item")&&(i=!1),i&&this.setState({showGateways:this.props.bases.length>this.gatewaysPerPage?[...this.props.bases.slice(0,this.gatewaysPerPage),this.loadMoreObject]:[...this.props.bases],openPopup:!1},(()=>{this.currentPage=1,this.autoCompleteRef.current.querySelector("input").blur()}))},this.gatewayAdded=t=>{let e=[...this.state.values,this.state.showGateways.find((e=>e.gtw_id===t.gtw_id))];this.setState({values:e})},this.loadMoreObject={name:"LOAD MORE"},this.gatewaysPerPage=30,this.state={values:[],showGateways:t.bases.length>this.gatewaysPerPage?[...t.bases.slice(0,this.gatewaysPerPage),this.loadMoreObject]:[...t.bases],inputValue:"",openPopup:!1},this.previousInput="",this.currentPage=1,this.autoCompleteRef=s.createRef(),this.handleChange=this.handleChange.bind(this),this.filterOptions=this.filterOptions.bind(this),this.handleLoadMore=this.handleLoadMore.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleSelectedGatewayDelete=this.handleSelectedGatewayDelete.bind(this),this.gatewayAdded=this.gatewayAdded.bind(this),this.setRenderedGateways=this.setRenderedGateways.bind(this),this.getRenderedGateways=this.getRenderedGateways.bind(this),this.onClose=this.onClose.bind(this)}componentDidUpdate(t){if(this.props.bases.length!==t.bases.length){qo.log("Componenet did update"+this.props.shouldSave);let t=[...this.state.values],e={};for(let s=0;s<this.props.bases.length;s++)e[this.props.bases[s].gtw_id]=!0;let i=t.filter((t=>e[t.gtw_id]));this.setState({showGateways:this.props.bases.length>this.gatewaysPerPage?[...this.props.bases.slice(0,this.gatewaysPerPage),this.loadMoreObject]:[...this.props.bases],values:i},(()=>this.props.shouldSave&&this.updateRenderedSelectedGateways(!1,this.props.updateRenderedSelectedGatewaysCallback)))}}render(){return(0,u.jsxs)("div",{children:[(0,u.jsx)(Vi.ZP,{ref:this.autoCompleteRef,multiple:!0,onOpen:()=>this.setState({openPopup:!0}),open:this.state.openPopup,options:this.state.showGateways,value:this.state.values,limitTags:0,getLimitTagsText:t=>"+".concat(t),getOptionLabel:t=>t.name,renderOption:(t,e)=>"LOAD MORE"===t.name?(0,u.jsx)("div",{className:"load-more-menu-item",onClick:this.handleLoadMore,children:t.name}):(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(fi.Z,{checked:e.selected}),(0,u.jsx)(Ci.Z,{children:t.name})]}),renderInput:t=>(0,u.jsx)(Gi.Z,{...t,variant:"standard",label:"Select gateways to draw",onKeyDown:t=>{"Backspace"===t.key&&t.stopPropagation()}}),renderTags:()=>null,ListboxProps:{style:{maxHeight:"25vh"}},onClose:this.onClose,onChange:this.handleChange,filterOptions:this.filterOptions,inputValue:this.state.inputValue,onInputChange:this.handleInputChange}),this.state.values.length>0?(0,u.jsx)("div",{className:"gateways-displayed-container",children:this.state.values.map(((t,e)=>(0,u.jsx)(Xi.Z,{style:{width:"100%",margin:"5px 0",justifyContent:"space-between"},label:"".concat(e+1,":").concat(t.name),onDelete:()=>this.handleSelectedGatewayDelete(t.gtw_id,e)},t.gtw_id)))}):(0,u.jsx)("br",{})]})}}const Jo=Uo;var Xo=i(1317);class Yo extends s.Component{constructor(){var t;super(),t=this,this.noFilteredData=()=>{const{sfs_filtered_hashmap:t,antennas_filtered_hashmap:e,base_filtered_hashmap:i}=bt(this.state.SF_filtered,this.state.ANTENNA_filtered,this.state.BASE_filtered);for(let s=0;s<this.props.mainComponentThis.positionsData.length;s++)for(let n=0;n<this.props.mainComponentThis.positionsData[s].messages.length;n++)if(t["SF".concat(this.props.mainComponentThis.positionsData[s].messages[n].spreading_factor)]&&e[this.props.mainComponentThis.positionsData[s].messages[n].antenna_type])for(let t=0;t<this.props.mainComponentThis.positionsData[s].messages[n].gateways.length;t++)if(i[this.props.mainComponentThis.positionsData[s].messages[n].gateways[t].gtw_id])return!1;return!0},this.getPositionsDataParameters=()=>({BASE_filtered:this.state.BASE_filtered,ANTENNA_filtered:this.state.ANTENNA_filtered,SF_filtered:this.state.SF_filtered}),this.setPositionDataParameters=(t,e,i)=>{Xo.log("Set selected gateways called length"+t.length),Xo.log("Set selected antennas called length"+e.length),Xo.log("Set selected sfs called length"+i.length);let s=[];for(let o=0;o<t.length;o++)"Select all gateways"!==t[o].name?s.push(this.props.bases.find((e=>e.gtw_id===t[o].gtw_id))):s.push(this.props.gatewaysFilterRef.current.selectAllObject);let n=[];for(let o=0;o<e.length;o++)n.push(this.props.antennas.find((t=>t.antenna_type===e[o].antenna_type)));this.setState({BASE_filtered:s,showGatewaysOptions:s.filter((t=>"Select all gateways"!==t.name)),SF_filtered:i,ANTENNA_filtered:n,showGatewaysSelectSaveNeeded:!1,setPositionDataParametersCounter:this.state.setPositionDataParametersCounter+1},(()=>{this.noFilteredData()?this.props.mainComponentThis.heatmapColorRangeRef.current.formGroupRef.current.classList.add("disabled"):this.props.mainComponentThis.heatmapColorRangeRef.current.formGroupRef.current.classList.remove("disabled"),this.props.showGatewaysSelectRef.current.updateRenderedSelectedGateways(!0)}))},this.handleFilter=function(e,i){let s,n,o,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Xo.log("Handle filter call type"+e),Xo.log(t.props.mainComponentThis.heatmapOptions),Array.isArray(e)?(s=i[0],o=i[1],n=i[2]):(s="BASE_filtered"===e?i:t.state.BASE_filtered,o="ANTENNA_filtered"===e?i:t.state.ANTENNA_filtered,n="SF_filtered"===e?i:t.state.SF_filtered),t.props.mainComponentThis.selectedPositionDataGateways=s,t.props.mainComponentThis.selectedPositionDataAntennas=o,t.props.mainComponentThis.selectedPositionDataSfs=n,Xo.log("Gateways data"),Xo.log(t.props.mainComponentThis.gatewaysTableData),Xo.log("Gateway values"+JSON.stringify(s)),Xo.log(o),Xo.log(n);let h=s.filter((e=>{if("Select all gateways"!==e.name){let i=t.props.mainComponentThis.gatewaysTableData.find((t=>t.gtw_id===e.gtw_id)),s=!1;for(let t=0;t<o.length;t++)if(i.antennas[o[t].antenna_type]){s=!0;break}if(s){let t=!1;for(let e=0;e<n.length;e++)if(i.sfs[n[e]]){t=!0;break}return t}return!1}return!1}));r&&h.length===t.state.showGatewaysOptions.length&&(Xo.log("Promijeni show gateways select"),r=!1),t.showGatewaysSelectUpdateRenderedSelectedGatewaysCallback=null,r||h.length===t.state.showGatewaysOptions.length||(r=!0,t.showGatewaysSelectUpdateRenderedSelectedGatewaysCallback=l);const{sfs_filtered_hashmap:p,antennas_filtered_hashmap:d,base_filtered_hashmap:c}=bt(n,o,s);let m=[],u=!1;for(let A=0;A<t.props.positionsData.length;A++){for(let e=0;e<t.props.positionsData[A].messages.length;e++)if(p["SF".concat(t.props.positionsData[A].messages[e].spreading_factor)]&&d[t.props.positionsData[A].messages[e].antenna_type]){for(let i=0;i<t.props.positionsData[A].messages[e].gateways.length;i++)if(c[t.props.positionsData[A].messages[e].gateways[i].gtw_id]){u=!0;break}if(u)break}u||m.push(t.props.positionsData[A].position_number),u=!1}Xo.log("Deleted positions"+JSON.stringify(m)),Xo.log("Lengthz before"+t.props.mainComponentThis.OBJDATA.length);let g=t.props.mainComponentThis.positionDrawingRef.current.getPositionButtonOptions();Xo.log("Posiiton button options "+JSON.stringify(g));for(let A=0;A<m.length;A++){let e=t.props.mainComponentThis.OBJDATA.find((t=>t.position_num===m[A]));if(e){let i=t.props.mainComponentThis.allPositionsObjData.find((t=>t.position_num===m[A]));i.x=e.x,i.y=e.y,e.graph.remove(),t.props.mainComponentThis.OBJDATA.splice(t.props.mainComponentThis.OBJDATA.indexOf(e),1),g.push({position_number:e.position_num,filtered:!0})}else{g.find((t=>t.position_number===m[A])).filtered=!0}}Xo.log("Position button options"),Xo.log(g),Xo.log("All position button options"),Xo.log(t.props.mainComponentThis.allPositionsObjData);for(let A=0;A<t.props.positionsData.length;A++)if(!m.find((e=>e===t.props.positionsData[A].position_number))){let e=t.props.mainComponentThis.OBJDATA.find((e=>e.position_num===t.props.positionsData[A].position_number));if(!e){let i;if((i=g.find((e=>e.position_number===t.props.positionsData[A].position_number))).filtered)if(i.notRendered||i.hidden)delete i.filtered;else{Xo.log("Iscrtaj showed poziciju "+t.props.positionsData[A].position_number),e=t.props.mainComponentThis.allPositionsObjData.find((e=>e.position_num===t.props.positionsData[A].position_number));let s=new Zs(e.family,e.class,e.type,{x:e.x,y:e.y},e.angle,e.angleSign,e.size,e.hinge,e.thick,e.value,e.position_num,void 0,t.props.mainComponentThis);t.props.mainComponentThis.boxCarpentry.current.appendChild(s.graph),s.update(t.props.mainComponentThis),t.props.mainComponentThis.OBJDATA.push(s),g.splice(g.indexOf(i),1)}}}let x=[];for(let A=0;A<t.props.mainComponentThis.positionsData.length;A++){let e=0,i=0;for(let s=0;s<t.props.mainComponentThis.positionsData[A].messages.length;s++){let n=!1;if(p["SF".concat(t.props.mainComponentThis.positionsData[A].messages[s].spreading_factor)]&&d[t.props.mainComponentThis.positionsData[A].messages[s].antenna_type])for(let o=0;o<t.props.mainComponentThis.positionsData[A].messages[s].gateways.length;o++)c[t.props.mainComponentThis.positionsData[A].messages[s].gateways[o].gtw_id]&&(n||(e++,n=!0),i++)}e>0&&x.push(T(i/e,0))}t.props.mainComponentThis.heatmapGatewaysPerMessageRangeColorMax=0===x.length?t.props.mainComponentThis.heatmapGatewaysPerMessageRangeColorMin:Math.max(...x),t.props.mainComponentThis.heatmapGatewaysPerMessageRangeColorMax<t.props.mainComponentThis.heatmapGatewaysPerMessageRangeColorMin&&(t.props.mainComponentThis.heatmapGatewaysPerMessageRangeColorMax=t.props.mainComponentThis.heatmapGatewaysPerMessageRangeColorMin),0===x.length?t.props.mainComponentThis.heatmapColorRangeRef.current.formGroupRef.current.classList.add("disabled"):(t.props.mainComponentThis.heatmapColorRangeRef.current.formGroupRef.current.classList.remove("disabled"),t.props.mainComponentThis.heatmapGatewaysPerMessageColorMax>t.props.mainComponentThis.heatmapGatewaysPerMessageRangeColorMax&&(t.props.mainComponentThis.heatmapGatewaysPerMessageColorMax=t.props.mainComponentThis.heatmapGatewaysPerMessageRangeColorMax),"Avg GTWs/MSG"===t.props.mainComponentThis.heatmapPositionDataSelectedOption&&t.props.mainComponentThis.heatmapColorRangeRef.current.setHeatmapColorValues([t.props.mainComponentThis.heatmapGatewaysPerMessageColorMin,t.props.mainComponentThis.heatmapGatewaysPerMessageColorMax],yt(t.props.mainComponentThis.heatmapPositionDataSelectedOption))),t.props.mainComponentThis.positionDrawingRef.current.setPositionOptions(g),t.props.mainComponentThis.foncButton("select_mode","dont_save"),t.props.mainComponentThis.boxInfo.current.innerHTML="Select mode",t.props.mainComponentThis.removeBinder(),t.props.mainComponentThis.rib(),t.setState({ANTENNA_filtered:o,SF_filtered:n,BASE_filtered:s,showGatewaysOptions:h,setPositionDataParametersCounter:a?t.state.setPositionDataParametersCounter+1:t.state.setPositionDataParametersCounter,showGatewaysSelectSaveNeeded:r},(()=>{!r&&t.props.showGatewaysSelectRef.current.updateRenderedSelectedGateways(!1,l),t.props.mainComponentThis.showMapLayer2D3DRef.current&&"BASE_filtered"===e&&t.props.mainComponentThis.showMapLayer2D3DRef.current.handleGatewaysFilterChange(s)}))},this.resetFilters=()=>{if(Xo.log("Reset filters call"),this.props.mainComponentThis.heatmapOptions.length>0){let t=this.props.mainComponentThis.heatmapOptions[this.props.mainComponentThis.currentHeatmapOptionIndex];this.state.ANTENNA_filtered.length===t.selectedPositionDataAntennas.length&&this.state.SF_filtered.length===t.selectedPositionDataSfs.length&&this.state.BASE_filtered.length===t.selectedPositionDataGateways.length||this.handleFilter(["BASE_filtered","ANTENNA_filtered","SF_filtered"],[t.selectedPositionDataGateways.map((t=>this.props.bases.find((e=>e.gtw_id===t.gtw_id)))),t.selectedPositionDataAntennas.map((t=>this.props.antennas.find((e=>e.antenna_type===t.antenna_type)))),t.selectedPositionDataSfs],!0,!1,(()=>this.props.mainComponentThis.heatmapGenerated&&this.props.mainComponentThis.generateHeatmapWithLoadingHandler))}else this.state.ANTENNA_filtered.length===this.props.antennas.length&&this.state.SF_filtered.length===this.props.sfs.length&&this.state.BASE_filtered.filter((t=>"Select all gateways"!==t.name)).length===this.props.bases.length||this.handleFilter(["BASE_filtered","ANTENNA_filtered","SF_filtered"],[[...this.props.bases,this.props.gatewaysFilterRef.current.selectAllObject],this.props.antennas,this.props.sfs],!0,!1,(()=>this.props.mainComponentThis.heatmapGenerated&&this.props.mainComponentThis.generateHeatmapWithLoadingHandler))},this.state={BASE_filtered:[],showGatewaysOptions:[],ANTENNA_filtered:[],SF_filtered:[],loading:!0,showGatewaysSelectSaveNeeded:!0,setPositionDataParametersCounter:0},this.showGatewaysSelectUpdateRenderedSelectedGatewaysCallback=null,this.handleFilter=this.handleFilter.bind(this),this.setPositionDataParameters=this.setPositionDataParameters.bind(this),this.getPositionsDataParameters=this.getPositionsDataParameters.bind(this),this.resetFilters=this.resetFilters.bind(this),this.noFilteredData=this.noFilteredData.bind(this)}componentDidUpdate(t){this.props.bases.length!==t.bases.length&&this.setState({loading:!1})}render(){const{SF_filtered:t,ANTENNA_filtered:e,BASE_filtered:i,showGatewaysOptions:n,loading:o,setPositionDataParametersCounter:a,showGatewaysSelectSaveNeeded:r}=this.state;return(0,u.jsxs)(s.Fragment,{children:[o?(0,u.jsx)(Ai,{center:!0}):null,(0,u.jsxs)("div",{style:{visibility:o?"hidden":"visible"},children:[(0,u.jsx)("h3",{children:"POSITIONS DATA FILTER"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"clear-filter-icon-container",style:{marginTop:"0.5rem"},children:(0,u.jsxs)("div",{title:"Clear filters",className:"icon-button",onClick:this.resetFilters,children:[(0,u.jsx)(Ss.Z,{style:{width:14,height:14,marginRight:-8}}),(0,u.jsx)(zo.Z,{style:{width:20,height:20}})]})}),(0,u.jsx)("div",{style:{padding:"0.5rem 0"},children:(0,u.jsx)(qi,{indoorMappingHeatmap:!0,sfs:this.props.sfs,handleFilter:this.handleFilter,values:t,limitTags:2},a)}),(0,u.jsx)("div",{style:{padding:"0.5rem 0"},children:(0,u.jsx)(Ji,{indoorMappingHeatmap:!0,antennas:this.props.antennas,handleFilter:this.handleFilter,values:e,limitTags:2},a)}),(0,u.jsx)("div",{style:{padding:"0.5rem 0"},children:(0,u.jsx)(Qi,{ref:this.props.gatewaysFilterRef,bases:this.props.bases,handleFilter:this.handleFilter,values:i,limitTags:2},a)})]})]}),(0,u.jsx)(Jo,{ref:this.props.showGatewaysSelectRef,bases:n,mainComponentThis:this.props.mainComponentThis,shouldSave:r,updateRenderedSelectedGatewaysCallback:this.showGatewaysSelectUpdateRenderedSelectedGatewaysCallback})]})}}const Zo=Yo;var Qo=i(1317);class Ko extends s.Component{constructor(){super(),this.getSelectedPositionDataOption=()=>this.state.selectedDataOption,this.setSelectedPositionDataOption=t=>{this.setState({selectedDataOption:t})},this.handleOptionChange=t=>{if(t!==this.state.selectedDataOption){if(this.props.mainComponentThis.heatmapPositionDataSelectedOption=t,this.props.mainComponentThis.saveNeeded=!0,this.props.mainComponentThis.save(!1,!0),this.props.mainComponentThis.heatmapGenerated&&this.props.mainComponentThis.generateHeatmapWithLoadingHandler(),"Avg GTWs/MSG"===t){let e=this.props.mainComponentThis.heatmapGatewaysPerMessageColorMin,i=this.props.mainComponentThis.heatmapGatewaysPerMessageColorMax;Qo.log("Set values"),Qo.log(e+" "+i),this.props.mainComponentThis.heatmapColorRangeRef.current.setHeatmapColorValues([e,i],yt(t))}else if("Avg GTWs/MSG"!==t&&"Avg GTWs/MSG"===this.state.selectedDataOption){let e=this.props.mainComponentThis.heatmapRssiColorMin,i=this.props.mainComponentThis.heatmapRssiColorMax;this.props.mainComponentThis.heatmapColorRangeRef.current.setHeatmapColorValues([e,i],yt(t))}this.setState({selectedDataOption:t})}},this.state={selectedDataOption:"Max RSSI"},this.selectOptions=["Max RSSI","Avg RSSI","Min RSSI","Avg GTWs/MSG"],this.handleOptionChange=this.handleOptionChange.bind(this),this.getSelectedPositionDataOption=this.getSelectedPositionDataOption.bind(this),this.setSelectedPositionDataOption=this.setSelectedPositionDataOption.bind(this)}render(){return(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{children:"HEATMAP COLOR OPTION"}),(0,u.jsx)(wi.Z,{style:{width:"100%"},children:(0,u.jsx)(bi.Z,{MenuProps:{getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"}},labelId:"select-device-label",renderValue:t=>(0,u.jsx)(Ci.Z,{children:t}),label:"Data option",value:this.state.selectedDataOption,onChange:t=>this.handleOptionChange(t.target.value),children:this.selectOptions.map((t=>(0,u.jsxs)(yi.Z,{value:t,children:[(0,u.jsx)(fi.Z,{checked:this.state.selectedDataOption===t,style:{visibility:this.state.selectedDataOption===t?"visible":"hidden"}}),(0,u.jsx)(Ci.Z,{children:t})]},t)))})})]})}}const _o=Ko;var $o=i(3649);class ta extends s.Component{constructor(t){super(t),this.setColorRangeMinValue=t=>{this.props.mainComponentThis[this.mainComponentThisMinPropertyName]=t,this.colorMinPlusMinusInputRef.current.numberInputComponentRef.current.setValue(this.props.mainComponentThis[this.mainComponentThisMinPropertyName]);let e=this.state.colorMaxInputValue;e<=t&&(e=t+1,this.props.mainComponentThis[this.mainComponentThisMaxPropertyName]=e,this.colorMaxPlusMinusInputRef.current.numberInputComponentRef.current.setValue(e)),this.setState({colorMaxInputValue:e,colorMinInputValue:this.props.mainComponentThis[this.mainComponentThisMinPropertyName],sliderRangeColors:[this.props.mainComponentThis[this.mainComponentThisMinPropertyName],e]})},this.setHeatmapColorValues=(t,e)=>{this.mainComponentThisMinPropertyName=e.mainComponentThisMinPropertyName,this.mainComponentThisMaxPropertyName=e.mainComponentThisMaxPropertyName,this.mainComponentThisMinRangePropertyName=e.mainComponentThisMinRangePropertyName,this.mainComponentThisMaxRangePropertyName=e.mainComponentThisMaxRangePropertyName,this.setState({sliderRangeColors:t,colorMinInputValue:t[0],colorMaxInputValue:t[1],setValues:!0},(()=>{this.colorMinPlusMinusInputRef.current.numberInputComponentRef.current.setValue(t[0]),this.colorMaxPlusMinusInputRef.current.numberInputComponentRef.current.setValue(t[1])}))},this.onColorRangeMinInputChange=t=>{t>=this.state.sliderRangeColors[1]?this.colorMinPlusMinusInputRef.current.numberInputComponentRef.current.setValue(this.state.colorMinInputValue):(this.props.mainComponentThis[this.mainComponentThisMinPropertyName]=t,this.props.onColorRangeMinInputChangeCallback&&this.props.onColorRangeMinInputChangeCallback(),this.setState({colorMinInputValue:t,sliderRangeColors:[t,this.state.sliderRangeColors[1]]}))},this.onColorRangeMinPlusMinusChange=t=>{if("plus"===t){if(this.state.sliderRangeColors[0]<this.props.mainComponentThis[this.mainComponentThisMaxRangePropertyName]){if(this.props.mainComponentThis[this.mainComponentThisMinPropertyName]+1>=this.state.sliderRangeColors[1])return;this.props.mainComponentThis[this.mainComponentThisMinPropertyName]+=1}}else this.state.sliderRangeColors[0]>this.props.mainComponentThis[this.mainComponentThisMinRangePropertyName]&&(this.props.mainComponentThis[this.mainComponentThisMinPropertyName]-=1);this.colorMinPlusMinusInputRef.current.numberInputComponentRef.current.setValue(this.props.mainComponentThis[this.mainComponentThisMinPropertyName]),this.props.onColorRangeMinPlusMinusChangeCallback&&this.props.onColorRangeMinPlusMinusChangeCallback(),this.setState({colorMinInputValue:this.props.mainComponentThis[this.mainComponentThisMinPropertyName],sliderRangeColors:[this.props.mainComponentThis[this.mainComponentThisMinPropertyName],this.state.sliderRangeColors[1]]})},this.onColorRangeMaxInputChange=t=>{t<=this.state.sliderRangeColors[0]?this.colorMaxPlusMinusInputRef.current.numberInputComponentRef.current.setValue(this.state.colorMaxInputValue):(this.props.mainComponentThis[this.mainComponentThisMaxPropertyName]=t,this.props.onColorRangeMaxInputChangeCallback&&this.props.onColorRangeMaxInputChangeCallback(),this.setState({colorMaxInputValue:t,sliderRangeColors:[this.state.sliderRangeColors[0],t]}))},this.onColorRangeMaxPlusMinusChange=t=>{if("plus"===t)this.state.sliderRangeColors[1]<this.props.mainComponentThis[this.mainComponentThisMaxRangePropertyName]&&(this.props.mainComponentThis[this.mainComponentThisMaxPropertyName]+=1);else if(this.state.sliderRangeColors[1]>this.props.mainComponentThis[this.mainComponentThisMinRangePropertyName]){if(this.props.mainComponentThis[this.mainComponentThisMaxPropertyName]-1<=this.state.sliderRangeColors[0])return;this.props.mainComponentThis[this.mainComponentThisMaxPropertyName]-=1}this.colorMaxPlusMinusInputRef.current.numberInputComponentRef.current.setValue(this.props.mainComponentThis[this.mainComponentThisMaxPropertyName]),this.props.onColorRangeMaxPlusMinusChangeCallback&&this.props.onColorRangeMaxPlusMinusChangeCallback(),this.setState({colorMaxInputValue:this.props.mainComponentThis[this.mainComponentThisMaxPropertyName],sliderRangeColors:[this.state.sliderRangeColors[0],this.props.mainComponentThis[[this.mainComponentThisMaxPropertyName]]]})},this.onColorSliderChange=(t,e)=>{e[0]>=e[1]||(this.props.mainComponentThis[this.mainComponentThisMinPropertyName]=e[0],this.props.mainComponentThis[this.mainComponentThisMaxPropertyName]=e[1],this.colorMinPlusMinusInputRef.current.numberInputComponentRef.current.setValue(this.props.mainComponentThis[this.mainComponentThisMinPropertyName]),this.colorMaxPlusMinusInputRef.current.numberInputComponentRef.current.setValue(this.props.mainComponentThis[this.mainComponentThisMaxPropertyName]),this.props.onColorSliderChangeCallback&&this.props.onColorSliderChangeCallback(),this.setState({sliderRangeColors:e,colorMinInputValue:e[0],colorMaxInputValue:e[1]}))},this.state={sliderRangeColors:[null,null],colorMinInputValue:null,colorMaxInputValue:null,setValues:!1},this.mainComponentThisMinPropertyName=null,this.mainComponentThisMaxPropertyName=null,this.mainComponentThisMinRangePropertyName=null,this.mainComponentThisMaxRangePropertyName=null,this.formGroupRef=s.createRef(),this.colorMinPlusMinusInputRef=s.createRef(),this.colorMaxPlusMinusInputRef=s.createRef(),this.setHeatmapColorValues=this.setHeatmapColorValues.bind(this),this.onColorRangeMinPlusMinusChange=this.onColorRangeMinPlusMinusChange.bind(this),this.onColorRangeMinInputChange=this.onColorRangeMinInputChange.bind(this),this.onColorRangeMaxPlusMinusChange=this.onColorRangeMaxPlusMinusChange.bind(this),this.onColorRangeMaxInputChange=this.onColorRangeMaxInputChange.bind(this),this.onColorSliderChange=this.onColorSliderChange.bind(this),this.setColorRangeMinValue=this.setColorRangeMinValue.bind(this)}render(){return(0,u.jsx)("div",{ref:this.formGroupRef,className:"heatmap-color-range slider-plus-minus-input-form-group form-group",children:this.state.setValues?(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("h3",{children:"Avg GTWs/MSG"!==this.props.mainComponentThis.heatmapPositionDataSelectedOption?"RSSI COLOR RANGE":"COLOR RANGE"}),(0,u.jsx)("h4",{className:"no-filtered-data-info",children:"No data. Please change filter parameters"}),(0,u.jsx)("br",{}),(0,u.jsx)(Hi,{ref:this.colorMaxPlusMinusInputRef,labelName:"Avg GTWs/MSG"!==this.props.mainComponentThis.heatmapPositionDataSelectedOption?"Max RSSI(dBm)":"Max Gtws",inputValue:this.state.colorMaxInputValue,inputStep:1,inputMin:this.props.mainComponentThis[this.mainComponentThisMinRangePropertyName],inputMax:this.props.mainComponentThis[this.mainComponentThisMaxRangePropertyName],onInputMinusClick:()=>this.onColorRangeMaxPlusMinusChange("minus"),onInputPlusClick:()=>this.onColorRangeMaxPlusMinusChange("plus"),onInputChange:this.onColorRangeMaxInputChange,callOnlyOnBlur:!0,inputWidth:"inputWidth2rem"}),(0,u.jsx)(Hi,{ref:this.colorMinPlusMinusInputRef,labelName:"Avg GTWs/MSG"!==this.props.mainComponentThis.heatmapPositionDataSelectedOption?"Min RSSI(dBm)":"Min Gtws",inputValue:this.state.colorMinInputValue,inputStep:1,inputMin:this.props.mainComponentThis[this.mainComponentThisMinRangePropertyName],inputMax:this.props.mainComponentThis[this.mainComponentThisMaxRangePropertyName],onInputMinusClick:()=>this.onColorRangeMinPlusMinusChange("minus"),onInputPlusClick:()=>this.onColorRangeMinPlusMinusChange("plus"),onInputChange:this.onColorRangeMinInputChange,callOnlyOnBlur:!0,inputWidth:"inputWidth2rem"}),(0,u.jsx)("div",{className:"form-group slider-form-group",children:(0,u.jsx)($o.Z,{getAriaLabel:()=>"Avg GTWs/MSG"!==this.props.mainComponentThis.heatmapPositionDataSelectedOption?"Rssi color range":"Gateways color range",value:this.state.sliderRangeColors,onChange:this.onColorSliderChange,valueLabelDisplay:"auto",min:this.props.mainComponentThis[this.mainComponentThisMinRangePropertyName],max:this.props.mainComponentThis[this.mainComponentThisMaxRangePropertyName]})})]}):null})}}const ea=ta;class ia extends s.Component{constructor(t){super(t),this.setValueAndSave=t=>{t=He(t,this.props.mainComponentThis.context.userUnit),this.props.mainComponentThis.heatmapPositionStandardRadius=T(t*this.props.mainComponentThis.meter,0),this.props.mainComponentThis.saveNeeded=!0,this.props.mainComponentThis.save(!1,!0)},this.setPositionStandardRadius=t=>{this.initialValue=We(t/this.props.mainComponentThis.meter,this.props.mainComponentThis.context.userUnit,"meter","feet",this.decimalPrecision),this.positionStandardRadiusPlusMinusInputRef.current.numberInputComponentRef.current.setValue(this.initialValue),this.setState({value:this.initialValue})},this.onPositionStandardRadiusInputChange=t=>{this.props.mainComponentThis.heatmapGenerated&&this.props.mainComponentThis.clearHeatmapCanvases(!1,!0),this.props.mainComponentThis.heatmapGenerated=!1,this.setValueAndSave(t),this.setState({value:t})},this.onPositionStandardRadiusPlusMinusChange=t=>{let e,i=!1,s=T(this.state.value,this.decimalPrecision);isNaN(s)?(i=!0,s=this.initialValue):"plus"===t?s<this.maxValue&&(i=!0,e=T(s+this.inputStep,this.decimalPrecision)):s>this.minValue&&(i=!0,e=T(s-this.inputStep,this.decimalPrecision)),i&&(this.positionStandardRadiusPlusMinusInputRef.current.numberInputComponentRef.current.setValue(e),this.setValueAndSave(e),this.props.mainComponentThis.heatmapGenerated&&this.props.mainComponentThis.clearHeatmapCanvases(!1,!0),this.props.mainComponentThis.heatmapGenerated=!1,this.setState({value:e}))},this.initialValue="metric"===t.mainComponentThis.context.userUnit?1.2:4,this.state={value:this.initialValue},this.inputStep="metric"===t.mainComponentThis.context.userUnit?.1:1,this.maxValue="metric"===t.mainComponentThis.context.userUnit?50:160,this.minValue=this.inputStep,this.decimalPrecision="metric"===t.mainComponentThis.context.userUnit?1:0,this.positionStandardRadiusPlusMinusInputRef=s.createRef(),this.setPositionStandardRadius=this.setPositionStandardRadius.bind(this),this.onPositionStandardRadiusPlusMinusChange=this.onPositionStandardRadiusPlusMinusChange.bind(this),this.onPositionStandardRadiusInputChange=this.onPositionStandardRadiusInputChange.bind(this),this.setValueAndSave=this.setValueAndSave.bind(this)}render(){return(0,u.jsx)(Hi,{ref:this.positionStandardRadiusPlusMinusInputRef,labelName:"Position standard radius(".concat("metric"===this.props.mainComponentThis.context.userUnit?"m":"ft",")"),inputMin:this.minValue,inputMax:this.maxValue,inputStep:this.inputStep,inputValue:this.state.value,onInputChange:this.onPositionStandardRadiusInputChange,callOnlyOnBlur:!0,onInputMinusClick:()=>this.onPositionStandardRadiusPlusMinusChange("minus"),onInputPlusClick:()=>this.onPositionStandardRadiusPlusMinusChange("plus"),inputWidth:"inputWidth2rem"})}}const sa=ia;class na extends s.Component{render(){return(0,u.jsxs)(Mi.BB,{author:"GLAMOS",title:"Indoor heatmap report",subject:"Indoor report of heatmap ".concat(this.props.heatmapID),children:[(0,u.jsxs)(Mi.T3,{wrap:!0,style:Li.pageWrapable,children:[(0,u.jsx)(Mi.G7,{style:{...Li.pageContainer,height:"auto"},children:(0,u.jsxs)(Mi.G7,{style:Li.pageContentContainerGeneral,children:[(0,u.jsx)(Mi.Ee,{style:Li.pageGeneralLogoImage,src:a}),(0,u.jsx)(Mi.xv,{style:Li.reportTitle,children:"Indoor heatmap report"}),(0,u.jsx)(Mi.G7,{style:Li.emptyRowLarge}),(0,u.jsxs)(Mi.G7,{style:Li.generalInfoRow,children:[(0,u.jsxs)(Mi.G7,{style:Li.generalInfoValueContainer,children:[(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyName,children:(0,u.jsx)(Mi.xv,{style:Li.boldText,children:"Heatmap ID:"})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyName,children:(0,u.jsx)(Mi.xv,{style:Li.boldText,children:"Date of issue:"})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyName,children:(0,u.jsx)(Mi.xv,{style:Li.boldText,children:"Floorplan:"})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyName,children:(0,u.jsx)(Mi.xv,{style:Li.boldText,children:"Number of options:"})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyName,children:(0,u.jsx)(Mi.xv,{style:Li.boldText,children:"Testing period:"})})]}),(0,u.jsxs)(Mi.G7,{style:Li.generalInfoValueContainer,children:[(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyValue,children:(0,u.jsx)(Mi.xv,{children:this.props.heatmapID})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyValue,children:(0,u.jsx)(Mi.xv,{children:D(new Date)})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyValue,children:(0,u.jsx)(Mi.xv,{children:this.props.floorplanName})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyValue,children:(0,u.jsx)(Mi.xv,{children:this.props.optionsCount})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyValue,children:(0,u.jsx)(Mi.xv,{children:"".concat(L(new Date(this.props.startDate))," - ").concat(L(new Date(this.props.endDate)))})})]})]}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoRow,children:(0,u.jsx)(Mi.xv,{style:Li.boldText,children:"Devices:"})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoRow,children:(0,u.jsx)(Mi.G7,{style:Li.tableContainer,children:(0,u.jsxs)(Mi.G7,{style:Li.tableSubContainer,children:[(0,u.jsxs)(Mi.G7,{style:Li.tableHeaderRow,children:[(0,u.jsx)(Mi.G7,{style:{...Li.tableColumnHeader,...Li.boldText},children:(0,u.jsx)(Mi.xv,{children:"Device SN"})}),(0,u.jsx)(Mi.G7,{style:{...Li.tableColumnHeader,...Li.boldText},children:(0,u.jsx)(Mi.xv,{children:"Device name"})})]}),(0,u.jsx)(Mi.G7,{children:this.props.devices.map(((t,e)=>(0,u.jsxs)(Mi.G7,{style:Li.tableRow,children:[(0,u.jsx)(Mi.G7,{style:Li.tableColumnHeader,children:(0,u.jsx)(Mi.xv,{children:t.deviceid})}),(0,u.jsx)(Mi.G7,{style:Li.tableColumnHeader,children:(0,u.jsx)(Mi.xv,{children:t.devicename})})]},e)))})]})})}),(0,u.jsx)(Mi.G7,{style:Li.emptyRowMedium}),(0,u.jsx)(Mi.G7,{style:Li.reportSubTitle,children:(0,u.jsx)(Mi.xv,{children:"Filter parameters"})}),(0,u.jsx)(Mi.G7,{style:Li.emptyRowMedium}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoRow,children:(0,u.jsx)(Mi.xv,{style:Li.boldText,children:"Spreading factors:"})}),(0,u.jsx)(Mi.G7,{style:Li.listContainer,children:this.props.spreadingFactorsFiltered.map(((t,e)=>(0,u.jsxs)(Mi.G7,{style:Li.listItemContainer,children:[(0,u.jsx)(Mi.xv,{children:"\u2022"}),(0,u.jsx)(Mi.xv,{style:Li.listItemValue,children:t})]},e)))}),(0,u.jsx)(Mi.G7,{style:Li.emptyRowMedium}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoRow,children:(0,u.jsx)(Mi.xv,{style:Li.boldText,children:"Antennas:"})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoRow,children:(0,u.jsx)(Mi.G7,{style:Li.tableContainer,children:(0,u.jsxs)(Mi.G7,{style:Li.tableSubContainer,children:[(0,u.jsxs)(Mi.G7,{style:Li.tableHeaderRow,children:[(0,u.jsx)(Mi.G7,{style:{...Li.tableColumnHeader,...Li.boldText},children:(0,u.jsx)(Mi.xv,{children:"Antenna type"})}),(0,u.jsx)(Mi.G7,{style:{...Li.tableColumnHeader,...Li.boldText},children:(0,u.jsx)(Mi.xv,{children:"Antenna name"})})]}),(0,u.jsx)(Mi.G7,{children:this.props.antennasFiltered.map(((t,e)=>(0,u.jsxs)(Mi.G7,{style:Li.tableRow,children:[(0,u.jsx)(Mi.G7,{style:Li.tableColumnHeader,children:(0,u.jsx)(Mi.xv,{children:null!==t.antenna_type?t.antenna_type:"null"})}),(0,u.jsx)(Mi.G7,{style:Li.tableColumnHeader,children:(0,u.jsx)(Mi.xv,{children:t.antenna_name})})]},e)))})]})})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoRow,children:(0,u.jsx)(Mi.xv,{style:Li.boldText,children:"Gateways(".concat(this.props.gatewaysFilteredWithName.length+this.props.gatewaysFilteredWithoutName.length,"):")})}),this.props.gatewaysFilteredWithName.length>0?(0,u.jsx)(Mi.G7,{style:Li.generalInfoRow,children:(0,u.jsx)(Mi.G7,{style:Li.tableContainer,children:(0,u.jsxs)(Mi.G7,{style:Li.tableSubContainer,children:[(0,u.jsx)(Mi.G7,{style:Li.tableHeaderRow,children:(0,u.jsx)(Mi.G7,{style:{...Li.tableColumnHeader,...Li.boldText},children:(0,u.jsx)(Mi.xv,{children:"Gateways with name"})})}),(0,u.jsx)(Mi.G7,{children:this.props.gatewaysFilteredWithName.reduce(((t,e,i,s)=>(i%4===0&&t.push(s.slice(i,i+4)),t)),[]).map((t=>(0,u.jsxs)(Mi.G7,{style:Li.tableRow,children:[(0,u.jsx)(Mi.G7,{style:{...Li.tableColumnHeader,...Li.gatewaysNameTableColumn},children:(0,u.jsx)(Mi.xv,{children:t[0].name})}),t[1]?(0,u.jsx)(Mi.G7,{style:{...Li.tableColumnHeader,...Li.gatewaysNameTableColumn},children:(0,u.jsx)(Mi.xv,{children:t[1].name})}):null,t[2]?(0,u.jsx)(Mi.G7,{style:{...Li.tableColumnHeader,...Li.gatewaysNameTableColumn},children:(0,u.jsx)(Mi.xv,{children:t[2].name})}):null,t[3]?(0,u.jsx)(Mi.G7,{style:{...Li.tableColumnHeader,...Li.gatewaysNameTableColumn},children:(0,u.jsx)(Mi.xv,{children:t[3].name})}):null]},t[0].gtw_id)))})]})})}):null,this.props.gatewaysFilteredWithoutName.length>0?(0,u.jsx)(Mi.G7,{style:Li.generalInfoRow,children:(0,u.jsx)(Mi.G7,{style:Li.tableContainer,children:(0,u.jsxs)(Mi.G7,{style:Li.tableSubContainer,children:[(0,u.jsx)(Mi.G7,{style:Li.tableHeaderRow,children:(0,u.jsx)(Mi.G7,{style:{...Li.tableColumnHeader,...Li.boldText},children:(0,u.jsx)(Mi.xv,{children:"Gateways without name"})})}),(0,u.jsx)(Mi.G7,{children:this.props.gatewaysFilteredWithoutName.map((t=>(0,u.jsx)(Mi.G7,{style:Li.tableRow,children:(0,u.jsx)(Mi.G7,{style:{...Li.tableColumnHeader,...Li.gatewaysNameTableColumn},children:(0,u.jsx)(Mi.xv,{children:t.gtw_id})})},t.gtw_id)))})]})})}):null,(0,u.jsx)(Mi.G7,{style:Li.emptyRowLarge}),(0,u.jsx)(Mi.G7,{style:Li.emptyRowLarge}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoRow,children:(0,u.jsxs)(Mi.xv,{children:[(0,u.jsx)(Mi.xv,{style:Li.boldText,children:"".concat(this.props.filteredMessagesCount," ")}),(0,u.jsxs)(Mi.xv,{children:[" ","messages comply with specified filter parameters and were included in heatmap calculations."]})]})})]})}),(0,u.jsxs)(Mi.G7,{style:{...Li.footerPageContainer,...Li.footerPageContainerFixed},fixed:!0,children:[(0,u.jsx)(Mi.Ee,{style:Li.footerLogo,src:a}),(0,u.jsx)(Mi.xv,{style:Li.pageNumber,render:t=>{let{pageNumber:e,totalPages:i}=t;return"Page ".concat(e," of ").concat(i)}})]})]}),(0,u.jsx)(Mi.T3,{children:(0,u.jsxs)(Mi.G7,{style:Li.pageContainer,children:[(0,u.jsxs)(Mi.G7,{style:{...Li.pageContentContainer,maxHeight:"95%"},children:[(0,u.jsx)(Mi.G7,{style:{...Li.reportSubTitle,marginTop:10},children:(0,u.jsx)(Mi.xv,{children:"Heatmap"})}),(0,u.jsx)(Mi.Ee,{style:{marginTop:2,width:"100%",height:"auto",objectFit:"contain"},src:this.props.heatmapDataURI}),(0,u.jsxs)(Mi.G7,{style:Li.heatmapLegendContainer,children:[(0,u.jsx)(Mi.Ee,{style:{position:"absolute",height:20,left:35,right:35},src:this.props.rssiHeatmapLegendDataURI}),(0,u.jsxs)(Mi.G7,{style:Li.heatmapLegendRssiValuesContainer,children:[(0,u.jsx)(Mi.xv,{children:this.props.heatmapRssiMin}),(0,u.jsx)(Mi.xv,{children:this.props.heatmapRssiMax>this.props.heatmapRssiMin?this.props.heatmapRssiMax:""})]})]})]}),(0,u.jsxs)(Mi.G7,{style:{...Li.footerPageContainer,...Li.footerPageContainerFixed},children:[(0,u.jsx)(Mi.Ee,{style:Li.footerLogo,src:a}),(0,u.jsx)(Mi.xv,{style:Li.pageNumber,render:t=>{let{pageNumber:e,totalPages:i}=t;return"Page ".concat(e," of ").concat(i)}})]})]})}),(0,u.jsxs)(Mi.T3,{wrap:!0,style:Li.pageWrapable,children:[(0,u.jsx)(Mi.G7,{style:{...Li.pageContainer,height:"auto"},children:(0,u.jsxs)(Mi.G7,{style:Li.pageContentContainer,children:[(0,u.jsxs)(Mi.G7,{style:{...Li.generalInfoRow,...Li.fullWidth,paddingLeft:40},children:[(0,u.jsx)(Mi.G7,{style:{...Li.generalInfoPropertyName},children:(0,u.jsx)(Mi.xv,{style:Li.boldText,children:"Heatmap color option:"})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyValue,children:(0,u.jsx)(Mi.xv,{children:this.props.positionDataColoringOption})})]}),(0,u.jsx)(Mi.G7,{style:Li.emptyRowLarge}),(0,u.jsx)(Mi.G7,{style:{...Li.generalInfoRow,...Li.fullWidth,paddingLeft:40},children:(0,u.jsx)(Mi.xv,{style:Li.boldText,children:"Heatmap positions:"})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoRow,children:(0,u.jsx)(Mi.G7,{style:Li.tableContainer,children:(0,u.jsxs)(Mi.G7,{style:Li.tableSubContainer,children:[(0,u.jsxs)(Mi.G7,{style:Li.tableHeaderRow,children:[(0,u.jsx)(Mi.G7,{style:{...Li.tableColumnHeader,...Li.boldText},children:(0,u.jsx)(Mi.xv,{children:"Position number"})}),(0,u.jsx)(Mi.G7,{style:{...Li.tableColumnHeader,...Li.boldText},children:(0,u.jsx)(Mi.xv,{children:"Position name"})}),(0,u.jsx)(Mi.G7,{style:{...Li.tableColumnHeader,...Li.boldText},children:(0,u.jsx)(Mi.xv,{children:"Color value"})})]}),(0,u.jsx)(Mi.G7,{children:this.props.showedPositions.map(((t,e)=>(0,u.jsxs)(Mi.G7,{style:Li.tableRow,children:[(0,u.jsx)(Mi.G7,{style:Li.tableColumnHeader,children:(0,u.jsx)(Mi.xv,{children:t.position_num})}),(0,u.jsx)(Mi.G7,{style:Li.tableColumnHeader,children:(0,u.jsx)(Mi.xv,{children:"Position ".concat(t.position_num)})}),(0,u.jsx)(Mi.G7,{style:Li.tableColumnHeader,children:(0,u.jsx)(Mi.xv,{children:"Avg GTWs/MSG"!==this.props.heatmapPositionDataSelectedOption?"".concat(t.colorRSSI," dBm"):"".concat(t.colorGtwsPerMessage," gtws/msg")})})]},e)))})]})})}),this.props.renderedGateways.length>0?(0,u.jsxs)(Mi.G7,{children:[(0,u.jsx)(Mi.G7,{style:Li.emptyRowLarge}),(0,u.jsx)(Mi.G7,{style:{...Li.generalInfoRow,...Li.fullWidth,paddingLeft:40},children:(0,u.jsx)(Mi.xv,{style:Li.boldText,children:"Heatmap gateways:"})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoRow,children:(0,u.jsx)(Mi.G7,{style:Li.tableContainer,children:(0,u.jsxs)(Mi.G7,{style:Li.tableSubContainer,children:[(0,u.jsxs)(Mi.G7,{style:Li.tableHeaderRow,children:[(0,u.jsx)(Mi.G7,{style:{...Li.tableColumnHeader,...Li.boldText},children:(0,u.jsx)(Mi.xv,{children:"Index"})}),(0,u.jsx)(Mi.G7,{style:{...Li.tableColumnHeader,...Li.boldText},children:(0,u.jsx)(Mi.xv,{children:"Gateway name"})})]}),(0,u.jsx)(Mi.G7,{children:this.props.renderedGateways.map(((t,e)=>(0,u.jsxs)(Mi.G7,{style:Li.tableRow,children:[(0,u.jsx)(Mi.G7,{style:Li.tableColumnHeader,children:(0,u.jsx)(Mi.xv,{children:e+1})}),(0,u.jsx)(Mi.G7,{style:Li.tableColumnHeader,children:(0,u.jsx)(Mi.xv,{children:t.name})})]},e)))})]})})})]}):null]})}),(0,u.jsxs)(Mi.G7,{style:{...Li.footerPageContainer,...Li.footerPageContainerFixed},fixed:!0,children:[(0,u.jsx)(Mi.Ee,{style:Li.footerLogo,src:a}),(0,u.jsx)(Mi.xv,{style:Li.pageNumber,render:t=>{let{pageNumber:e,totalPages:i}=t;return"Page ".concat(e," of ").concat(i)}})]})]}),(0,u.jsx)(Mi.T3,{orientation:"landscape",children:(0,u.jsxs)(Mi.G7,{style:Li.pageContainer,children:[(0,u.jsx)(Mi.G7,{style:Li.pageContentContainer,children:(0,u.jsx)(ki,{parsedPositions:this.props.filteredPositionsData,positionsWidgetsData:this.props.positionsWidgetsData,positionsCoordinatesInserted:!1,LTpositionTableAnalytics:xs})}),(0,u.jsxs)(Mi.G7,{style:Li.footerPageContainer,children:[(0,u.jsx)(Mi.Ee,{style:Li.footerLogo,src:a}),(0,u.jsx)(Mi.xv,{style:Li.pageNumber,render:t=>{let{pageNumber:e,totalPages:i}=t;return"Page ".concat(e," of ").concat(i)}})]})]})}),this.props.imageDataURIs.map(((t,e)=>(0,u.jsx)(Mi.T3,{orientation:"landscape",children:(0,u.jsxs)(Mi.G7,{style:Li.pageContainer,children:[(0,u.jsxs)(Mi.G7,{style:Li.pageContentContainer,children:[(0,u.jsxs)(Mi.G7,{style:Li.graphContainer,children:[(0,u.jsx)(Mi.G7,{children:(0,u.jsx)(Mi.xv,{children:0===e?"All positions":"Position "+this.props.filteredPositionsData[e-1].position_number})}),(0,u.jsx)(Mi.Ee,{style:{marginTop:2},src:t})]},e),e>0?(0,u.jsx)(Mi.G7,{style:{marginTop:10},children:[{name:"Average of MAX graph:",property_name:"max_rssi_avg"},{name:"Average of AVG graph:",property_name:"avg_rssi_avg"},{name:"Average of MIN graph:",property_name:"min_rssi_avg"},{name:"Average gateways per message:",property_name:"gtw_per_message_avg"}].map(((t,i)=>{let{name:s,property_name:n}=t;return(0,u.jsxs)(Mi.G7,{style:{...Li.generalInfoRow,...Li.fullWidth,paddingLeft:40,justifyContent:"center"},children:[(0,u.jsx)(Mi.xv,{style:Li.boldText,children:s}),(0,u.jsx)(Mi.xv,{style:{marginLeft:5},children:"".concat(this.props.filteredPositionsData[e-1][n]," ").concat(i<3?"dBm":"")})]},s)}))}):null]}),(0,u.jsxs)(Mi.G7,{style:Li.footerPageContainer,children:[(0,u.jsx)(Mi.Ee,{style:Li.footerLogo,src:a}),(0,u.jsx)(Mi.xv,{style:Li.pageNumber,render:t=>{let{pageNumber:e,totalPages:i}=t;return"Page ".concat(e," of ").concat(i)}})]})]})},e)))]})}}const oa=na;class aa extends s.Component{render(){return(0,u.jsx)("div",{className:"popup-disable-background",children:(0,u.jsx)(Ai,{spinnerHolderStyle:this.props.whiteSpinnerBackground?{borderRadius:"50%",backgroundColor:"#ffffff"}:{},screenCenter:!0})})}}const ra=aa;var la=i(1317);class ha extends s.Component{render(){const{positionMinAvgMaxChartData:t,gatewaysPerMessageLimit:e}=this.props;la.log("Render");let i=0,n=-141,o=-59,a=[];t.forEach((t=>{t.messages.length>i&&(i=t.messages.length);let s=[],r=[],l=[];t.messages.forEach(((t,i)=>{if("All gateways per message"===e.name)t.avg_rssi>n&&(n=t.avg_rssi),t.avg_rssi<o&&(o=t.avg_rssi),r.push({x:i+1,y:t.avg_rssi}),this.props.showMinMax&&(t.max_rssi>n&&(n=t.max_rssi),t.min_rssi<o&&(o=t.min_rssi),s.push({x:i+1,y:t.min_rssi}),l.push({x:i+1,y:t.max_rssi}));else{let s,a=0,l=0;t.gateways.forEach(((t,i)=>{i<e.value&&(l++,a+=t.rssi)})),s=a/l,s>n&&(n=s),s<o&&(o=s),r.push({x:i+1,y:s})}})),this.props.showMinMax&&(a.push({name:t.position_name+" min",type:s.length>1?"line":"scatter",data:s}),a.push({name:t.position_name+" max",type:l.length>1?"line":"scatter",data:l})),a.push({name:t.position_name+" avg",type:r.length>1?"line":"scatter",data:r})}));let r=[],l=0,h=[];for(let s=0;s<a.length;s++)r.push(ms[l]),l++,l===ms.length&&(l=0),h.push({show:0===s,showAlways:0===s,type:"numeric",min:o-5,max:n+5,tickAmount:9,forceNiceScale:!0,decimalsInFloat:0,title:{text:"RSSI"}});let p=[];a.forEach((t=>{p.push(t)})),la.log("parsed data in graph LTAnalyticsGraph2Report"+this.props.id),la.log(p);const d={series:p,options:{chart:{id:"LTAnalyticsGraph2Report"+this.props.id,type:"line",animations:{enabled:!1},toolbar:{show:!1}},dataLabels:{enabled:!1},legend:{show:!0},stroke:{curve:"smooth",width:2},colors:r,fill:{type:"solid"},markers:{size:5,colors:void 0,strokeColors:"#000",strokeWidth:1,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,discrete:[],shape:"circle",radius:1.5,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},yaxis:h,xaxis:{type:"numeric",min:1,max:i,tickAmount:10,decimalsInFloat:0,tickPlacement:"on",labels:{rotateAlways:!1,rotate:0,trim:!0}}},responsive:[{breakpoint:768,options:{xaxis:{tickAmount:2}}}]};return(0,u.jsx)(s.Fragment,{children:t.length>0?(0,u.jsx)(hs.Z,{series:d.series,height:500,options:d.options,type:"line"}):(0,u.jsx)("div",{className:"form-error",style:{marginTop:50},children:(0,u.jsx)("h3",{children:"There is no data that matches specified filter conditions"})})})}}const pa=ha;var da=i(1317);class ca extends s.Component{constructor(){super(),this.resetPdfReport=()=>{this.pdfDoc=null,this.setState({pdfReportReady:!1})},this.generatePdfReport=()=>{if(this.props.mainComponentThis.heatmapGenerated&&0!==this.props.mainComponentThis.currentHeatmap2DViewRenderedPositions.length){if(this.state.pdfReportReady)return;n.render((0,u.jsx)(ra,{whiteSpinnerBackground:!0}),this.props.mainComponentThis.loadingComponentContainer.current,(()=>{this.filteredPositionsData=[],this.positionFilteredMinAvgMaxChartData=[],this.filteredPositionsTableGatewaysData=[],this.positionsFilteredWidgetsData=[],this.renderedPositionsNumbers=[];const{sfs_filtered_hashmap:t,antennas_filtered_hashmap:e,base_filtered_hashmap:i}=bt(this.props.mainComponentThis.selectedPositionDataSfs,this.props.mainComponentThis.selectedPositionDataAntennas,this.props.mainComponentThis.selectedPositionDataGateways);this.renderedPositionsNumbers=this.props.mainComponentThis.currentHeatmap2DViewRenderedPositions.map((t=>t.position_num)),this.calculateHeatmapFilteredData(!1,t,e,i),this.calculateFilteredPositionsWidgetData(),this.setState({pdfReportReady:!1,generatePdfCount:this.state.generatePdfCount+1},(()=>{let t,e=[],i=[],s=["all"];for(let n=0;n<this.positionFilteredMinAvgMaxChartData.length;n++)s.push(this.positionFilteredMinAvgMaxChartData[n].position_number);for(let n=0;n<s.length;n++)e.push((()=>Z().exec("LTAnalyticsGraph2ReportType"+s[n],"dataURI").then((t=>{let{imgURI:e}=t;return i[n]=e}))));Promise.all([()=>this.props.mainComponentThis.downloadSvg(!0,!1,!1,!1,!1).then((e=>{t=e})),...e].map((t=>t()))).then((()=>{let e=[this.props.mainComponentThis.currentRouteID],s=this.props.positionsDataFilterRef.current.getPositionsDataParameters(),n=s.BASE_filtered,o=[],a=[];o=n.filter((t=>t.name!==t.gtw_id||(a.push(t),!1))),this.pdfDoc=(0,u.jsx)(oa,{heatmapID:e[e.length-1],floorplanName:this.props.mainComponentThis.heatmapGeneral.floorplanName,optionsCount:this.props.mainComponentThis.heatmapOptions.length,devices:this.props.mainComponentThis.heatmapParams.devices,startDate:this.props.mainComponentThis.heatmapParams.startTimestamp,endDate:this.props.mainComponentThis.heatmapParams.stopTimestamp,spreadingFactorsFiltered:s.SF_filtered,antennasFiltered:s.ANTENNA_filtered,gatewaysFilteredWithName:o,gatewaysFilteredWithoutName:a,showedPositions:this.props.mainComponentThis.currentHeatmap2DViewRenderedPositions,filteredMessagesCount:this.props.mainComponentThis.filteredMessagesCount,filteredPositionsData:this.filteredPositionsData,positionsWidgetsData:this.positionsFilteredWidgetsData,imageDataURIs:i,heatmapDataURI:t,rssiHeatmapLegendDataURI:this.props.mainComponentThis.rssiColorHeatmapLegendContainer.current.querySelector("canvas").toDataURL("image/png"),heatmapRssiMax:"Avg GTWs/MSG"!==this.props.mainComponentThis.heatmapPositionDataSelectedOption?this.props.mainComponentThis.heatmapRssiColorMax:this.props.mainComponentThis.heatmapGatewaysPerMessageColorMax,heatmapRssiMin:"Avg GTWs/MSG"!==this.props.mainComponentThis.heatmapPositionDataSelectedOption?this.props.mainComponentThis.heatmapRssiColorMin:this.props.mainComponentThis.heatmapGatewaysPerMessageColorMin,heatmapPositionDataSelectedOption:this.props.mainComponentThis.heatmapPositionDataSelectedOption,renderedGateways:this.props.showGatewaysSelectRef.current.getRenderedGateways(),positionDataColoringOption:this.props.positionDataOptionsRef.current.getSelectedPositionDataOption()}),this.setState({pdfReportReady:!0})})).catch((t=>{da.log(t),n.unmountComponentAtNode(this.props.mainComponentThis.loadingComponentContainer.current),this.props.mainComponentThis.boxInfo.current.innerHTML="Ooops. An error happened during pdf report preparation."}))}))}))}else wt(this.props.mainComponentThis.heatmapDownloadPdfErrorModal.current,this.props.mainComponentThis.modalTimeout)},this.state={pdfReportReady:!1,generatePdfCount:0},this.pdfDoc=null,this.filteredPositionsData=[],this.positionFilteredMinAvgMaxChartData=[],this.filteredPositionsTableGatewaysData=[],this.positionsFilteredWidgetsData=[],this.renderedPositionsNumbers=[],this.generatePdfReport=this.generatePdfReport.bind(this),this.resetPdfReport=this.resetPdfReport.bind(this),this.calculateHeatmapFilteredData=mn.bind(this),this.calculateFilteredPositionsWidgetData=un.bind(this)}render(){return(0,u.jsxs)("div",{className:"button-centered-container",children:[(0,u.jsx)(Ue,{type:"primary",onClick:this.generatePdfReport,children:this.state.pdfReportReady?(0,u.jsx)(Mi.WD,{style:{color:"#ffffff"},document:this.pdfDoc,fileName:"GLAMOS_indoormapping_".concat("".concat((new Date).getDate().toString().padStart(2,"0"),"_").concat(((new Date).getMonth()+1).toString().padStart(2,"0"),"_").concat((new Date).getFullYear()),".pdf"),children:t=>{let{blob:e,url:i,loading:s,error:o}=t;return o?(setTimeout((()=>{n.unmountComponentAtNode(this.props.mainComponentThis.loadingComponentContainer.current)}),0),"Can't generate report"):!s&&e&&i?!s&&!o&&e&&i?(setTimeout((()=>{n.unmountComponentAtNode(this.props.mainComponentThis.loadingComponentContainer.current)}),0),"Download PDF report!"):void 0:"Loading report..."}}):"Generate PDF report"}),this.state.pdfReportReady?null:(0,u.jsxs)("div",{style:{position:"fixed",top:0,left:"calc(250px - 100vw)",width:"calc(95vw - 4.5rem)",height:500,zIndex:-3,visibility:"hidden"},children:[(0,u.jsx)("div",{style:{position:"absolute",width:"100%",zIndex:-1},children:(0,u.jsx)(pa,{id:"Typeall",positionMinAvgMaxChartData:this.positionFilteredMinAvgMaxChartData,gatewaysPerMessageLimit:{name:"All gateways per message"},showMinMax:!1})}),this.positionFilteredMinAvgMaxChartData.map(((t,e)=>(0,u.jsx)("div",{style:{position:"absolute",width:"100%",zIndex:-1},children:(0,u.jsx)(pa,{id:"Type"+t.position_number,positionMinAvgMaxChartData:[t],gatewaysPerMessageLimit:{name:"All gateways per message"},showMinMax:!0})},"".concat(this.state.generatePdfCount,"+").concat(e))))]})]})}}const ma=ca;class ua extends s.Component{constructor(){super(),this.setOptionNoteValue=t=>{this.setState({value:t})},this.handleOptionNoteInputChange=t=>{this.props.mainComponentThis.heatmapOptionNote=t.target.value,this.props.mainComponentThis.saveNeeded=!0,this.props.mainComponentThis.save(!1,!0),this.setState({value:t.target.value})},this.state={value:""},this.setOptionNoteValue=this.setOptionNoteValue.bind(this),this.handleOptionNoteInputChange=this.handleOptionNoteInputChange.bind(this)}render(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("h3",{className:"info-tab-title",children:"OPTION NOTE"}),(0,u.jsx)("div",{className:"data-row",children:(0,u.jsx)("textarea",{style:{fontFamily:"inherit"},placeholder:"Insert option notes",className:"form-control input",value:this.state.value,type:"text",onChange:this.handleOptionNoteInputChange})})]})}}const ga=ua;class xa extends s.Component{constructor(){super(),this.setFloorNumber=t=>{t?(this.numberInputRef.current.setValue(t),this.numberInputRef.current.setInitialValue(t)):(this.numberInputRef.current.setValue(""),this.numberInputRef.current.setInitialValue(""))},this.onFloorNumberChanged=()=>{this.props.mainComponentThis.heatmapOptionFloorNumber=this.numberInputRef.current.getValue(),this.props.mainComponentThis.saveNeeded=!0,this.props.mainComponentThis.save(!1,!0)},this.numberInputRef=s.createRef(),this.setFloorNumber=this.setFloorNumber.bind(this),this.onFloorNumberChanged=this.onFloorNumberChanged.bind(this)}render(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("h3",{className:"info-tab-title",children:"FLOOR NUMBER"}),(0,u.jsx)("div",{className:"data-row",children:(0,u.jsx)(ii,{ref:this.numberInputRef,placeholder:"Floor number",allowEmpty:!0,inputStep:1,inputMin:-50,inputMax:300,onInputValueChanged:this.onFloorNumberChanged,checkInputValueChangeBeforeCall:!0})})]})}}const Aa=xa;class fa extends s.Component{constructor(){super(),this.onTabClick=t=>{this.setState({activeTabIndex:t})},this.onExportPngShowGridChange=()=>{this.props.mainComponentThis.exportPngShowGrid?(this.props.mainComponentThis.exportPngShowGrid=!1,this.exportPngShowGridRef.current.checked=!1):(this.props.mainComponentThis.exportPngShowGrid=!0,this.exportPngShowGridRef.current.checked=!0)},this.onExportPngShowMeasuresChange=()=>{this.props.mainComponentThis.exportPngShowMeasures?(this.props.mainComponentThis.exportPngShowMeasures=!1,this.exportPngShowMeasuresRef.current.checked=!1):(this.props.mainComponentThis.exportPngShowMeasures=!0,this.exportPngShowMeasuresRef.current.checked=!0)},this.onHeatmapRightBoxControlClick=()=>{"translateX(-250px)"===this.props.heatmapRightBoxRef.current.style.transform?(this.props.mainComponentThis.translateRightBox(this.props.heatmapRightBoxRef.current,0,!0),this.rightBoxControlClick.current.title="Show heatmap parameters",this.rightBoxControlClick.current.style.transform="translateX(0px)",this.rightBoxControlClick.current.children[0].style.transform="rotate(0deg)"):(this.props.mainComponentThis.translateRightBox(this.props.heatmapRightBoxRef.current,-250,!0),this.rightBoxControlClick.current.title="Hide heatmap parameters",this.rightBoxControlClick.current.style.transform="translateX(-250px)",this.rightBoxControlClick.current.children[0].style.transform="rotate(180deg)")},this.state={activeTabIndex:0},this.onTabClick=this.onTabClick.bind(this),this.onExportPngShowGridChange=this.onExportPngShowGridChange.bind(this),this.onExportPngShowMeasuresChange=this.onExportPngShowMeasuresChange.bind(this),this.onHeatmapRightBoxControlClick=this.onHeatmapRightBoxControlClick.bind(this),this.exportPngShowGridRef=s.createRef(),this.exportPngShowMeasuresRef=s.createRef(),this.rightBoxControlClick=s.createRef()}render(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsxs)("div",{ref:this.props.heatmapRightBoxRef,className:"rightBox right-box-transition heatmap-right-box",style:{width:250,right:-250,padding:0,paddingTop:10,overflowY:"hidden"},children:[(0,u.jsxs)("div",{className:"tab-labels-container",children:[(0,u.jsx)("div",{className:"".concat(0===this.state.activeTabIndex?"active":""),onClick:()=>this.onTabClick(0),children:"DATA"}),(0,u.jsx)("div",{className:"".concat(1===this.state.activeTabIndex?"active":""),onClick:()=>this.onTabClick(1),children:"HEATMAP"}),(0,u.jsx)("div",{className:"".concat(2===this.state.activeTabIndex?"active":""),onClick:()=>this.onTabClick(2),children:"INFO"})]}),(0,u.jsxs)("div",{className:"tabs-container",children:[(0,u.jsx)("hr",{}),(0,u.jsxs)(Ti.Z,{theme:_i,children:[(0,u.jsxs)("div",{className:"tab ".concat(0===this.state.activeTabIndex?"active":""),children:[(0,u.jsx)(Zo,{ref:this.props.positionsDataFilterRef,positionsData:this.props.positionsData,bases:this.props.bases,sfs:this.props.sfs,antennas:this.props.antennas,showGatewaysSelectRef:this.props.showGatewaysSelectRef,gatewaysFilterRef:this.props.gatewaysFilterRef,isHeatmapView:this.props.isHeatmapView,mainComponentThis:this.props.mainComponentThis}),(0,u.jsx)(_o,{ref:this.props.positionDataOptionsRef,mainComponentThis:this.props.mainComponentThis}),(0,u.jsx)("br",{}),(0,u.jsx)("div",{className:"button-centered-container",children:(0,u.jsx)(Ue,{type:"light-blue",onClick:()=>wt(this.props.mainComponentThis.positionsDataVisualizationRef.current,this.props.mainComponentThis.othersTimeout,(()=>{n.render((0,u.jsx)(wn,{mainComponentThis:this.props.mainComponentThis,activePositionNumber:"all"}),this.props.mainComponentThis.positionsDataVisualizationRef.current)}),"block",!1),children:"Visualize position data"})}),(0,u.jsx)("br",{}),(0,u.jsx)("div",{className:"button-centered-container",children:(0,u.jsx)(Ue,{type:"blue",onClick:()=>wt(this.props.mainComponentThis.positionsDataVisualizationRef.current,this.props.mainComponentThis.othersTimeout,(()=>{n.render((0,u.jsx)(wn,{mainComponentThis:this.props.mainComponentThis,activePositionNumber:"comparison"}),this.props.mainComponentThis.positionsDataVisualizationRef.current)}),"block",!1),children:"Comparison table"})}),(0,u.jsx)("br",{}),this.props.mainComponentThis.isHeatmapView?(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(ma,{ref:this.props.pdfReportRef,mainComponentThis:this.props.mainComponentThis,positionsDataFilterRef:this.props.positionsDataFilterRef,showGatewaysSelectRef:this.props.showGatewaysSelectRef,positionDataOptionsRef:this.props.positionDataOptionsRef}),(0,u.jsx)("br",{})]}):null]}),(0,u.jsxs)("div",{className:"tab ".concat(1===this.state.activeTabIndex?"active":""),children:[(0,u.jsxs)("div",{style:{padding:"0.5rem 0"},children:[(0,u.jsx)("h3",{children:"DRAWING OPTIONS"}),(0,u.jsx)("br",{}),(0,u.jsx)(sa,{ref:this.props.positionRadiusInput,mainComponentThis:this.props.mainComponentThis})]}),(0,u.jsx)(ea,{ref:this.props.heatmapColorRangeRef,onColorRangeMinInputChangeCallback:this.props.mainComponentThis.clearHeatmapCanvasAndPopupAndSave,onColorRangeMinPlusMinusChangeCallback:this.props.mainComponentThis.clearHeatmapCanvasAndPopupAndSave,onColorRangeMaxInputChangeCallback:this.props.mainComponentThis.clearHeatmapCanvasAndPopupAndSave,onColorRangeMaxPlusMinusChangeCallback:this.props.mainComponentThis.clearHeatmapCanvasAndPopupAndSave,onColorSliderChangeCallback:this.props.mainComponentThis.clearHeatmapCanvasAndPopupAndSave,mainComponentThis:this.props.mainComponentThis}),(0,u.jsxs)("div",{style:{padding:"0.5rem 0"},children:[(0,u.jsx)("h3",{children:"EXPORT PNG"}),(0,u.jsx)("br",{}),(0,u.jsx)(ci,{title:"Show grid background",inputRef:this.exportPngShowGridRef,onChange:this.onExportPngShowGridChange,label:"SHOW GRID"}),(0,u.jsx)(ci,{title:"Show wall measures",inputRef:this.exportPngShowMeasuresRef,onChange:this.onExportPngShowMeasuresChange,label:"SHOW MEASURES"})]})]}),(0,u.jsx)("div",{className:"tab ".concat(2===this.state.activeTabIndex?"active":""),children:this.props.infoTabData?(0,u.jsxs)("div",{style:{padding:"0.5rem 0"},children:[(0,u.jsx)(ga,{ref:this.props.heatmapOptionNoteRef,mainComponentThis:this.props.mainComponentThis}),(0,u.jsx)(Aa,{ref:this.props.heatmapFloorNumberRef,mainComponentThis:this.props.mainComponentThis}),(0,u.jsx)("h3",{className:"info-tab-title",children:"DATA INFO"}),(0,u.jsxs)("div",{className:"data-row",children:[(0,u.jsx)("span",{className:"data-label",children:"Number of messages:"}),(0,u.jsx)("span",{children:this.props.infoTabData.messagesCount})]}),(0,u.jsxs)("div",{className:"data-row",children:[(0,u.jsx)("span",{className:"data-label",children:"Number of positions:"}),(0,u.jsx)("span",{children:this.props.infoTabData.positionsCount})]}),(0,u.jsxs)("div",{className:"data-row",children:[(0,u.jsx)("span",{className:"data-label",children:"Number of gateways:"}),(0,u.jsx)("span",{children:this.props.infoTabData.gatewaysNumber})]}),(0,u.jsxs)("div",{className:"data-row",children:[(0,u.jsx)("span",{className:"data-label",children:"Min RSSI(dBm):"}),(0,u.jsx)("span",{children:this.props.infoTabData.minMessagesRssi})]}),(0,u.jsxs)("div",{className:"data-row",children:[(0,u.jsx)("span",{className:"data-label",children:"Max RSSI(dBm):"}),(0,u.jsx)("span",{children:this.props.infoTabData.maxMessagesRssi})]}),(0,u.jsxs)("div",{className:"info-list",children:[(0,u.jsx)("div",{className:"data-label",children:"Antennas:"}),(0,u.jsx)("ul",{children:this.props.infoTabData.antennas.map((t=>{return(0,u.jsx)("li",{children:(e=t.antenna_type,i=t.antenna_name,null===i||void 0===i?null!==e?99===e?"Integrated antenna":"Antenna "+e:"Unknown antenna":e&&99===e?"Integrated antenna":i)},t.antenna_type);var e,i}))})]}),(0,u.jsxs)("div",{className:"info-list",children:[(0,u.jsx)("div",{className:"data-label",children:"Spreading factors:"}),(0,u.jsx)("ul",{children:this.props.infoTabData.sfs.map((t=>(0,u.jsx)("li",{children:t},t)))})]})]}):null})]})]})]}),(0,u.jsx)("div",{ref:this.rightBoxControlClick,title:"Hide heatmap parameters",className:"panel-control-container right-box-control right-box-transition svg-center-inside-container",onClick:this.onHeatmapRightBoxControlClick,children:(0,u.jsx)(Go.Z,{className:"right-box-transition"})})]})}}const Ca=fa;function ba(){return new Worker(document.URL+"static/js/generateHeatmapWebWorker.ad2eb9b8.worker.js")}var ya=i(1317);function wa(){const t=this.floorplanRoomsClippingCanvas.getContext("2d");t.save(),t.beginPath();for(let e=0;e<this.ROOM.length;e++)for(let i=0;i<this.ROOM[e].coordsInsideWithOrphans.length;i++){const s=this.ROOM[e].coordsInsideWithOrphans[i].x-this.boxWallCoordinates.minX,n=this.ROOM[e].coordsInsideWithOrphans[i].y-this.boxWallCoordinates.minY;0===i?t.moveTo(s,n):t.lineTo(s,n)}t.clip()}function va(){const t=document.createElement("canvas");t.width=this.boxWallCoordinates.width,t.height=this.boxWallCoordinates.height,this.floorplanRoomsClippingCanvas=t,this.createFloorplanRoomsClippingCanvasPath()}class Sa{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:868e6,s=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0;const o=n.boxWallCoordinates.width/n.meter,a=n.boxWallCoordinates.height/n.meter;let r=299792458/i/1/20;this.sourceCoordX=t,this.sourceCoordY=e,this.signalCenterFrequency=i,this.minSignalPowerdBmLevel=s[0],this.minSignalAmplitudeValue=Math.sqrt(Math.pow(10,(s[0]-30)/10)),this.maxSignalPowerdBmLevel=s[1],this.maxSignalAmplitudeValue=Math.sqrt(Math.pow(10,(s[1]-30)/10)),this.PMLVaccumWidth=20,this.PMLBoundaryWidth=50,this.rowColumnOffset=this.PMLBoundaryWidth+this.PMLVaccumWidth,this.gridHeightSize=T(a/r,0),this.gridWidthSize=T(o/r,0),this.mainComponentThis=n,r=o/this.gridWidthSize,this.gridWidthSize+=2*(this.PMLVaccumWidth+this.PMLBoundaryWidth),this.gridHeightSize+=2*(this.PMLVaccumWidth+this.PMLBoundaryWidth),ya.log("Grid dimensions "+this.gridHeightSize+" x "+this.gridWidthSize),ya.log(t),ya.log(e),this.electricFieldCanvas=document.createElement("canvas"),this.electricFieldCanvas.width=this.gridWidthSize-2*this.rowColumnOffset,this.electricFieldCanvas.height=this.gridHeightSize-2*this.rowColumnOffset,this.electricFieldCanvasCtx=this.electricFieldCanvas.getContext("2d"),this.electricFieldCanvasImage=this.electricFieldCanvasCtx.getImageData(0,0,this.gridWidthSize-2*this.rowColumnOffset,this.gridHeightSize-2*this.rowColumnOffset),this.electricFieldCanvasImageData=this.electricFieldCanvasImage.data,this.signalPropagationWorker=new ba,this.signalPropagationWorker.postMessage({sourceCoordX:t,sourceCoordY:e,boxWallCoordinates:this.mainComponentThis.boxWallCoordinates,meterFactor:this.mainComponentThis.meter,signalFrequency:i,maxSignalPowerdBmLevel:this.maxSignalPowerdBmLevel,maxSignalAmplitudeValue:this.maxSignalAmplitudeValue,gridWidthSize:this.gridWidthSize,gridHeightSize:this.gridHeightSize,gridResolutionMeters:r,PMLVaccumWidth:this.PMLVaccumWidth,PMLBoundaryWidth:this.PMLBoundaryWidth,WALLS:this.mainComponentThis.WALLS.map((t=>({material:t.material,coords:t.coords}))),message:"signalFDTDSimulation",fdtdBoundaryType:"PML",fdtdMessageType:"startAnimation"}),this.signalPropagationWorker.onmessage=t=>this.webWorkerMessageEventHandler(t,this),this.signalPropagationWorker.onerror=()=>{n.boxInfo.current.innerHTML="Error while generating signal propagation animation",n.simulateTestingRightBoxRef.current.onStopAnimationClick()}}webWorkerMessageEventHandler(t,e){e.mainComponentThis.simulateTestingCanvasContext.save(),e.mainComponentThis.simulateTestingCanvasContext.scale(e.mainComponentThis.heatmapCanvasZoomFactor,e.mainComponentThis.heatmapCanvasZoomFactor),e.mainComponentThis.simulateTestingCanvasContext.translate(-e.mainComponentThis.originX_viewbox,-e.mainComponentThis.originY_viewbox);for(let i=this.rowColumnOffset;i<e.gridHeightSize-this.rowColumnOffset;i++)for(let s=this.rowColumnOffset;s<e.gridWidthSize-this.rowColumnOffset;s++){const n=4*((i-this.rowColumnOffset)*(e.gridWidthSize-2*this.rowColumnOffset)+(s-this.rowColumnOffset)),o=4*T(255*(t.data.electricFieldPowerMatrix[i][s]-e.minSignalPowerdBmLevel)/(e.maxSignalPowerdBmLevel-e.minSignalPowerdBmLevel),0);void 0!==ht[o]?(e.electricFieldCanvasImageData[n]=ht[o],e.electricFieldCanvasImageData[n+1]=ht[o+1],e.electricFieldCanvasImageData[n+2]=ht[o+2],e.electricFieldCanvasImageData[n+3]=ht[o+3]):(e.electricFieldCanvasImageData[n]=255,e.electricFieldCanvasImageData[n+1]=255,e.electricFieldCanvasImageData[n+2]=255,e.electricFieldCanvasImageData[n+3]=255)}e.electricFieldCanvasImage.data.set(e.electricFieldCanvasImageData),e.electricFieldCanvasCtx.putImageData(e.electricFieldCanvasImage,0,0),e.mainComponentThis.floorplanRoomsClippingCanvas.getContext("2d").drawImage(e.electricFieldCanvas,0,0,e.gridWidthSize-2*this.rowColumnOffset,e.gridHeightSize-2*this.rowColumnOffset,0,0,e.mainComponentThis.boxWallCoordinates.width,e.mainComponentThis.boxWallCoordinates.height),e.mainComponentThis.simulateTestingCanvasContext.drawImage(e.mainComponentThis.floorplanRoomsClippingCanvas,e.mainComponentThis.boxWallCoordinates.minX,e.mainComponentThis.boxWallCoordinates.minY,e.mainComponentThis.boxWallCoordinates.width,e.mainComponentThis.boxWallCoordinates.height),e.mainComponentThis.simulateTestingRightBoxRef.current.onSimulateTestingCanvasDrawedCallback("animation"),e.mainComponentThis.simulateTestingCanvasContext.restore(),"simulationFinished"===t.data.message&&e.animationFinishedEventHandler()}animationFinishedEventHandler(){this.mainComponentThis.simulateTestingRightBoxRef.current.setAnimationFinished(),this.signalPropagationWorker.terminate()}pauseAnimationEventHandler(){this.signalPropagationWorker.postMessage({message:"signalFDTDSimulation",fdtdBoundaryType:"PML",fdtdMessageType:"pauseAnimation"})}playAnimationEventHandler(){this.signalPropagationWorker.postMessage({message:"signalFDTDSimulation",fdtdBoundaryType:"PML",fdtdMessageType:"playAnimation"})}stopAnimationEventHandler(){this.signalPropagationWorker.terminate()}}function Ta(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:868e6,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-105,o=[];for(let n=0;n<this.WALLS.length;n++){const t=St(this.WALLS[n]);o.push(Math.floor(t.minX),Math.floor(t.maxX),Math.floor(t.minY),Math.floor(t.maxY),pt[this.WALLS[n].material])}n.render((0,u.jsx)(ra,{}),this.loadingComponentContainer.current,(()=>{window.fetch("http://127.0.0.1:8080/api/helmholtz",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({floorplanwalls:o,sourceCoordinatesX:t,sourceCoordinatesY:e,noiseLevel:s,boxScaleMinX:this.boxWallCoordinates.minX,boxScaleMinY:this.boxWallCoordinates.minY,floorplanPixelsWidth:this.boxWallCoordinates.width,floorplanPixelsHeight:this.boxWallCoordinates.height,frequency:i})}).then((t=>t.json().then((t=>{this.simulateTestingCanvasContext.clearRect(0,0,this.taille_w,this.taille_h),this.simulateTestingCanvasContext.save(),this.simulateTestingCanvasContext.scale(this.heatmapCanvasZoomFactor,this.heatmapCanvasZoomFactor),this.simulateTestingCanvasContext.translate(-this.originX_viewbox,-this.originY_viewbox);let e=new Image;e.onload=()=>{this.floorplanRoomsClippingCanvas.getContext("2d").drawImage(e,0,0,this.boxWallCoordinates.width,this.boxWallCoordinates.height),this.simulateTestingCanvasContext.drawImage(this.floorplanRoomsClippingCanvas,this.boxWallCoordinates.minX,this.boxWallCoordinates.minY,this.boxWallCoordinates.width,this.boxWallCoordinates.height),this.simulateTestingRightBoxRef.current.onSimulateTestingCanvasDrawedCallback("static"),this.simulateTestingCanvasContext.restore(),n.unmountComponentAtNode(this.loadingComponentContainer.current)},e.src=t.attrs.src})))).catch((t=>{this.boxInfo.current.innerHTML="Cannot generate static image",ya.log(t),n.unmountComponentAtNode(this.loadingComponentContainer.current)}))}))}var Pa=i(1244),Ia=i(3162),ja=i(3013),Ra=i(9286);class Ma extends s.Component{render(){return(0,u.jsxs)("div",{ref:this.props.containerRef,style:this.props.containerStyle||{},className:"rightBox right-box-transition ".concat(this.props.containerClasses||""),children:[(0,u.jsx)("div",{title:this.props.closeButtonTitle||"Close",className:"close-rightBox",onClick:this.props.onCloseRightBox,children:(0,u.jsx)(Ss.Z,{})}),this.props.children]})}}const Ba=Ma;class Da extends s.Component{constructor(t){var e;super(t),e=this,this.isRaybasedHeatmapRendered=()=>!this.canvasCleared&&"static-raybased"===this.state.simulateTestingType,this.onSimulateTestingCanvasDrawedCallback=t=>{this.canvasCleared=!1,"static-raybased"===t&&(this.props.mainComponentThis.boxInfo.current.innerHTML="Press any point on simulation image to view more details.",this.props.mainComponentThis.closeDrawingAreaPopup())},this.calculateSourceLocationSvgLocation=()=>[T(He(parseFloat(this.state.edit.find((t=>"source_distanceX"===t.field)).value),this.props.mainComponentThis.context.userUnit)*this.props.mainComponentThis.meter+this.props.mainComponentThis.boxWallCoordinates.minX,0),T(He(parseFloat(this.state.edit.find((t=>"source_distanceY"===t.field)).value),this.props.mainComponentThis.context.userUnit)*this.props.mainComponentThis.meter+this.props.mainComponentThis.boxWallCoordinates.minY,0)],this.updateHeatmapColorLegendMaxMinValues=()=>{this.signalRssiColorMinPrevious=this.signalRssiColorMin,this.props.mainComponentThis.heatmapColorLegendRef.current.setHeatmapColorLegendMaxMinValues(this.signalRssiColorMin,this.signalRssiColorMax)},this.onHeatmapColorRangeMinValueChangeCallback=()=>{this.updateHeatmapColorLegendMaxMinValues(),this.setState({heatmapColorMinSelectedSf:null})},this.onHeatmapColorRangeSliderChangeCallback=()=>{this.signalRssiColorMinPrevious!==this.signalRssiColorMin&&this.setState({heatmapColorMinSelectedSf:null}),this.updateHeatmapColorLegendMaxMinValues()},this.getSourceLocationInputValues=()=>{const t=this.state.edit.find((t=>"source_distanceX"===t.field)).value,e=this.state.edit.find((t=>"source_distanceY"===t.field)).value;return{distanceXValue:""!==t?parseFloat(t):"",distanceYValue:""!==e?parseFloat(e):""}},this.simulateTestingSetSourceLocationSvgPosition=(t,e)=>{t=He(t,this.props.mainComponentThis.context.userUnit),e=He(e,this.props.mainComponentThis.context.userUnit);const i=t*this.props.mainComponentThis.meter+this.props.mainComponentThis.boxWallCoordinates.minX,s=e*this.props.mainComponentThis.meter+this.props.mainComponentThis.boxWallCoordinates.minY;this.props.mainComponentThis.boxBind.current.querySelector("#sourceLocation")||this.props.mainComponentThis.createSourceLocationSvgBinder(i,s),this.props.mainComponentThis.setSourceLocationSvgPosition(i,s),this.props.mainComponentThis.checkSimulateTestingSourceLocationIsValid()},this.setSourceLocationSvgOpacity=t=>{const e=this.props.mainComponentThis.boxBind.current.querySelector("#sourceLocation");e&&(e.style.opacity=t)},this.onSourceDistanceChange=t=>e=>{this.clearCanvases(),this.setSourceLocationSvgOpacity(1);const i=parseFloat("source_distanceX"===t.field?e:this.state.edit.find((t=>"source_distanceX"===t.field)).value),s=parseFloat("source_distanceY"===t.field?e:this.state.edit.find((t=>"source_distanceY"===t.field)).value);this.simulateTestingSetSourceLocationSvgPosition(i,s),this.onChange(t)(e)},this.onChange=t=>function(i){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.selectInput&&(i=i.target.value);const n=e.state.edit.map((e=>e.field===t.field?{...e,value:i}:{...e}));st(n,(t=>e.setState({simulateTestingParametersIsValid:!t.find((t=>t.error))&&!e.state.setSourcePositionMode&&e.props.mainComponentThis.simulateTestingSourceLocationIsValid,edit:t},(()=>!!s&&s()))))},this.getSimulateTestingRssiColorValues=()=>({min:this.signalRssiColorMin,max:this.signalRssiColorMax}),this.onSimulateTestingTypeChange=t=>{if(!this.state.setSourcePositionMode&&!this.simulateTestingParametersContainerRef.current.classList.contains("disabled")){const e=Ge(this.props.mainComponentThis.boxWallCoordinates.width/this.props.mainComponentThis.meter*(this.props.mainComponentThis.boxWallCoordinates.height/this.props.mainComponentThis.meter),this.props.mainComponentThis.context.userUnit);"animation"===t&&e>this.props.mainComponentThis.simulateTestingAnimationMaxFloorplanSurface?wt(this.props.mainComponentThis.simulateTestingAnimationLargeFloorplanAlertModal.current,this.props.mainComponentThis.modalTimeout):(this.clearCanvases(),this.setSourceLocationSvgOpacity(1),this.setState({simulateTestingType:t===this.state.simulateTestingType?null:t}))}},this.onGenerateStaticImageClick=()=>{this.props.mainComponentThis.zoom_maker("zoomreset",this.props.mainComponentThis.zoomXMove,this.props.mainComponentThis.zoomXView),this.props.mainComponentThis.signalHeatmapStaticImage(...this.calculateSourceLocationSvgLocation(),this.state.edit.find((t=>t.selectInput)).value.value,[this.signalRssiColorMin,this.signalRssiColorMax])},this.removeSourceLocationTools=t=>{if(t){const t=this.props.mainComponentThis.boxBind.current.querySelector("#sourceLocation");t&&t.remove(),this.props.mainComponentThis.binder=null}Ot(this.props.mainComponentThis.indoorPlanningCorrectAreaBox.current)},this.toggleSourcePositionButton=t=>{let e;for(let i=0;i<this.state.edit.length&&(e=this.state.edit[i].validate&&this.state.edit[i].validate(this.state.edit[i].value),!e);i++);t&&this.state.setSourcePositionMode&&(e?this.removeSourceLocationTools(!0):this.simulateTestingSetSourceLocationSvgPosition(parseFloat(this.state.edit.find((t=>"source_distanceX"===t.field)).value),parseFloat(this.state.edit.find((t=>"source_distanceY"===t.field)).value))),this.setState({setSourcePositionMode:!this.state.setSourcePositionMode,simulateTestingParametersIsValid:!e&&this.state.setSourcePositionMode&&this.props.mainComponentThis.simulateTestingSourceLocationIsValid})},this.onSourcePositionButtonClick=()=>{this.state.setSourcePositionMode?(this.removeSourceLocationTools(!1),this.props.mainComponentThis.mode="simulate_testing_mode"):(this.state.simulateTestingType&&this.onSimulateTestingTypeChange(this.state.simulateTestingType),this.props.mainComponentThis.createIndoorPlanningCorrectArea(),this.props.mainComponentThis.mode="select_source_location_active"),this.toggleSourcePositionButton(!0)},this.onExitSimulateTestingClick=()=>{this.props.mainComponentThis.restoreMainLeftPanel(),this.rightBoxControlClick.current.style.right="-30px",this.rightBoxControlClick.current.style.transform="translateX(0px)",this.props.mainComponentThis.translateRightBox(this.props.rightBoxContainerRef.current,250,!1),n.unmountComponentAtNode(this.props.mainComponentThis.rssiColorHeatmapLegendContainer.current),this.removeSourceLocationTools(!0),this.setState({simulateTestingType:null,animationPaused:!0,animationFinished:!1,setSourcePositionMode:!1},(()=>{this.state.animationRunning&&this.onStopAnimationClick(),!this.state.animationRunning&&this.clearCanvases(),this.props.mainComponentThis.foncButton("select_mode"),this.props.mainComponentThis.simulateTestingCanvasRef.current.style.zIndex=3,mt.map((t=>this.props.mainComponentThis.linRef.current.querySelector(t).style.setProperty("opacity",1)));let t=this.props.mainComponentThis.linRef.current.querySelector("#boxCarpentry").children;for(let e of t)("text"===e.getAttribute("data-object-class")||"doorWindow"===e.getAttribute("data-object-class")&&"simple"===e.getAttribute("data-object-type"))&&(e.style.opacity=1)}))},this.setSourceDistanceValues=(t,e)=>{const i=We(t/this.props.mainComponentThis.meter,this.props.mainComponentThis.context.userUnit,"meter","feet",this.decimalPrecision),s=We(e/this.props.mainComponentThis.meter,this.props.mainComponentThis.context.userUnit,"meter","feet",this.decimalPrecision),n=this.state.edit.find((t=>"source_distanceX"===t.field)),o=this.state.edit.find((t=>"source_distanceY"===t.field));this.onChange(n)(i,(()=>this.onChange(o)(s))),n.ref.current.setValue(i),o.ref.current.setValue(s)},this.hideRightBox=()=>{this.props.mainComponentThis.translateRightBox(this.props.rightBoxContainerRef.current,0,!1),this.rightBoxControlClick.current.title="Show simulate testing options",this.rightBoxControlClick.current.style.transform="translateX(0px)",this.rightBoxControlClick.current.children[0].style.transform="rotate(0deg)"},this.onSimulateTestingRightBoxControlClick=()=>{"translateX(-250px)"===this.props.rightBoxContainerRef.current.style.transform?this.hideRightBox():(this.props.mainComponentThis.translateRightBox(this.props.rightBoxContainerRef.current,-250,!0),this.rightBoxControlClick.current.title="Hide simulate testing options",this.rightBoxControlClick.current.style.transform="translateX(-250px)",this.rightBoxControlClick.current.children[0].style.transform="rotate(180deg)")},this.onRepeatAnimationClick=()=>{this.signalPropagationAnimationInstance=null,this.setState({animationRunning:!1,animationPaused:!1,animationFinished:!1},(()=>this.onPlayAnimationClick()))},this.onStopAnimationClick=()=>{this.clearCanvases(),this.simulateTestingParametersContainerRef.current.classList.remove("disabled"),this.setSourceLocationSvgOpacity(1),this.signalPropagationAnimationInstance.stopAnimationEventHandler(),this.signalPropagationAnimationInstance=null,this.setState({animationRunning:!1,animationPaused:!0,simulateTestingType:null,animationFinished:!1})},this.onPlayAnimationClick=()=>{this.state.animationRunning?this.signalPropagationAnimationInstance.playAnimationEventHandler():(this.props.mainComponentThis.zoom_maker("zoomreset",this.props.mainComponentThis.zoomXMove,this.props.mainComponentThis.zoomXView),this.simulateTestingParametersContainerRef.current.classList.add("disabled"),this.setSourceLocationSvgOpacity(0),this.signalPropagationAnimationInstance=new Sa(...this.calculateSourceLocationSvgLocation(),this.state.edit.find((t=>t.selectInput)).value.value,[this.signalRssiColorMin,this.signalRssiColorMax],this.props.mainComponentThis)),this.setState({animationRunning:!0,animationPaused:!1})},this.onPauseAnimationClick=()=>{this.signalPropagationAnimationInstance.pauseAnimationEventHandler(),this.setState({animationPaused:!0})},this.setAnimationFinished=()=>this.setState({animationFinished:!0,animationPaused:!0,animationRunning:!1}),this.clearCanvases=()=>{this.props.mainComponentThis.simulateTestingCanvasContext.clearRect(0,0,this.props.mainComponentThis.taille_w,this.props.mainComponentThis.taille_h);const t=this.props.mainComponentThis.floorplanRoomsClippingCanvas.getContext("2d");t.restore(),t.clearRect(0,0,this.props.mainComponentThis.boxWallCoordinates.width,this.props.mainComponentThis.boxWallCoordinates.height),this.props.mainComponentThis.createFloorplanRoomsClippingCanvasPath(),this.canvasCleared=!0,this.props.mainComponentThis.boxInfo.current.innerHTML=""},this.onExportPngClick=()=>{this.props.mainComponentThis.downloadSvg(!0,!0,!0,!1,!1,!0)},this.onGenerateStaticRayBasedImageClick=()=>{this.props.mainComponentThis.useGenerateHMWebWorkers?(this.props.mainComponentThis.zoom_maker("zoomreset",this.props.mainComponentThis.zoomXMove,this.props.mainComponentThis.zoomXView),this.props.mainComponentThis.rayBasedMotelyKeenansModel(...this.calculateSourceLocationSvgLocation(),this.state.edit.find((t=>t.selectInput)).value.value,[this.signalRssiColorMin,this.signalRssiColorMax],this.sourcePowerdBW)):this.setState({visibleStaticRayBasedHeatmapNotSupportedErrorPopup:!0})},this.onHeatmapColorMinValueSfClick=t=>{this.simulateTestingHeatmapColorRangeRef.current.setColorRangeMinValue(t.value),this.updateHeatmapColorLegendMaxMinValues(),this.setState({heatmapColorMinSelectedSf:t})},this.calculateRaybasedHeatmapPointData=(t,e)=>this.props.mainComponentThis.calculateMotelyKeenansModelDataForPoint(...this.calculateSourceLocationSvgLocation(),t,e,this.state.edit.find((t=>t.selectInput)).value.value,this.sourcePowerdBW),this.state={edit:null,simulateTestingType:null,animationRunning:!1,animationPaused:!0,animationFinished:!1,simulateTestingParametersIsValid:!1,setSourcePositionMode:!1,visibleStaticRayBasedHeatmapNotSupportedErrorPopup:!1,heatmapColorMinSelectedSf:null},this.signalPropagationAnimationInstance=null,this.signalRssiColorMin=-135,this.signalRssiColorMinPrevious=-135,this.signalRssiColorMax=-75,this.signalRssiColorRangeMin=-140,this.signalRssiColorRangeMax=-20,this.inputStep=(t.mainComponentThis.context.userUnit,.1),this.decimalPrecision=(t.mainComponentThis.context.userUnit,1),this.sourcePowerdBW=-16,this.canvasCleared=!0,this.rightBoxControlClick=s.createRef(),this.simulateTestingParametersContainerRef=s.createRef(),this.simulateTestingHeatmapColorRangeRef=s.createRef(),this.onChange=this.onChange.bind(this),this.onSourceDistanceChange=this.onSourceDistanceChange.bind(this),this.onSimulateTestingCanvasDrawedCallback=this.onSimulateTestingCanvasDrawedCallback.bind(this),this.isRaybasedHeatmapRendered=this.isRaybasedHeatmapRendered.bind(this),this.getSimulateTestingRssiColorValues=this.getSimulateTestingRssiColorValues.bind(this),this.onSimulateTestingTypeChange=this.onSimulateTestingTypeChange.bind(this),this.onGenerateStaticImageClick=this.onGenerateStaticImageClick.bind(this),this.onExitSimulateTestingClick=this.onExitSimulateTestingClick.bind(this),this.onSourcePositionButtonClick=this.onSourcePositionButtonClick.bind(this),this.setSourceDistanceValues=this.setSourceDistanceValues.bind(this),this.hideRightBox=this.hideRightBox.bind(this),this.onSimulateTestingRightBoxControlClick=this.onSimulateTestingRightBoxControlClick.bind(this),this.onRepeatAnimationClick=this.onRepeatAnimationClick.bind(this),this.onStopAnimationClick=this.onStopAnimationClick.bind(this),this.onPlayAnimationClick=this.onPlayAnimationClick.bind(this),this.onPauseAnimationClick=this.onPauseAnimationClick.bind(this),this.setAnimationFinished=this.setAnimationFinished.bind(this),this.toggleSourcePositionButton=this.toggleSourcePositionButton.bind(this),this.removeSourceLocationTools=this.removeSourceLocationTools.bind(this),this.clearCanvases=this.clearCanvases.bind(this),this.simulateTestingSetSourceLocationSvgPosition=this.simulateTestingSetSourceLocationSvgPosition.bind(this),this.getSourceLocationInputValues=this.getSourceLocationInputValues.bind(this),this.setSourceLocationSvgOpacity=this.setSourceLocationSvgOpacity.bind(this),this.onExportPngClick=this.onExportPngClick.bind(this),this.onGenerateStaticRayBasedImageClick=this.onGenerateStaticRayBasedImageClick.bind(this),this.updateHeatmapColorLegendMaxMinValues=this.updateHeatmapColorLegendMaxMinValues.bind(this),this.onHeatmapColorMinValueSfClick=this.onHeatmapColorMinValueSfClick.bind(this),this.onHeatmapColorRangeMinValueChangeCallback=this.onHeatmapColorRangeMinValueChangeCallback.bind(this),this.onHeatmapColorRangeSliderChangeCallback=this.onHeatmapColorRangeSliderChangeCallback.bind(this),this.calculateRaybasedHeatmapPointData=this.calculateRaybasedHeatmapPointData.bind(this),this.calculateSourceLocationSvgLocation=this.calculateSourceLocationSvgLocation.bind(this)}componentDidMount(){const t=ps.map((t=>{let e={};return e=t.selectInput?{...t,value:t.options[0]}:{...t,value:""},"source_distanceX"!==t.field&&"source_distanceY"!==t.field||(e.ref=s.createRef()),e}));this.setState({edit:t},(()=>this.simulateTestingHeatmapColorRangeRef.current.setHeatmapColorValues([this.signalRssiColorMin,this.signalRssiColorMax],{mainComponentThisMinPropertyName:"signalRssiColorMin",mainComponentThisMaxPropertyName:"signalRssiColorMax",mainComponentThisMinRangePropertyName:"signalRssiColorRangeMin",mainComponentThisMaxRangePropertyName:"signalRssiColorRangeMax"})))}render(){const t=this.state.edit&&this.state.edit.filter((t=>"source_distanceX"===t.field||"source_distanceY"===t.field));return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(Ba,{containerStyle:{width:250,right:-250},containerRef:this.props.rightBoxContainerRef,closeButtonTitle:"Exit simulate testing",onCloseRightBox:this.onExitSimulateTestingClick,children:(0,u.jsxs)("div",{className:"simulate-testing-right-box-container",children:[(0,u.jsx)("h3",{className:"title",children:"Simulate testing options"}),(0,u.jsx)("div",{ref:this.simulateTestingParametersContainerRef,className:"simulate-testing-parameters-container",children:this.state.edit&&(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"source-distances-controls-container",children:[(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsxs)("div",{className:"source-distance-title-container",children:[(0,u.jsx)("h3",{children:"Source distances(".concat("metric"===this.props.mainComponentThis.context.userUnit?"m":"ft",")")}),(0,u.jsx)(ti,{infoText:(0,u.jsxs)("span",{children:["Listed distances are relative to the"," ",(0,u.jsx)("span",{style:{fontWeight:"bold"},children:"top left"})," corner of floorplan bounding box"]}),explanationInfoBoxStyles:{left:-170,width:150}})]}),(0,u.jsx)("div",{className:"dual-input-source-distance-container",children:t.map((t=>(0,u.jsx)(ui,{containerClasses:"source-distance-container",label:t.label,children:(0,u.jsx)(oi,{ref:t.ref,inputMin:this.inputStep,inputMax:1/0,inputStep:this.inputStep,inputClasses:"".concat(t.error?"is-invalid":""),placeholder:t.placeholder,onInputValueChanged:this.onSourceDistanceChange(t)})},t.field)))}),(t[0].error||t[1].error)&&(0,u.jsx)("div",{className:"form-control-feedback-control",children:(0,u.jsx)("div",{className:"form-control feedback ".concat(t[0].error?"":"right-spike"),children:t[0].error||t[1].error})})]}),(0,u.jsx)("div",{className:"button-centered-container",children:(0,u.jsx)(Ue,{type:this.state.setSourcePositionMode?"blue":"light-blue",onClick:this.onSourcePositionButtonClick,children:this.state.setSourcePositionMode?"Source position set":"Set source position"})})]})}),(0,u.jsx)(pi,{label:this.state.edit.find((t=>t.selectInput)).label,containerClasses:"center-frequency-container",selectInput:!0,fullWidth:!0,item:this.state.edit.find((t=>t.selectInput)),onChange:this.onChange}),(0,u.jsx)(Ti.Z,{theme:_i,children:(0,u.jsx)(ea,{ref:this.simulateTestingHeatmapColorRangeRef,onColorRangeMinInputChangeCallback:this.onHeatmapColorRangeMinValueChangeCallback,onColorRangeMinBlurElseCallback:this.onHeatmapColorRangeMinValueChangeCallback,onColorRangeMinPlusMinusChangeCallback:this.onHeatmapColorRangeMinValueChangeCallback,onColorRangeMaxInputChangeCallback:this.updateHeatmapColorLegendMaxMinValues,onColorRangeMaxBlurElseCallback:this.updateHeatmapColorLegendMaxMinValues,onColorRangeMaxPlusMinusChangeCallback:this.updateHeatmapColorLegendMaxMinValues,onColorSliderChangeCallback:this.onHeatmapColorRangeSliderChangeCallback,mainComponentThis:this})}),(0,u.jsx)("div",{className:"badge-list",style:{marginBottom:0,marginTop:"0.5rem",padding:"0 5px"},children:gt.map(((t,e)=>(0,u.jsx)(Ue,{type:this.state.heatmapColorMinSelectedSf===t?"border-primary":"dull",style:{margin:0,marginBottom:"0.5rem",marginRight:e===gt.length-1?0:"0.5rem"},onClick:()=>this.onHeatmapColorMinValueSfClick(t),children:t.name},t.name)))})]})}),this.state.simulateTestingParametersIsValid&&(0,u.jsxs)("div",{style:{width:"100%"},children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(ci,{title:"Show real-time animation",checked:"animation"===this.state.simulateTestingType,disabled:"undefined"===typeof Worker,onChange:()=>this.onSimulateTestingTypeChange("animation"),infoLabel:!0,infoLabelTitle:"Real-time animation",infoText:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsxs)("span",{children:["This option will show you a real-time ",(0,u.jsx)("span",{style:{fontWeight:"bold"},children:"animation"})," of signal propagation inside the floorplan"]}),"undefined"===typeof Worker&&(0,u.jsx)("div",{style:{fontWeight:"bold",textAlign:"center"},children:"Not available inside this browser"})]}),explanationInfoBoxStyles:{left:-200,width:180,zIndex:1}}),"animation"===this.state.simulateTestingType&&(0,u.jsxs)("div",{className:"simulate-testing-type-controls-container",children:[(0,u.jsxs)("div",{className:"simulate-testing-animation-controls",children:[(this.state.animationFinished||this.state.animationRunning)&&(0,u.jsx)("div",{title:"Stop animation",className:"svg-center-inside-container",onClick:this.onStopAnimationClick,children:(0,u.jsx)(Ra.Z,{})}),!this.state.animationFinished&&(0,u.jsx)("div",{title:this.state.animationPaused?this.state.animationRunning?"Resume":"Start animation":"Pause",className:"svg-center-inside-container",onClick:()=>this.state.animationPaused?this.onPlayAnimationClick():this.onPauseAnimationClick(),children:this.state.animationPaused?(0,u.jsx)(Pa.Z,{}):(0,u.jsx)(Ia.Z,{})}),this.state.animationFinished&&(0,u.jsx)("div",{title:"Repeat",className:"svg-center-inside-container",onClick:this.onRepeatAnimationClick,children:(0,u.jsx)(ja.Z,{})})]}),(0,u.jsxs)("span",{children:[(0,u.jsx)("b",{children:"NOTE: "}),"In order to change heatmap type or parameters animation must be stopped"]})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(ci,{title:"Show static image",checked:"static-raybased"===this.state.simulateTestingType,onChange:()=>this.onSimulateTestingTypeChange("static-raybased"),infoLabel:!0,infoLabelTitle:"Static image",infoText:(0,u.jsxs)("span",{children:["This option will show you an ",(0,u.jsx)("span",{style:{fontWeight:"bold"},children:"image"})," of signal strength based on different types of attenuations"]}),explanationInfoBoxStyles:{left:-200,width:180,zIndex:1}}),"static-raybased"===this.state.simulateTestingType&&(0,u.jsx)("div",{className:"simulate-testing-type-controls-container",children:(0,u.jsx)(Ue,{type:"primary",style:{marginTop:"0.5rem"},onClick:this.onGenerateStaticRayBasedImageClick,children:"Generate image"})})]}),(0,u.jsx)("br",{}),(0,u.jsx)("div",{children:(0,u.jsxs)("button",{className:"btn btn-default fully panel-icon-button-container",title:"Export as PNG",style:{justifyContent:"center"},onClick:this.onExportPngClick,children:[(0,u.jsx)(Ln.Z,{}),(0,u.jsx)("p",{children:"EXPORT PNG"})]})})]})]})}),(0,u.jsx)("div",{ref:this.rightBoxControlClick,title:"Hide heatmap parameters",className:"panel-control-container right-box-control right-box-transition svg-center-inside-container",style:{right:-30},onClick:this.onSimulateTestingRightBoxControlClick,children:(0,u.jsx)(Go.Z,{className:"right-box-transition"})}),(0,u.jsx)(Fs,{visible:this.state.visibleStaticRayBasedHeatmapNotSupportedErrorPopup,loading:!1,error:(0,u.jsxs)("span",{children:[(0,u.jsx)("span",{children:"Ooops. Looks like selected simulation type is not supported on your browser/browser version."}),(0,u.jsx)("br",{}),(0,u.jsxs)("span",{children:["Please use one of the green painted browser from"," ",(0,u.jsx)("a",{target:"_blank",href:"https://caniuse.com/webworkers",rel:"noreferrer",children:"this list"})]})]}),singleButton:!0,statePropertyName:"visibleStaticRayBasedHeatmapNotSupportedErrorPopup",setChoice:this.setState.bind(this)})]})}}const La=Da;class Na extends s.Component{render(){return(0,u.jsxs)("defs",{children:[(0,u.jsxs)("linearGradient",{id:"gradientRed",x1:"0%",y1:"0%",x2:"100%",y2:"100%",spreadMethod:"pad",children:[(0,u.jsx)("stop",{offset:"0%",stopColor:"#e65d5e",stopOpacity:1}),(0,u.jsx)("stop",{offset:"100%",stopColor:"#e33b3c",stopOpacity:1})]}),(0,u.jsxs)("linearGradient",{id:"gradientYellow",x1:"0%",y1:"0%",x2:"100%",y2:"100%",spreadMethod:"pad",children:[(0,u.jsx)("stop",{offset:"0%",stopColor:"#FDEB71",stopOpacity:1}),(0,u.jsx)("stop",{offset:"100%",stopColor:"#F8D800",stopOpacity:1})]}),(0,u.jsxs)("linearGradient",{id:"gradientGreen",x1:"0%",y1:"0%",x2:"100%",y2:"100%",spreadMethod:"pad",children:[(0,u.jsx)("stop",{offset:"0%",stopColor:"#c0f7d9",stopOpacity:1}),(0,u.jsx)("stop",{offset:"100%",stopColor:"#6ce8a3",stopOpacity:1})]}),(0,u.jsxs)("linearGradient",{id:"gradientSky",x1:"0%",y1:"0%",x2:"100%",y2:"100%",spreadMethod:"pad",children:[(0,u.jsx)("stop",{offset:"0%",stopColor:"#c4e0f4",stopOpacity:1}),(0,u.jsx)("stop",{offset:"100%",stopColor:"#87c8f7",stopOpacity:1})]}),(0,u.jsxs)("linearGradient",{id:"gradientOrange",x1:"0%",y1:"0%",x2:"100%",y2:"100%",spreadMethod:"pad",children:[(0,u.jsx)("stop",{offset:"0%",stopColor:"#f9ad67",stopOpacity:1}),(0,u.jsx)("stop",{offset:"100%",stopColor:"#f97f00",stopOpacity:1})]}),(0,u.jsxs)("linearGradient",{id:"gradientWhite",x1:"0%",y1:"0%",x2:"100%",y2:"100%",spreadMethod:"pad",children:[(0,u.jsx)("stop",{offset:"0%",stopColor:"#ffffff",stopOpacity:1}),(0,u.jsx)("stop",{offset:"100%",stopColor:"#f0f0f0",stopOpacity:1})]}),(0,u.jsxs)("linearGradient",{id:"gradientGrey",x1:"0%",y1:"0%",x2:"100%",y2:"100%",spreadMethod:"pad",children:[(0,u.jsx)("stop",{offset:"0%",stopColor:"#666",stopOpacity:1}),(0,u.jsx)("stop",{offset:"100%",stopColor:"#aaa",stopOpacity:1})]}),(0,u.jsxs)("linearGradient",{id:"gradientBlue",x1:"0%",y1:"0%",x2:"100%",y2:"100%",spreadMethod:"pad",children:[(0,u.jsx)("stop",{offset:"0%",stopColor:"#4f72a6",stopOpacity:1}),(0,u.jsx)("stop",{offset:"100%",stopColor:"#365987",stopOpacity:1})]}),(0,u.jsxs)("linearGradient",{id:"gradientPurple",x1:"0%",y1:"0%",x2:"100%",y2:"100%",spreadMethod:"pad",children:[(0,u.jsx)("stop",{offset:"0%",stopColor:"#E2B0FF",stopOpacity:1}),(0,u.jsx)("stop",{offset:"100%",stopColor:"#9F44D3",stopOpacity:1})]}),(0,u.jsxs)("linearGradient",{id:"gradientPink",x1:"0%",y1:"0%",x2:"100%",y2:"100%",spreadMethod:"pad",children:[(0,u.jsx)("stop",{offset:"0%",stopColor:"#f6c4dd",stopOpacity:1}),(0,u.jsx)("stop",{offset:"100%",stopColor:"#f699c7",stopOpacity:1})]}),(0,u.jsxs)("linearGradient",{id:"gradientBlack",x1:"0%",y1:"0%",x2:"100%",y2:"100%",spreadMethod:"pad",children:[(0,u.jsx)("stop",{offset:"0%",stopColor:"#3c3b3b",stopOpacity:1}),(0,u.jsx)("stop",{offset:"100%",stopColor:"#000000",stopOpacity:1})]}),(0,u.jsxs)("linearGradient",{id:"gradientNeutral",x1:"0%",y1:"0%",x2:"100%",y2:"100%",spreadMethod:"pad",children:[(0,u.jsx)("stop",{offset:"0%",stopColor:"#dbc6a0",stopOpacity:1}),(0,u.jsx)("stop",{offset:"100%",stopColor:"#c69d56",stopOpacity:1})]}),(0,u.jsxs)("radialGradient",{id:"uploadFloorplanCursorCircleGradient",children:[(0,u.jsx)("stop",{offset:"0%",stopColor:"#CD0404"}),(0,u.jsx)("stop",{offset:"100%",stopColor:"#FF5D5D"})]}),this.props.wallMaterials.map(((t,e)=>e>0?(0,u.jsx)("pattern",{id:t.id,patternUnits:"userSpaceOnUse",width:t.width,height:t.height,children:(0,u.jsx)("image",{href:t.href,x:0,y:0,width:t.width,height:t.height})},t.id):null)),(0,u.jsx)(Ro,{UserPermissionsContext:this.props.UserPermissionsContext,svgMeterUnits:this.props.svgMeterUnits,imperialSystemSquareFeetSize:this.props.imperialSystemSquareFeetSize}),(0,u.jsx)("pattern",{id:"floorplan_image_pattern",ref:this.props.floorplanImagePattern,width:0,height:0,patternUnits:"userSpaceOnUse",children:(0,u.jsx)("image",{ref:this.props.floorplanImage,href:"#",x:0,y:0,width:0,height:0,alt:"Floorplan image",preserveAspectRatio:"none"})})]})}}const ka=Na;var Oa=i(7483),Fa=i(5542),Wa=i(7579),Ha=i(2966),Ga=i(273),Ea=i(7017),Va=i(1332);class za extends s.Component{render(){return(0,u.jsxs)("div",{ref:this.props.mainComponentThis.rightControlsBox,className:"right-controls-box right-box-transition",children:[(0,u.jsx)("div",{className:"moveBox move-box-container",children:(0,u.jsxs)("div",{className:"pull-right move-box",children:[(0,u.jsx)("p",{style:{margin:0},children:(0,u.jsx)("button",{title:"Move up",className:"shadow btn btn-default zoom",onClick:()=>this.props.mainComponentThis.onZoomButonClick("zoomtop"),children:(0,u.jsx)("div",{className:"svg-center-inside-container",children:(0,u.jsx)(Wa.Z,{})})})}),(0,u.jsxs)("p",{style:{margin:0},children:[(0,u.jsx)("button",{title:"Move left",className:"shadow btn btn-default zoom",onClick:()=>this.props.mainComponentThis.onZoomButonClick("zoomleft"),children:(0,u.jsx)("div",{className:"svg-center-inside-container",children:(0,u.jsx)(Fa.Z,{})})}),(0,u.jsx)("button",{title:"Center",className:"btn btn-default zoom",onClick:()=>this.props.mainComponentThis.onZoomButonClick("zoomreset"),children:(0,u.jsx)("div",{className:"svg-center-inside-container",children:(0,u.jsx)(Oa.Z,{style:{width:18,height:18}})})}),(0,u.jsx)("button",{title:"Move right",className:"shadow btn btn-default zoom",onClick:()=>this.props.mainComponentThis.onZoomButonClick("zoomright"),children:(0,u.jsx)("div",{className:"svg-center-inside-container",children:(0,u.jsx)(Ha.Z,{})})})]}),(0,u.jsx)("p",{style:{margin:0},children:(0,u.jsx)("button",{title:"Move down",className:"shadow btn btn-default zoom",onClick:()=>this.props.mainComponentThis.onZoomButonClick("zoombottom"),children:(0,u.jsx)("div",{className:"svg-center-inside-container",children:(0,u.jsx)(Ga.Z,{})})})})]})}),(0,u.jsx)("div",{ref:this.props.mainComponentThis.mapStylesChangeRef,className:"map-styles-change-container"}),(0,u.jsx)("div",{ref:this.props.mainComponentThis.rssiColorHeatmapLegendContainer,className:"rssi-heatmap-legend"}),(0,u.jsxs)("div",{className:"zoomBox zoom-box-container",children:[(0,u.jsxs)("div",{className:"pull-right zoom-box",children:[(0,u.jsx)("button",{title:"Zoom in",className:"shadow btn btn btn-default zoom svg-center-inside-container",onClick:()=>this.props.mainComponentThis.onZoomButonClick("zoomin"),style:{display:"inline-flex"},children:(0,u.jsx)(Ea.Z,{})}),(0,u.jsx)("button",{title:"Zoom out",className:"shadow btn btn btn-default zoom",onClick:()=>this.props.mainComponentThis.onZoomButonClick("zoomout"),style:{display:"inline-flex"},children:(0,u.jsx)(Va.Z,{})})]}),(0,u.jsx)("div",{style:{clear:"both"}}),(0,u.jsx)("div",{ref:this.props.mainComponentThis.scaleVal,className:"pull-right scale-box",children:"metric"===this.props.mainComponentThis.context.userUnit?"1m":"".concat(this.props.mainComponentThis.imperialSystemSquareFeetSize,"ft")}),(0,u.jsx)("div",{style:{clear:"both"}})]})]})}}const qa=za;var Ua=i(2105);class Ja extends s.Component{render(){return(0,u.jsx)("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"22px",height:"20px",viewBox:"-10 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet",style:this.props.style||{},children:(0,u.jsxs)("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",stroke:"none",children:[(0,u.jsx)("path",{d:"M2061 5100 c-195 -52 -330 -195 -387 -412 -14 -54 -15 -175 -16 -996\r\nl0 -934 25 -37 c64 -96 207 -92 268 6 l24 38 5 935 5 935 22 41 c28 53 83 100\r\n130 113 26 7 431 11 1235 11 1169 0 1199 0 1250 -20 68 -26 133 -90 158 -158\r\n20 -52 20 -79 20 -1230 0 -770 -4 -1190 -10 -1214 -17 -59 -71 -130 -124 -163\r\nl-49 -30 -926 -5 c-699 -4 -931 -8 -947 -17 -37 -22 -83 -82 -90 -119 -9 -51\r\n9 -104 51 -144 l36 -35 932 -3 c647 -2 948 1 985 9 95 19 209 85 287 163 81\r\n82 127 163 155 272 19 75 20 115 20 1278 0 1302 1 1272 -55 1390 -59 126 -156\r\n223 -283 286 -125 62 -79 60 -1422 59 -1179 0 -1228 -1 -1299 -19z"}),(0,u.jsx)("path",{d:"M3300 4448 c-107 -30 -152 -167 -83 -249 49 -58 55 -59 383 -59 165\r\n0 300 -3 300 -8 0 -4 -720 -727 -1601 -1607 -880 -880 -1607 -1612 -1615\r\n-1627 -20 -39 -18 -117 6 -155 36 -60 107 -90 174 -72 36 9 232 201 1651 1620\r\n886 885 1613 1609 1618 1609 4 0 7 -133 7 -296 0 -331 2 -344 69 -390 71 -48\r\n169 -27 225 49 21 28 21 39 24 520 2 271 0 511 -3 535 -9 60 -60 116 -120 131\r\n-56 14 -984 14 -1035 -1z"}),(0,u.jsx)("path",{d:"M373 2456 c-178 -44 -325 -195 -362 -374 -15 -74 -15 -1630 0 -1704\r\n27 -130 119 -254 235 -315 121 -65 96 -63 986 -63 550 0 824 4 860 11 167 35\r\n303 156 357 317 20 59 21 81 21 590 l0 529 -22 33 c-32 47 -68 71 -116 77 -55\r\n7 -123 -26 -154 -75 l-23 -37 -5 -515 c-5 -495 -6 -516 -25 -542 -11 -15 -38\r\n-37 -61 -48 -40 -20 -54 -20 -842 -18 -791 3 -801 3 -828 24 -15 11 -37 33\r\n-48 48 -21 27 -21 37 -24 825 l-2 797 23 44 c16 30 37 51 67 67 l43 23 495 0\r\n495 0 42 25 c100 58 101 196 2 269 -28 21 -38 21 -545 23 -388 1 -530 -2 -569\r\n-11z"})]})})}}const Xa=Ja;class Ya extends s.Component{render(){return(0,u.jsxs)("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",strokeWidth:"2px",stroke:"#19ab7f",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M10.57,5.8l2.71-2.72a5.4,5.4,0,0,1,7.64,7.64L18.2,13.43"}),(0,u.jsx)("path",{d:"M5.8,10.57,3.08,13.28a5.4,5.4,0,0,0,7.64,7.64l2.71-2.72"}),(0,u.jsx)("line",{x1:"16.77",y1:"7.23",x2:"7.23",y2:"16.77"})]})}}const Za=Ya;class Qa extends s.Component{render(){return(0,u.jsxs)("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",strokeWidth:"2px",stroke:"#4b4b5a",children:[(0,u.jsx)("path",{d:"M10.56,5.77l2.72-2.72a5.43,5.43,0,0,1,3.84-1.59,5.43,5.43,0,0,1,5.42,5.42A5.43,5.43,0,0,1,21,10.72l-2.72,2.72"}),(0,u.jsx)("path",{d:"M5.77,10.56,3.05,13.28A5.42,5.42,0,1,0,10.72,21l2.72-2.72"}),(0,u.jsx)("line",{x1:"16.79",y1:"7.21",x2:"7.21",y2:"16.79"}),(0,u.jsx)("line",{x1:"20.63",y1:"15.83",x2:"23.5",y2:"15.83"}),(0,u.jsx)("line",{x1:"15.83",y1:"20.63",x2:"15.83",y2:"23.5"}),(0,u.jsx)("line",{x1:"19.19",y1:"19.19",x2:"21.1",y2:"21.1"}),(0,u.jsx)("line",{x1:"3.38",y1:"8.17",x2:"0.5",y2:"8.17"}),(0,u.jsx)("line",{x1:"8.17",y1:"3.38",x2:"8.17",y2:"0.5"}),(0,u.jsx)("line",{x1:"4.81",y1:"4.81",x2:"2.9",y2:"2.9"})]})}}const Ka=Qa;var _a=i(1317);class $a extends s.Component{constructor(t){var e;super(t),e=this,this.onInsertFlorplanImageClose=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.props.mainComponentThis.translateRightBox(e.props.floorplanImageTools.current,250,!1),e.resetUploadFloorplanImageTools(),i||(e.props.mainComponentThis.foncButton("select_mode"),e.props.mainComponentThis.boxInfo.current.innerHTML="Select mode")},this.resetUploadFloorplanImageTools=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.setState({scaleButtonClicked:!1,floorplanScalingFirstClick:!1,showWallLengthInput:!1,translateButtonClicked:!1,floorplanTranslationFirstClick:!1,floorplanImageUploaded:!t&&e.state.floorplanImageUploaded})},this.onInsertFloorplanImageDeleteButtonClick=()=>{this.props.mainComponentThis.foncButton("select_mode"),this.props.mainComponentThis.boxInfo.current.innerHTML="Select mode",this.props.mainComponentThis.translateRightBox(this.props.floorplanImageTools.current,250,!1),Ot(this.props.boxFloorplanImage.current),this.resetLayoutState(),this.props.mainComponentThis.zoom_maker("zoomreset",this.props.mainComponentThis.zoomXMove,this.props.mainComponentThis.zoomXView)},this.resetLayoutState=()=>{this.state.floorplanImageUploaded&&(vt(this.props.uploadImageFloorplanSettingsIconRef.current,this.props.mainComponentThis.othersTimeout,null,!1),_a.log("Hide hide icon"),vt(this.props.uploadFloorplanImageStatusContainerRef.current,this.props.mainComponentThis.othersTimeout,null,!1),vt(this.props.uploadImageFloorplanHideRef.current,0,null,!1),vt(this.props.uploadImageFloorplanShowRef.current,0,null,!1),!this.props.boxFloorplanImage.current.classList.contains("fade-in")&&wt(this.props.boxFloorplanImage.current,this.props.mainComponentThis.othersTimeout,null,"inline",!1),this.floorplanLength.current.setValue(""),this.floorplanLength.current.setInitialValue(""),this.floorplanWidth.current.setValue(""),this.floorplanWidth.current.setInitialValue(""),this.floorplanImageInput.current.value="",vt(this.floorplanImageToolsDeleteButtonRef.current,this.props.mainComponentThis.othersTimeout,(()=>this.setState({floorplanImageUploaded:!1})),!1))},this.onUploadFloorplanImageInputChange=()=>t=>{this.uploadedFloorplanImage=t.target.files[0],this.resetUploadFloorplanImageTools(!0),wt(this.explanationBox.current,this.props.mainComponentThis.othersTimeout,null,"flex",!1)},this.getFloorplanImageBoundingBox=()=>({minX:this.floorplanBoundingBoxCurrentParams.originX,maxX:this.floorplanBoundingBoxCurrentParams.originX+this.floorplanBoundingBoxCurrentParams.width,minY:this.floorplanBoundingBoxCurrentParams.originY,maxY:this.floorplanBoundingBoxCurrentParams.originY+this.floorplanBoundingBoxCurrentParams.length}),this.centerAndShowWholeFloorplanImage=()=>{const t={x:this.floorplanBoundingBoxCurrentParams.originX+this.floorplanBoundingBoxCurrentParams.width/2,y:this.floorplanBoundingBoxCurrentParams.originY+this.floorplanBoundingBoxCurrentParams.length/2};this.props.mainComponentThis.centerAndShowWholeBoxOperations(t,this.getFloorplanImageBoundingBox(),!1)},this.onExplanationConfirmedCallback=()=>{this.setState({floorplanImageUploaded:!0,preserveAspectRatio:!0},(()=>{let t=new Image,e=window.URL||window.webkitURL||window,i=e.createObjectURL(this.uploadedFloorplanImage);t.onload=()=>{this.floorplanAspectRatio=t.width/t.height,this.floorplanInitialWidth=this.floorplanImageInitialSvgWidth,this.floorplanInitialLength=this.floorplanInitialWidth/this.floorplanAspectRatio,e.revokeObjectURL(i),this.floorplanBoundingBoxCurrentParams.originX=200-this.props.mainComponentThis.offset.left,this.floorplanBoundingBoxCurrentParams.originY=24,this.floorplanBoundingBoxCurrentParams.width=this.floorplanInitialWidth,this.floorplanBoundingBoxCurrentParams.length=this.floorplanInitialLength,this.drawUploadedFloorplanImage(),this.props.mainComponentThis.zoom_maker("zoomreset",this.props.mainComponentThis.zoomXMove,this.props.mainComponentThis.zoomXView),wt(this.props.uploadFloorplanImageStatusContainerRef.current,this.props.mainComponentThis.othersTimeout,null,"block",!1),"none"===this.props.uploadImageFloorplanHideRef.current.style.display&&"none"===this.props.uploadImageFloorplanShowRef.current.style.display&&(wt(this.props.uploadImageFloorplanHideRef.current,0,null,"inline",!1),this.props.uploadFloorplanImageStatusContainerRef.current.title="Hide floorplan image"),wt(this.props.uploadImageFloorplanSettingsIconRef.current,this.props.mainComponentThis.othersTimeout,null,"inline",!1),wt(this.floorplanImageToolsDeleteButtonRef.current,this.props.mainComponentThis.othersTimeout,null,"block",!1),j()||(this.props.mainComponentThis.boxInfo.current.innerHTML="Hold <b>SHIFT</b> to drag around floorplan.")},t.src=i}))},this.drawUploadedFloorplanImage=()=>{Ot(this.props.boxFloorplanImage.current);const t=this.floorplanImageInput.current.files[0];this.props.mainComponentThis.editor.createAndShowBoxMeasures(this.floorplanBoundingBoxCurrentParams.originX,this.floorplanBoundingBoxCurrentParams.originX+this.floorplanBoundingBoxCurrentParams.width,this.floorplanBoundingBoxCurrentParams.originY,this.floorplanBoundingBoxCurrentParams.originY+this.floorplanBoundingBoxCurrentParams.length,this.props.boxFloorplanImage,{color:"#ffcc00",strokeWidth:1}),this.props.floorplanImagePattern.current.setAttribute("x",this.floorplanBoundingBoxCurrentParams.originX),this.props.floorplanImagePattern.current.setAttribute("y",this.floorplanBoundingBoxCurrentParams.originY),this.props.floorplanImagePattern.current.setAttribute("height",this.floorplanBoundingBoxCurrentParams.length),this.props.floorplanImagePattern.current.setAttribute("width",this.floorplanBoundingBoxCurrentParams.width),this.props.floorplanImage.current.setAttribute("height",this.floorplanBoundingBoxCurrentParams.length),this.props.floorplanImage.current.setAttribute("width",this.floorplanBoundingBoxCurrentParams.width);let e=new FileReader;e.onload=t=>{this.props.floorplanImage.current.setAttribute("href",t.target.result),_a.log("Atrribute setted")},e.onerror=()=>{this.props.mainComponentThis.boxInfo.current.innerHTML="Ooops. An error happened. Cannot load image."},e.readAsDataURL(t);let i="M".concat(this.floorplanBoundingBoxCurrentParams.originX,",").concat(this.floorplanBoundingBoxCurrentParams.originY,"\n            L").concat(this.floorplanBoundingBoxCurrentParams.originX+this.floorplanBoundingBoxCurrentParams.width,",").concat(this.floorplanBoundingBoxCurrentParams.originY,"\n            L").concat(this.floorplanBoundingBoxCurrentParams.originX+this.floorplanBoundingBoxCurrentParams.width,",").concat(this.floorplanBoundingBoxCurrentParams.originY+this.floorplanBoundingBoxCurrentParams.length,"\n            L").concat(this.floorplanBoundingBoxCurrentParams.originX,",").concat(this.floorplanBoundingBoxCurrentParams.originY+this.floorplanBoundingBoxCurrentParams.length,"\n            L").concat(this.floorplanBoundingBoxCurrentParams.originX,",").concat(this.floorplanBoundingBoxCurrentParams.originY);this.props.mainComponentThis.qSVG.create(this.props.boxFloorplanImage,"path",{id:"floorplan-image-path",d:i,fill:"url(#floorplan_image_pattern)","fill-opacity":1,stroke:"none"});const s=We(this.floorplanBoundingBoxCurrentParams.width/this.props.mainComponentThis.meter,this.props.mainComponentThis.context.userUnit,"meter","feet",this.floorplanDimensionsDecimalPrecision),n=We(this.floorplanBoundingBoxCurrentParams.length/this.props.mainComponentThis.meter,this.props.mainComponentThis.context.userUnit,"meter","feet",this.floorplanDimensionsDecimalPrecision);this.floorplanWidth.current.setValue(s),this.floorplanWidth.current.setInitialValue(s),this.floorplanLength.current.setValue(n),this.floorplanLength.current.setInitialValue(n),this.setState({originX:T(this.floorplanBoundingBoxCurrentParams.originX,this.originTranslateDecimalPrecision),originY:T(this.floorplanBoundingBoxCurrentParams.originY,this.originTranslateDecimalPrecision),width:s,length:n})},this.translateFloorplan=(t,e)=>{const i=this.wallTranslateGroup.querySelector("#originCircle").getAttribute("cx"),s=this.wallTranslateGroup.querySelector("#originCircle").getAttribute("cy"),n=(t.x-i)*e,o=(t.y-s)*e;this.floorplanBoundingBoxCurrentParams.originX=this.floorplanBoundingBoxCurrentParams.originX+n,this.floorplanBoundingBoxCurrentParams.originY=this.floorplanBoundingBoxCurrentParams.originY+o,this.drawUploadedFloorplanImage(),Ot(this.wallTranslateGroup)},this.handleMouseDownAction=t=>{const e=[{x:this.floorplanBoundingBoxCurrentParams.originX,y:this.floorplanBoundingBoxCurrentParams.originY},{x:this.floorplanBoundingBoxCurrentParams.originX+this.floorplanBoundingBoxCurrentParams.width,y:this.floorplanBoundingBoxCurrentParams.originY},{x:this.floorplanBoundingBoxCurrentParams.originX+this.floorplanBoundingBoxCurrentParams.width,y:this.floorplanBoundingBoxCurrentParams.originY+this.floorplanBoundingBoxCurrentParams.length},{x:this.floorplanBoundingBoxCurrentParams.originX,y:this.floorplanBoundingBoxCurrentParams.originY+this.floorplanBoundingBoxCurrentParams.length}];if("floorplan_image_translation"===this.props.mainComponentThis.mode)if(this.state.floorplanTranslationFirstClick)if(this.state.floorplanTranslationIsOutsideClick)if(Zt(t,e))this.translateFloorplan(t,-1),this.setState({floorplanTranslationFirstClick:!1,floorplanTranslationIsOutsideClick:!1});else{const e=this.wallTranslateGroup.querySelector("#originCircle");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y)}else this.translateFloorplan(t,1),this.setState({floorplanTranslationFirstClick:!1});else{this.wallTranslateGroup?Ot(this.wallTranslateGroup):this.wallTranslateGroup=this.props.mainComponentThis.qSVG.create("none","g",{class:"floorplan-image-translate-group"});const i=this.props.mainComponentThis.qSVG.create("none","circle",{id:"originCircle",cx:t.x,cy:t.y,r:this.circleRadius,fill:"#ff0000"});this.wallTranslateGroup.appendChild(i),this.props.boxFloorplanImage.current.appendChild(this.wallTranslateGroup),this.setState({floorplanTranslationFirstClick:!0,floorplanTranslationIsOutsideClick:!Zt(t,e)})}else if(Zt(t,e))if(this.state.floorplanScalingFirstClick){const e=this.props.mainComponentThis.qSVG.create("none","circle",{id:"endCircle",cx:t.x,cy:t.y,r:this.circleRadius,fill:"#ff0000"});this.wallLineGroup.appendChild(e),this.props.mainComponentThis.boxInfo.current.innerHTML="Insert selected line length in ".concat("metric"===this.props.mainComponentThis.context.userUnit?"meters(m)":"feet(ft)"),this.setState({floorplanScalingFirstClick:!1,showWallLengthInput:!0},(()=>{this.selectedWallLengthInput.current.setValue(""),this.selectedWallLengthInput.current.setInitialValue("")}))}else{this.wallLineGroup?Ot(this.wallLineGroup):this.wallLineGroup=this.props.mainComponentThis.qSVG.create("none","g",{class:"floorplan-image-scaling-group"});const e=this.props.mainComponentThis.qSVG.create("none","line",{x1:t.x,y1:t.y,x2:t.x,y2:t.y,"stroke-width":this.lineThick,stroke:"#4b4b5a"});this.wallLineGroup.appendChild(e);const i=this.props.mainComponentThis.qSVG.create("none","circle",{id:"startCircle",cx:t.x,cy:t.y,r:this.circleRadius,fill:"#ff0000"});this.wallLineGroup.appendChild(i),this.props.boxFloorplanImage.current.appendChild(this.wallLineGroup),this.setState({floorplanScalingFirstClick:!0,showWallLengthInput:!1})}},this.onWallLengthConfirmClick=()=>{const t=He(parseFloat(this.selectedWallLengthInput.current.getValue()),this.props.mainComponentThis.context.userUnit)*this.props.mainComponentThis.meter;let e=this.wallLineGroup.querySelector("#startCircle"),i=this.wallLineGroup.querySelector("#endCircle");const s=ie({x:e.getAttribute("cx"),y:e.getAttribute("cy")},{x:i.getAttribute("cx"),y:i.getAttribute("cy")}),n=T(t/s*this.state.scalingFactor,this.scaleFactorDecimalPrecision);this.floorplanBoundingBoxCurrentParams.width=this.floorplanInitialWidth*n,this.floorplanBoundingBoxCurrentParams.length=this.floorplanInitialLength*n,this.drawUploadedFloorplanImage(),this.setState({showWallLengthInput:!1,scalingFactor:n})},this.onScaleButtonClick=()=>{this.state.scaleButtonClicked?(this.props.boxFloorplanImage.current.querySelector(".floorplan-image-scaling-group")&&this.props.boxFloorplanImage.current.querySelector(".floorplan-image-scaling-group").remove(),this.props.mainComponentThis.mode="upload_floorplan_image_mode"):(this.props.boxFloorplanImage.current.querySelector(".floorplan-image-translate-group")&&this.props.boxFloorplanImage.current.querySelector(".floorplan-image-translate-group").remove(),this.props.mainComponentThis.mode="floorplan_image_scaling"),this.setState({scaleButtonClicked:!this.state.scaleButtonClicked,floorplanScalingFirstClick:!1,translateButtonClicked:!1,floorplanTranslationFirstClick:!1,showWallLengthInput:!this.state.scaleButtonClicked&&this.state.showWallLengthInput})},this.onTranslateButtonClick=()=>{this.state.translateButtonClicked?(this.props.mainComponentThis.mode="upload_floorplan_image_mode",this.props.boxFloorplanImage.current.querySelector(".floorplan-image-translate-group")&&this.props.boxFloorplanImage.current.querySelector(".floorplan-image-translate-group").remove()):(this.props.boxFloorplanImage.current.querySelector(".floorplan-image-scaling-group")&&this.props.boxFloorplanImage.current.querySelector(".floorplan-image-scaling-group").remove(),this.props.mainComponentThis.mode="floorplan_image_translation"),this.setState({translateButtonClicked:!this.state.translateButtonClicked,floorplanTranslationFirstClick:!1,scaleButtonClicked:!1,floorplanScalingFirstClick:!1,showWallLengthInput:!1})},this.handleAspectRatioButtonClick=()=>{this.setState({preserveAspectRatio:!this.state.preserveAspectRatio})},this.onFloorplanInputWidthChanged=()=>{const t=this.floorplanWidth.current.getValue();t!==this.state.width&&(this.floorplanBoundingBoxCurrentParams.width=He(parseFloat(t),this.props.mainComponentThis.context.userUnit)*this.props.mainComponentThis.meter,this.state.preserveAspectRatio&&(this.floorplanBoundingBoxCurrentParams.length=this.floorplanBoundingBoxCurrentParams.width/this.floorplanAspectRatio),this.drawUploadedFloorplanImage())},this.onFloorplanInputLengthChanged=()=>{const t=this.floorplanLength.current.getValue();t!==this.state.length&&(this.floorplanBoundingBoxCurrentParams.length=He(parseFloat(t),this.props.mainComponentThis.context.userUnit)*this.props.mainComponentThis.meter,this.state.preserveAspectRatio&&(this.floorplanBoundingBoxCurrentParams.width=this.floorplanAspectRatio*this.floorplanBoundingBoxCurrentParams.length),this.drawUploadedFloorplanImage())},this.onScaleFactorInputChange=t=>{this.state.scalingFactor!==t&&(this.floorplanBoundingBoxCurrentParams.width=this.floorplanInitialWidth*t,this.floorplanBoundingBoxCurrentParams.length=this.floorplanInitialLength*t,this.drawUploadedFloorplanImage(),this.setState({scalingFactor:t,floorplanScalingFirstClick:!1,showWallLengthInput:!1}))},this.onFloorplanOriginXInputChange=t=>{t!==this.state.originX&&(this.floorplanBoundingBoxCurrentParams.originX=t,this.drawUploadedFloorplanImage(),this.setState({originX:t}))},this.onFloorplanOriginYInputChange=t=>{this.state.originY!==t&&(this.floorplanBoundingBoxCurrentParams.originY=t,this.drawUploadedFloorplanImage(),this.setState({originY:t}))},this.state={floorplanImageUploaded:!1,floorplanScalingFirstClick:!1,showWallLengthInput:!1,floorplanTranslationFirstClick:!1,floorplanTranslationIsOutsideClick:!1,scaleButtonClicked:!1,translateButtonClicked:!1,preserveAspectRatio:!0,scalingFactor:1,originX:0,originY:0,width:0,length:0},this.floorplanDimensionsInputStep=(t.mainComponentThis.context.userUnit,.1),this.floorplanDimensionsDecimalPrecision=-Math.log10(this.floorplanDimensionsInputStep),this.lineLengthInputStep="metric"===t.mainComponentThis.context.userUnit?.01:.1,this.lineLengthDecimalPrecision=-Math.log10(this.lineLengthInputStep),this.scaleFactorInputStep=.01,this.scaleFactorDecimalPrecision=-Math.log10(this.scaleFactorInputStep),this.originTranslateInputStep=1,this.originTranslateDecimalPrecision=-Math.log10(this.originTranslateInputStep),this.wallTranslateGroup=null,this.wallLineGroup=null,this.circleRadius=t.mainComponentThis.meter/6,this.lineThick=t.mainComponentThis.meter/8,this.floorplanAspectRatio=0,this.uploadedImagePixelToSvgUnitRatio=1,this.floorplanImageInitialSvgWidth=20*t.mainComponentThis.meter,this.floorplanBoundingBoxCurrentParams={originX:0,originY:0,width:0,length:0},this.floorplanInitialWidth=null,this.floorplanInitialLength=null,this.uploadedFloorplanImage=null,this.floorplanLength=s.createRef(),this.floorplanWidth=s.createRef(),this.floorplanImageInput=s.createRef(),this.floorplanImageToolsDeleteButtonRef=s.createRef(),this.selectedWallLengthInput=s.createRef(),this.scaleFactorInput=s.createRef(),this.explanationBox=s.createRef(),this.onInsertFloorplanImageDeleteButtonClick=this.onInsertFloorplanImageDeleteButtonClick.bind(this),this.onInsertFlorplanImageClose=this.onInsertFlorplanImageClose.bind(this),this.resetUploadFloorplanImageTools=this.resetUploadFloorplanImageTools.bind(this),this.handleMouseDownAction=this.handleMouseDownAction.bind(this),this.translateFloorplan=this.translateFloorplan.bind(this),this.onWallLengthConfirmClick=this.onWallLengthConfirmClick.bind(this),this.drawUploadedFloorplanImage=this.drawUploadedFloorplanImage.bind(this),this.onScaleButtonClick=this.onScaleButtonClick.bind(this),this.onTranslateButtonClick=this.onTranslateButtonClick.bind(this),this.onUploadFloorplanImageInputChange=this.onUploadFloorplanImageInputChange.bind(this),this.onExplanationConfirmedCallback=this.onExplanationConfirmedCallback.bind(this),this.handleAspectRatioButtonClick=this.handleAspectRatioButtonClick.bind(this),this.onFloorplanInputWidthChanged=this.onFloorplanInputWidthChanged.bind(this),this.onFloorplanInputLengthChanged=this.onFloorplanInputLengthChanged.bind(this),this.onScaleFactorInputChange=this.onScaleFactorInputChange.bind(this),this.onFloorplanOriginXInputChange=this.onFloorplanOriginXInputChange.bind(this),this.onFloorplanOriginYInputChange=this.onFloorplanOriginYInputChange.bind(this),this.getFloorplanImageBoundingBox=this.getFloorplanImageBoundingBox.bind(this),this.centerAndShowWholeFloorplanImage=this.centerAndShowWholeFloorplanImage.bind(this),this.resetLayoutState=this.resetLayoutState.bind(this)}render(){return _a.log(this.state),(0,u.jsxs)(Ba,{containerStyle:{width:250,right:-250},containerRef:this.props.floorplanImageTools,onCloseRightBox:this.onInsertFlorplanImageClose,children:[(0,u.jsxs)("div",{ref:this.explanationBox,className:"upload-floorplan-image-explanation-box hidden",children:[(0,u.jsxs)("h3",{children:["Floorplan dimensions are set to ",(0,u.jsx)("b",{children:"fixed values"}),"."," "]}),(0,u.jsxs)("h3",{children:["You can change them to the actual values either by ",(0,u.jsx)("b",{children:"direct input"})," or using our ",(0,u.jsx)("b",{children:"Click&Scale"})," ","feature."]})," ",(0,u.jsxs)("h3",{children:["For floorplan translation on drawing area use ",(0,u.jsx)("b",{children:"Click&Translate"}),"."]}),(0,u.jsx)("h3",{children:(0,u.jsx)("b",{children:"NOTE: 1 grid square equals ".concat("metric"===this.props.mainComponentThis.context.userUnit?"1 meter":"".concat(this.props.mainComponentThis.imperialSystemSquareFeetSize," feet"))})}),(0,u.jsx)(Ue,{type:"primary",onClick:()=>vt(this.explanationBox.current,this.props.mainComponentThis.othersTimeout,this.onExplanationConfirmedCallback,!1),children:"Got it"})]}),(0,u.jsx)(pi,{label:"Upload floorplan image from your local device",labelStyle:{display:"block",fontSize:"1.17em",margin:"1em 0",fontWeight:"bold"},inputRef:this.floorplanImageInput,type:"file",accept:"image/png, image/jpeg",onChange:this.onUploadFloorplanImageInputChange}),this.state.floorplanImageUploaded?(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{ref:this.floorplanImageToolsDeleteButtonRef,className:"button-centered-container hidden form-group",children:(0,u.jsx)(Ue,{type:"delete",onClick:this.onInsertFloorplanImageDeleteButtonClick,children:"Delete uploaded image"})}),(0,u.jsx)(ui,{label:"Floorplan width(".concat("metric"===this.props.mainComponentThis.context.userUnit?"m":"ft",")"),children:(0,u.jsx)(ii,{ref:this.floorplanWidth,placeholder:"Floorplan width",inputStep:this.floorplanDimensionsInputStep,inputMin:this.floorplanDimensionsInputStep,inputMax:1/0,inputStyle:{textAlign:"left"},callOnlyOnBlur:!0,hideNumberArrows:!0,onInputValueChanged:this.onFloorplanInputWidthChanged,defaultValue:"",checkInputValueChangeBeforeCall:!0})}),(0,u.jsxs)("div",{className:"preserve-aspect-ratio-container",children:[(0,u.jsx)("div",{className:"svg-action-icon-container button-with-icon svg-center-inside-container",onClick:this.handleAspectRatioButtonClick,title:this.state.preserveAspectRatio?"Preserve aspect ratio":"No aspect ratio",children:this.state.preserveAspectRatio?(0,u.jsx)(Za,{}):(0,u.jsx)(Ka,{})}),(0,u.jsx)("label",{className:"label form-control",children:"Floorplan aspect ratio"})]}),(0,u.jsx)(ui,{label:"Floorplan length(".concat("metric"===this.props.mainComponentThis.context.userUnit?"m":"ft",")"),children:(0,u.jsx)(ii,{ref:this.floorplanLength,placeholder:"Floorplan length",inputStep:this.floorplanDimensionsInputStep,inputMin:this.floorplanDimensionsInputStep,inputMax:1/0,inputStyle:{textAlign:"left"},callOnlyOnBlur:!0,hideNumberArrows:!0,onInputValueChanged:this.onFloorplanInputLengthChanged,defaultValue:"",checkInputValueChangeBeforeCall:!0})}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("div",{className:"button-centered-container",children:(0,u.jsxs)(Ue,{type:this.state.scaleButtonClicked?"primary":"dull",className:"button-with-icon",onClick:this.onScaleButtonClick,children:[(0,u.jsx)(Xa,{style:{fill:this.state.scaleButtonClicked?"#ffffff":"#4b4b5a"}}),"Click&Scale"]})}),this.state.scaleButtonClicked&&(0,u.jsxs)(s.Fragment,{children:[(0,u.jsxs)("div",{className:"upload-floorplan-info-container",children:[(0,u.jsx)("div",{className:"popup-icon-container",children:(0,u.jsx)(Ke.Z,{})}),(0,u.jsx)("p",{children:this.state.showWallLengthInput?(0,u.jsx)("span",{children:(0,u.jsx)("b",{children:"Insert selected line length in ".concat("metric"===this.props.mainComponentThis.context.userUnit?"meters(m)":"feet(ft)")})}):(0,u.jsxs)("span",{children:[(0,u.jsx)("b",{children:"Select 2 points"})," on floorplan image for which you know the exact length"]})}),(0,u.jsx)("p",{children:"Click button to exit scaling mode"}),this.state.showWallLengthInput&&(0,u.jsxs)(ui,{containerStyle:{marginTop:"0.5rem"},children:[(0,u.jsx)(ii,{ref:this.selectedWallLengthInput,placeholder:"Insert line length(".concat("metric"===this.props.mainComponentThis.context.userUnit?"m":"ft",")"),inputStyle:{marginBottom:"0.5rem",border:"1px solid #19ab7f"},inputStep:this.lineLengthInputStep,inputMin:this.lineLengthInputStep,inputMax:1/0,defaultValue:"",checkInputValueChangeBeforeCall:!0}),(0,u.jsx)("div",{className:"button-centered-container",children:(0,u.jsx)(Ue,{type:"primary",onClick:this.onWallLengthConfirmClick,children:"Confirm"})})]}),(0,u.jsxs)("div",{className:"or-divider-container",children:[(0,u.jsx)("hr",{}),(0,u.jsx)("b",{children:"OR"}),(0,u.jsx)("hr",{})]}),(0,u.jsx)("p",{children:"Insert scale factor value directly"})]}),(0,u.jsx)(ui,{containerStyle:{marginBottom:0},label:"Scale factor",children:(0,u.jsx)(oi,{ref:this.scaleFactorInput,placeholder:"Scale factor",inputStep:this.scaleFactorInputStep,inputMin:this.scaleFactorInputStep,inputMax:1/0,usePropsValue:!0,value:this.state.scalingFactor,onInputValueChanged:this.onScaleFactorInputChange})})]})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("div",{className:"button-centered-container",children:(0,u.jsxs)(Ue,{type:this.state.translateButtonClicked?"primary":"dull",className:"button-with-icon",onClick:this.onTranslateButtonClick,children:[(0,u.jsx)(Ua.Z,{style:{width:20,height:20,fill:this.state.translateButtonClicked?"#ffffff":"#4b4b5a"}}),"Click&Translate"]})}),this.state.translateButtonClicked&&(0,u.jsxs)(s.Fragment,{children:[(0,u.jsxs)("div",{className:"upload-floorplan-info-container",children:[(0,u.jsx)("div",{className:"popup-icon-container",children:(0,u.jsx)(Ke.Z,{})}),(0,u.jsx)("p",{children:this.state.floorplanTranslationFirstClick?(0,u.jsx)("span",{children:this.state.floorplanTranslationIsOutsideClick?(0,u.jsxs)("span",{children:[(0,u.jsx)("b",{children:"Select floorplan point"})," which you want to translate to the origin point"]}):(0,u.jsxs)("span",{children:[(0,u.jsx)("b",{children:"Select location"})," to which you want to translate the selected floorplan point"]})}):(0,u.jsxs)("span",{children:[(0,u.jsx)("b",{children:"Select origin point"})," of translation"]})}),(0,u.jsx)("p",{children:"Click button to exit translation mode"}),(0,u.jsxs)("div",{className:"or-divider-container",children:[(0,u.jsx)("hr",{}),(0,u.jsx)("b",{children:"OR"}),(0,u.jsx)("hr",{})]}),(0,u.jsx)("p",{children:"Insert offset values directly"})]}),(0,u.jsx)(ui,{label:"Horizontal offset",children:(0,u.jsx)(oi,{placeholder:"Horizontal offset",inputStep:this.originTranslateInputStep,inputMin:-1/0,inputMax:1/0,usePropsValue:!0,value:this.state.originX,onInputValueChanged:this.onFloorplanOriginXInputChange})}),(0,u.jsx)(ui,{label:"Vertical offset",containerStyle:{marginBottom:0},children:(0,u.jsx)(oi,{placeholder:"Vertical offset",inputStep:this.originTranslateInputStep,inputMin:-1/0,inputMax:1/0,usePropsValue:!0,value:this.state.originY,onInputValueChanged:this.onFloorplanOriginYInputChange})})]})]})]}):null]})}}const tr=$a;class er extends s.Component{render(){return(0,u.jsx)(ui,{containerStyle:{marginBottom:this.props.sizePoliceComponent?0:"0.5rem"},label:!this.props.sizePoliceComponent&&this.props.valueLabelText,children:(0,u.jsx)("input",{ref:this.props.sliderInputRef,type:"range",disabled:this.props.disabled,step:this.props.sliderStep,min:this.props.minValue,max:this.props.maxValue,className:"range ".concat(this.props.disabled?"disabled":""),onChange:this.props.onSliderChange,onMouseUp:()=>this.props.onSliderChangeFinished&&this.props.onSliderChangeFinished()})})}}const ir=er;class sr extends s.Component{render(){return(0,u.jsx)("div",{children:(0,u.jsx)(ii,{ref:this.props.inputNumberComponentRef,inputStep:this.props.sliderStep,disabled:this.props.disabled,inputMin:this.props.minValue,inputMax:this.props.maxValue,onInputValueChanged:this.props.onInputChange,checkInputValueChangeBeforeCall:!1})})}}const nr=sr;class or extends s.Component{constructor(){super(),this.onSliderChange=t=>{this.props.onSliderValueChanged(t.target.value),this.inputNumberComponentRef.current.setValue(this.props.sliderInputRef.current.value)},this.onInputChange=()=>{this.props.sliderInputRef.current.value=this.inputNumberComponentRef.current.getValue(),this.props.onSliderValueChanged(this.props.sliderInputRef.current.value),this.props.onSliderChangeFinished&&this.props.onSliderChangeFinished()},this.setNumberInputInitialValues=t=>{this.inputNumberComponentRef.current.setInitialValue(t),this.inputNumberComponentRef.current.setValue(t)},this.setMaxMinRangeValues=(t,e)=>{this.props.sliderInputRef.current.setAttribute("min",t),this.props.sliderInputRef.current.setAttribute("max",e),this.inputNumberComponentRef.current.setRangeValues(t,e)},this.containerRef=s.createRef(),this.inputNumberComponentRef=s.createRef(),this.setMaxMinRangeValues=this.setMaxMinRangeValues.bind(this),this.setNumberInputInitialValues=this.setNumberInputInitialValues.bind(this),this.onSliderChange=this.onSliderChange.bind(this),this.onInputChange=this.onInputChange.bind(this)}componentDidMount(){this.props.defaultValue&&(this.props.sliderInputRef.current.value=this.props.defaultValue,this.inputNumberComponentRef.current.setValue(this.props.defaultValue),this.inputNumberComponentRef.current.setInitialValue(this.props.defaultValue))}render(){return(0,u.jsxs)("div",{ref:this.containerRef,className:"form-group",children:[this.props.sizePoliceComponent&&this.props.sizePoliceComponent,this.props.sizePoliceComponent?(0,u.jsxs)("div",{className:"modify-size-police-container",children:[(0,u.jsx)(ir,{disabled:this.props.disabled,valueLabelText:this.props.valueLabelText,sizePoliceComponent:this.props.sizePoliceComponent,sliderInputRef:this.props.sliderInputRef,sliderStep:this.props.sliderStep,minValue:this.props.minValue,maxValue:this.props.maxValue,onSliderChange:this.onSliderChange,onSliderChangeFinished:this.props.onSliderChangeFinished}),(0,u.jsx)(nr,{disabled:this.props.disabled,inputNumberComponentRef:this.inputNumberComponentRef,sliderStep:this.props.sliderStep,minValue:this.props.minValue,maxValue:this.props.maxValue,onInputChange:this.onInputChange})]}):(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(ir,{disabled:this.props.disabled,valueLabelText:this.props.valueLabelText,sliderInputRef:this.props.sliderInputRef,sliderStep:this.props.sliderStep,minValue:this.props.minValue,maxValue:this.props.maxValue,onSliderChange:this.onSliderChange,onSliderChangeFinished:this.props.onSliderChangeFinished}),(0,u.jsx)(nr,{disabled:this.props.disabled,inputNumberComponentRef:this.inputNumberComponentRef,sliderStep:this.props.sliderStep,minValue:this.props.minValue,maxValue:this.props.maxValue,onInputChange:this.onInputChange})]})]})}}const ar=or;class rr extends s.Component{constructor(){var t;super(),t=this,this.setCheckedStatus=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.setState({checked:e},(()=>!!i&&i()))},this.getCheckedStatus=()=>this.state.checked,this.state={checked:!1},this.setCheckedStatus=this.setCheckedStatus.bind(this),this.getCheckedStatus=this.getCheckedStatus.bind(this)}render(){return(0,u.jsxs)("div",{className:"show-map-switch-container",children:[(0,u.jsx)("label",{children:"SHOW MAP"}),(0,u.jsx)(Ti.Z,{theme:Bs,children:(0,u.jsx)(Ms.Z,{checked:this.state.checked,title:"Show on map",onChange:this.props.onChangeCallback})})]})}}const lr=rr;class hr extends s.Component{constructor(){super(),this.simulateTestingButtonRef=s.createRef(),this.planTestingButtonRef=s.createRef()}componentDidMount(){this.props.mainComponentThis.isSmallScreen()&&this.props.mainComponentThis.panel.current&&!this.props.mainComponentThis.isPanelMaximized()&&(this.props.indoorPlanningLabelRef.current.style.display="none",this.simulateTestingButtonRef.current.classList.add("panel-icon-button-no-text"),this.simulateTestingButtonRef.current.classList.remove("fully"),this.planTestingButtonRef.current.classList.add("panel-icon-button-no-text"),this.planTestingButtonRef.current.classList.remove("fully"))}render(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("br",{}),(0,u.jsx)("h3",{ref:this.props.indoorPlanningLabelRef,className:"indoor-planning-label",children:"INDOOR PLANNING"}),(0,u.jsx)("li",{className:"panel-margin",children:(0,u.jsxs)("button",{ref:this.simulateTestingButtonRef,className:"btn btn-default fully panel-icon-button-container",title:"Run indoor source simulation",onClick:this.props.onSimulateTestingClick,children:[(0,u.jsx)(mo,{}),(0,u.jsx)("p",{children:"SIMULATE"})]})}),(0,u.jsx)("li",{children:(0,u.jsxs)("button",{ref:this.planTestingButtonRef,className:"btn btn-default fully panel-icon-button-container",title:"View, edit and create test plan reports",onClick:this.props.onPlanTestingClick,children:[(0,u.jsx)(go,{}),(0,u.jsx)("p",{children:"TEST PLAN"})]})})]})}}const pr=hr;var dr=i(1317);function cr(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return new Promise(((o,a)=>{this.generateHeatmapInProcess=!0,dr.log("Generate heatmap called"),s=void 0!==s?s:this.currentHeatmapOptionIndex;const r=this.heatmapOptions[s],l=t||s===this.currentHeatmapOptionIndex?this.heatmapPositionDataSelectedOption:r.heatmapPositionDataSelectedOption,h=t||s===this.currentHeatmapOptionIndex?this.heatmapRssiColorMin:r.rssiColorMin,p=t||s===this.currentHeatmapOptionIndex?this.heatmapRssiColorMax:r.rssiColorMax,d=t||s===this.currentHeatmapOptionIndex?this.heatmapGatewaysPerMessageColorMin:r.gatewaysColorMin,c=t||s===this.currentHeatmapOptionIndex?this.heatmapGatewaysPerMessageColorMax:r.gatewaysColorMax;if(e&&this.centerAndShowWholeFloorplan(),"Avg GTWs/MSG"!==l&&h>=p||"Avg GTWs/MSG"===l&&d>c)wt(this.heatmapColorErrorModal.current,this.modalTimeout),t&&this.clearHeatmapCanvases(!1,!0),this.generateHeatmapInProcess=!1,o(!0);else{let e=i||JSON.parse(this.HISTORY[this.HISTORY.index-1]).objData.filter((t=>"position"===t.type));t&&(this.currentHeatmap2DViewRenderedPositions=e),dr.log("Positions drawed: "),dr.log(e);let m,g=!1;for(let t=0;t<e.length;t++)(m=_t({x:e[t].x,y:e[t].y},this.ROOM))?(dr.log("Unutar sobe"+m.id),e[t].positionRoom=m):(e[t].positionRoom=void 0,g=!0);if(g){let i='<ul class="positions-error-modal-list">';for(let t=0;t<e.length;t++)e[t].positionRoom||(i+="<li> Position "+e[t].position_num+"</li>");i+="</ul>",this.positionOutsideRoomHeatmapErrorRef.current.addOptionErrorPositions(s,i),t&&this.clearHeatmapCanvases(!1,!0),this.generateHeatmapInProcess=!1,o(!0)}else{let i=[],m=[];t&&(this.clearHeatmapCanvases(!1,!1),this.drawingAreaPopupActive&&(this.showMapLayer2D3DRef.current&&this.showMapLayer2D3DRef.current.onPositionPopupClose(),this.removeSelectedBinder(),this.closeDrawingAreaPopup()),this.heatmapCanvasContext.save(),this.heatmapCanvasContext.scale(this.heatmapCanvasZoomFactor,this.heatmapCanvasZoomFactor),this.heatmapCanvasContext.translate(-this.originX_viewbox,-this.originY_viewbox)),this.calculateFilteredPositionsData(e,i,t?this.selectedPositionDataSfs:r.selectedPositionDataSfs,t?this.selectedPositionDataAntennas:r.selectedPositionDataAntennas,t?this.selectedPositionDataGateways:r.selectedPositionDataGateways,l,h,p,d,c,t);const g=me(e,this.heatmapPositionStandardRadius);dr.log("Radiuses"),dr.log(g),dr.log("Sobe:"),dr.log(this.ROOM);let x,A=!0;if(t)if(void 0!==this.generatedHeatmapParameters.renderedPositionsSaved&&e.length===this.generatedHeatmapParameters.renderedPositionsSaved.length){let t=!1;for(let s=0;s<e.length;s++){const n=this.generatedHeatmapParameters.renderedPositionsSaved.find((t=>t.position_number===e[s].position_num));if(!n){t=!0;break}if(!n.positionCoordinates){t=!0;break}if(n.positionCoordinates.x!==i[s].x||n.positionCoordinates.y!==i[s].y){t=!0;break}if(n.positionRadius!==g[s]){t=!0;break}}if(t)this.generatedHeatmapParameters.renderedPositionsSaved=e.map(((t,e)=>({position_number:t.position_num,heatmapGeometry:[],positionCoordinates:i[e],positionRadius:g[e]})));else{A=!1;for(let t=0;t<e.length;t++)e[t].heatmapGeometry=this.generatedHeatmapParameters.renderedPositionsSaved.find((i=>i.position_number===e[t].position_num)).heatmapGeometry}}else this.generatedHeatmapParameters.renderedPositionsSaved=e.map(((t,e)=>({position_number:t.position_num,heatmapGeometry:[],positionCoordinates:i[e],positionRadius:g[e]})));dr.log("calculateHeatmapGeometry "+A),this.drawShapeColor&&t&&e.length>0?n.render((0,u.jsx)(Hs,{ref:this.heatmapColorLegendRef,canvasFillStyle:this.heatmapGradient,minValue:"Avg GTWs/MSG"!==l?h:d,maxValue:"Avg GTWs/MSG"!==l?p:c,showLabels:!0,width:256,height:this.isSmallScreen()?20:35}),this.rssiColorHeatmapLegendContainer.current):t&&0===e.length&&n.unmountComponentAtNode(this.rssiColorHeatmapLegendContainer.current),this.drawShapeColor&&(t?(this.currentHeatmap2DViewColoredCanvas=document.createElement("canvas"),x=this.currentHeatmap2DViewColoredCanvas,this.currentHeatmap2DViewColoredCanvas.width=this.boxWallCoordinates.width,this.currentHeatmap2DViewColoredCanvas.height=this.boxWallCoordinates.height):(x=document.createElement("canvas"),x.width=this.boxWallCoordinates.width,x.height=this.boxWallCoordinates.height));let f=document.createElement("canvas");if(f.width=this.boxWallCoordinates.width,f.height=this.boxWallCoordinates.height,this.useGenerateHMWebWorkers)if(e.length>0){const n=Math.min(navigator.hardwareConcurrency||4,e.length);let r=[],u=[],C=e.map((()=>({heatmapGeometryProcessed:!1,positionToAlphaCanvasProcessed:!this.drawShapeColor})));const b={promiseResolve:o,promiseReject:a,renderedPositions:e,positionsCoordinates:i,positionsHeatmapRadiuses:g,coloredCanvas:x,alphaCanvas:f,positionsDrawingExceptionList:m,heatmapOptionIndex:s,renderedPositionsHeatmapGeometryAndDrawToAlphaCanvasProcessingStatuses:C,calculatePositionGeometryActiveWorkers:u,drawPositionToAlphaCanvasActiveWorkers:r,heatmapPositionDataSelectedOption:l,heatmapRssiColorMin:h,heatmapRssiColorMax:p,heatmapGatewaysPerMessageColorMax:c,heatmapGatewaysPerMessageColorMin:d,isLiveDrawing:t,calculateHeatmapGeometry:A},y=this.drawShapeColor?Math.max(1,Math.floor(n/2)):n;for(let t=0;t<y;t++)A&&this.createHeatmapGeometryWorker(t,b),this.drawShapeColor&&this.createPositionToAlphaCanvasWorker(t,b)}else o(!this.drawShapeColor||this.positionsCalculateGeometryDrawToAlphaCanvasFinishedCallback(e,i,g,x,f,t));else{for(let t=0;t<e.length;t++)if(A&&Re(e[t],i[t],g[t],m,this.decimalPrecision,this.drawShapeLine,this.ROOM,this.ORPHANWALLS,this.heatmapCanvasContext),this.drawShapeColor){const s=document.createElement("canvas");s.width=2*g[t],s.height=2*g[t],Me(e[t],i[t],g[t],s,f.getContext("2d"),this.boxWallCoordinates,this.ROOM,l,h,p,c,d)}if(t&&A)for(let t=0;t<e.length;t++)this.generatedHeatmapParameters.renderedPositionsSaved[t].heatmapGeometry=e[t].heatmapGeometry;o(!this.drawShapeColor||this.positionsCalculateGeometryDrawToAlphaCanvasFinishedCallback(e,i,g,x,f,t))}}}}))}function mr(t,e){e.renderedPositionsHeatmapGeometryAndDrawToAlphaCanvasProcessingStatuses[t].heatmapGeometryProcessed=null;const i=new ba;e.calculatePositionGeometryActiveWorkers.push(i),i.postMessage({renderedPosition:e.renderedPositions[t],positionCoordinates:e.positionsCoordinates[t],positionRadius:e.positionsHeatmapRadiuses[t],decimalPrecision:this.decimalPrecision,ROOMS:this.ROOM,ORPHANWALLS:this.ORPHANWALLS.map((t=>({...t,wall:{coords:t.wall.coords}})))}),i.onmessage=s=>{e.renderedPositions[t].heatmapGeometry=s.data.renderedPositionHeatmapGeometry,e.isLiveDrawing&&e.calculateHeatmapGeometry&&(this.generatedHeatmapParameters.renderedPositionsSaved.find((i=>i.position_number===e.renderedPositions[t].position_num)).heatmapGeometry=s.data.renderedPositionHeatmapGeometry),e.positionsDrawingExceptionList.push(...s.data.positionsDrawingExceptionList),e.renderedPositionsHeatmapGeometryAndDrawToAlphaCanvasProcessingStatuses[t].heatmapGeometryProcessed=!0,i.terminate();const n=Ne(e.renderedPositionsHeatmapGeometryAndDrawToAlphaCanvasProcessingStatuses);if(-1===n.unProcessedHeatmapGeometryPositionIndex)if(n.inProcessHeatmapGeometryExists)this.drawShapeColor&&-1!==n.unProcessedDrawToAlphaCanvasPositionIndex&&this.createPositionToAlphaCanvasWorker(n.unProcessedDrawToAlphaCanvasPositionIndex,e);else{if(e.positionsDrawingExceptionList.length>0){let t='<ul class="positions-error-modal-list">';for(let i=0;i<e.positionsDrawingExceptionList.length;i++)t+="<li> Position "+e.positionsDrawingExceptionList[i].position_num+"</li>";t+="</ul>",this.positionDrawingSystemExceptionErrorRef.current.addOptionErrorPosition(e.heatmapOptionIndex,t)}-1===n.unProcessedDrawToAlphaCanvasPositionIndex?n.inProcessDrawToAlphaCanvasExists||(dr.log(n),dr.log("positionsCalculateGeometryDrawToAlphaCanvasFinishedCallback call 2"+t),e.promiseResolve(!this.drawShapeColor||this.positionsCalculateGeometryDrawToAlphaCanvasFinishedCallback(e.renderedPositions,e.positionsCoordinates,e.positionsHeatmapRadiuses,e.coloredCanvas,e.alphaCanvas,e.isLiveDrawing))):this.createPositionToAlphaCanvasWorker(n.unProcessedDrawToAlphaCanvasPositionIndex,e)}else this.createHeatmapGeometryWorker(n.unProcessedHeatmapGeometryPositionIndex,e)},i.onerror=t=>{for(let i=0;i<e.calculatePositionGeometryActiveWorkers.length;i++)e.calculatePositionGeometryActiveWorkers[i].terminate();for(let i=0;i<e.drawPositionToAlphaCanvasActiveWorkers.length;i++)e.drawPositionToAlphaCanvasActiveWorkers[i].terminate();this.generateHeatmapInProcess=!1,e.promiseReject(new Error("Error in calculatePositionGeometry Worker!")),dr.log(t)}}function ur(t,e){e.renderedPositionsHeatmapGeometryAndDrawToAlphaCanvasProcessingStatuses[t].positionToAlphaCanvasProcessed=null;const i=new ba;e.drawPositionToAlphaCanvasActiveWorkers.push(i);const s=document.createElement("canvas");s.width=2*e.positionsHeatmapRadiuses[t],s.height=2*e.positionsHeatmapRadiuses[t];const n=s.transferControlToOffscreen();i.postMessage({canvas:n},[n]),i.postMessage({message:"callMethod",renderedPosition:e.renderedPositions[t],positionCoordinates:e.positionsCoordinates[t],positionRadius:e.positionsHeatmapRadiuses[t],boxWallCoordinates:this.boxWallCoordinates,ROOMS:this.ROOM,heatmapPositionDataSelectedOption:e.heatmapPositionDataSelectedOption,heatmapRssiColorMin:e.heatmapRssiColorMin,heatmapRssiColorMax:e.heatmapRssiColorMax,heatmapGatewaysPerMessageColorMax:e.heatmapGatewaysPerMessageColorMax,heatmapGatewaysPerMessageColorMin:e.heatmapGatewaysPerMessageColorMin}),i.onmessage=s=>{let n=document.createElement("canvas");n.width=2*e.positionsHeatmapRadiuses[t],n.height=2*e.positionsHeatmapRadiuses[t],n.getContext("2d").drawImage(s.data.canvasImageBitmap,0,0);const o=e.alphaCanvas.getContext("2d");o.globalAlpha=s.data.alphaCanvasGlobalAlpha,o.drawImage(n,s.data.squareStartX,s.data.squareStartY),e.renderedPositionsHeatmapGeometryAndDrawToAlphaCanvasProcessingStatuses[t].positionToAlphaCanvasProcessed=!0,i.terminate();const a=Ne(e.renderedPositionsHeatmapGeometryAndDrawToAlphaCanvasProcessingStatuses);-1===a.unProcessedDrawToAlphaCanvasPositionIndex?a.inProcessDrawToAlphaCanvasExists?-1!==a.unProcessedHeatmapGeometryPositionIndex&&this.createHeatmapGeometryWorker(a.unProcessedHeatmapGeometryPositionIndex,e):-1===a.unProcessedHeatmapGeometryPositionIndex?a.inProcessHeatmapGeometryExists||(dr.log(a),dr.log("positionsCalculateGeometryDrawToAlphaCanvasFinishedCallback call 1"+t),e.promiseResolve(!this.drawShapeColor||this.positionsCalculateGeometryDrawToAlphaCanvasFinishedCallback(e.renderedPositions,e.positionsCoordinates,e.positionsHeatmapRadiuses,e.coloredCanvas,e.alphaCanvas,e.isLiveDrawing))):this.createHeatmapGeometryWorker(a.unProcessedHeatmapGeometryPositionIndex,e):this.createPositionToAlphaCanvasWorker(a.unProcessedDrawToAlphaCanvasPositionIndex,e)},i.onerror=()=>{for(let t=0;t<e.calculatePositionGeometryActiveWorkers.length;t++)e.calculatePositionGeometryActiveWorkers[t].terminate();for(let t=0;t<e.drawPositionToAlphaCanvasActiveWorkers.length;t++)e.drawPositionToAlphaCanvasActiveWorkers[t].terminate();this.generateHeatmapInProcess=!1,e.promiseReject(new Error("Error in drawPositionToAlphaCanvas Worker!"))}}function gr(t,e,i,s,n,o){return new Promise((a=>{const r=s.getContext("2d",{willReadFrequently:!o});let l=r.getImageData(0,0,this.boxWallCoordinates.width,this.boxWallCoordinates.height),h=l.data,p={};const d=n.getContext("2d").getImageData(0,0,this.boxWallCoordinates.width,this.boxWallCoordinates.height).data;for(let s=0;s<t.length;s++)Le(t[s],e[s],i[s],this.boxWallCoordinates,p,d,h);l.data.set(h),r.putImageData(l,0,0),o?(this.heatmapCanvasContext.drawImage(this.currentHeatmap2DViewColoredCanvas,this.boxWallCoordinates.minX,this.boxWallCoordinates.minY),a(this.generateHeatmapPositionsGatewaysDrawing(s))):(this.generateHeatmapInProcess=!1,a(s))}))}function xr(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise(((e,i)=>{let s=this.linRef.current;this.setPositionSvgCircleOpacity(0),this.svgPositionsHidden&&this.showHeatmapPositionNumbers&&(this.setPositionsSvgOpacity(1),this.svgPositionsHidden=!1);let n=s.cloneNode(!0);n.querySelector(".boxGrid").remove(),n.querySelector("#boxFloorplan").remove(),n.querySelector("#boxSurface").remove(),n.querySelector("#boxRoom").remove(),n.querySelector("#boxWall").remove(),n.querySelector("#boxBind").remove(),n.querySelector("#boxArea").remove(),n.querySelector("#boxRib").remove(),n.querySelector("#boxScale").remove(),n.querySelector("#boxText").remove(),n.querySelector("#boxDebug").remove(),n.querySelector("#boxSourceLocation").remove();let o=n.querySelector("#boxCarpentry");Ot(o),this.showHeatmapPositionNumbers||this.svgPositionsHidden||(this.setPositionsSvgOpacity(0),this.svgPositionsHidden=!0);for(let t=0;t<this.OBJDATA.length;t++)if("position"===this.OBJDATA[t].type&&this.showHeatmapPositionNumbers){let e=this.OBJDATA[t].graph.cloneNode(!0);e.querySelector("path").remove(),o.appendChild(e)}else if("gateway"===this.OBJDATA[t].type){let e=this.OBJDATA[t].graph.cloneNode(!0);e.querySelector("path").setAttribute("fill-opacity",0),o.appendChild(e)}n.style.width="",n.style.height="",n.setAttribute("viewBox",this.boxWallCoordinates.minX-60+" "+(this.boxWallCoordinates.minY-60)+" "+(this.boxWallCoordinates.width+120)+" "+(this.boxWallCoordinates.height+120)),n.setAttribute("width",this.boxWallCoordinates.width+120),n.setAttribute("height",this.boxWallCoordinates.height+120),Ft(n,n);let a=(new XMLSerializer).serializeToString(n),r=window.URL||window.webkitURL||window;this.heatmapHelperCanvasImage=new Image;let l=new Blob([a],{type:"image/svg+xml;charset=utf-8"}),h=r.createObjectURL(l);this.heatmapHelperCanvasImage.onload=()=>{this.heatmapHelperCanvasContext.save(),this.heatmapHelperCanvasContext.scale(this.heatmapCanvasZoomFactor,this.heatmapCanvasZoomFactor),this.heatmapHelperCanvasContext.translate(-this.originX_viewbox,-this.originY_viewbox),this.heatmapHelperCanvasContext.drawImage(this.heatmapHelperCanvasImage,this.boxWallCoordinates.minX-60,this.boxWallCoordinates.minY-60),this.heatmapHelperCanvasContext.restore(),r.revokeObjectURL(h),this.heatmapCanvasContext.restore(),this.heatmapGenerated=!0,this.generateHeatmapInProcess=!1,t&&e(t)},this.heatmapHelperCanvasImage.onerror=()=>{this.boxInfo.current.innerHTML="Ooops. An error happened. Cannot show heatmap position numbers and gateways.",this.generateHeatmapInProcess=!1,i(new Error("Ooops. An error happened. Cannot show heatmap position numbers and gateways."))},this.heatmapHelperCanvasImage.src=h}))}var Ar=i(1317);function fr(t,e,i,s){const n=this.panel.current.style.width.slice(0,-2);Ar.log("Panel width "+n);let o,a=(n-this.offset.left)*e+i,r=t.minX-a,l=24*e+s,h=t.minY-l,p=this.taille_h*e+s-t.maxY;if(this.props.isHeatmap){const t=this.heatmapParametersRef.current.style.transform;let s;if(t){const e=t.slice(t.indexOf("(")+1,t.length-1);s=parseInt(e.slice(0,-2))}else s=0;o=(this.taille_w+s)*e+i}else{let t=Gt();o=t?(this.taille_w-this.offset.left-t.offsetWidth)*e+i:(this.taille_w-this.offset.left)*e+i}return{minX:r,maxX:o-t.maxX,minY:h,maxY:p}}function Cr(t,e,i){return e.width_viewbox_clone=e.width_viewbox_clone-i*this.zoomXMove,e.zoomFactor_clone=e.width_viewbox_clone/this.taille_w,e.originX_viewbox_clone=e.originX_viewbox_clone+i*this.zoomXMove/2,e.originY_viewbox_clone=e.originY_viewbox_clone+i*(this.zoomXMove/2)*this.ratio_viewbox,this.getBoxDimensionsForCurrentZoom(t,e.zoomFactor_clone,e.originX_viewbox_clone,e.originY_viewbox_clone)}function br(t,e,i,s,n){let o=!0;do{if(Ar.log("Do while "+i+" "+n+" "+JSON.stringify(e)+" params "+JSON.stringify(s)),-1===n){if(this.isOverMaxZoomOut(s.width_viewbox_clone,this.zoomXMove))break;o=e[i]<0}else{if(this.isOverMaxZoomIn(s.width_viewbox_clone,this.zoomXMove))break;let a={...s};o=(e=this.boxZoomSimulationSetZoomParameters(t,a,n))[i]>0}o&&(s.zoomLevelsNeeded=s.zoomLevelsNeeded+1*n,e=this.boxZoomSimulationSetZoomParameters(t,s,n))}while(o)}function yr(t,e,i){const s=this.showWholeBoxZoomOperations(t,e,i);this.width_viewbox=s.width_viewbox,this.height_viewbox=s.height_viewbox,this.originX_viewbox=s.originX_viewbox,this.originY_viewbox=s.originY_viewbox,this.zoomFactor=s.zoomFactor,this.heatmapCanvasZoomFactor=s.heatmapCanvasZoomFactor,this.zoom=s.zoom}function wr(t,e,i){this.originX_viewbox=t.x-this.width_viewbox/2,this.originY_viewbox=t.y-this.height_viewbox/2;const s=this.getBoxDimensionsForCurrentZoom(e,this.zoomFactor,this.originX_viewbox,this.originY_viewbox);if(s.minX<0){const t=this.panel.current.style.width.slice(0,-2);t-this.offset.left>this.taille_w/2&&(Ar.log("Upao u zastitu left panela"),this.originX_viewbox+=Math.floor(s.minX),s.minX=e.minX-((t-this.offset.left)*this.zoomFactor+this.originX_viewbox))}s.minY<0&&24>this.taille_w/2*this.ratio_viewbox&&(Ar.log("Upao u zastitu gornjeg dijela"),this.originY_viewbox+=Math.floor(s.minY),s.minY=e.minY-(24*this.zoomFactor+this.originY_viewbox)),this.showWholeBoxZoom(e,s,i)}function vr(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=Tt(this.WALLS),i=Pt(e);i&&this.centerAndShowWholeBoxOperations(i,e,t)}function Sr(t,e,i){let s={width_viewbox_clone:this.width_viewbox,originX_viewbox_clone:this.originX_viewbox,originY_viewbox_clone:this.originY_viewbox,zoomFactor_clone:this.zoomFactor,zoomLevelsNeeded:0};Ar.log("Box rib dimensions"),Ar.log(e);let n=[],o="zoomout",a=-1;for(let d in e)Ar.log(d),e[d]<0&&n.push({value:e[d],propertyName:d,isVertical:"minY"===d||"maxY"===d});if(Ar.log("Negative dimension"),Ar.log(JSON.stringify(n)),0===n.length){for(let t in e)n.push({value:e[t],propertyName:t,isVertical:"minY"===t||"maxY"===t});o="zoomin",a=1}let r=null,l=n.filter((t=>!t.isVertical));if(l.length>0){r=l[0];for(let t=1;t<l.length;t++)l[t].value<r.value&&(r=l[t])}let h=null,p=n.filter((t=>t.isVertical));if(p.length>0){h=p[0];for(let t=1;t<p.length;t++)p[t].value<h.value&&(h=p[t])}if(r&&!h)Ar.log("Samo horizontalni"),this.boxZoomSimulation(t,e,r.propertyName,s,a),!i&&this.zoomToSpecificLevel(o,Math.abs(s.zoomLevelsNeeded));else if(!r&&h)Ar.log("Samo vertikalni"),this.boxZoomSimulation(t,e,h.propertyName,s,a),!i&&this.zoomToSpecificLevel(o,Math.abs(s.zoomLevelsNeeded));else{Ar.log("Oba");let n=r.propertyName,l=h.propertyName;r.value>h.value&&(n=h.propertyName,l=r.propertyName),this.boxZoomSimulation(t,e,n,s,a),(e=this.getBoxDimensionsForCurrentZoom(t,s.zoomFactor_clone,s.originX_viewbox_clone,s.originY_viewbox_clone))[l]>0||(Ar.log("Zoom druge dimenzije"),"zoomin"===o&&(a=-1),this.boxZoomSimulation(t,e,l,s,a)),!i&&this.zoomToSpecificLevel(o,Math.abs(s.zoomLevelsNeeded))}return!i&&this.setSvgViewBoxes(),Ar.log("Levels needed "+s.zoomLevelsNeeded),{originX_viewbox:i?this.originX_viewbox:s.originX_viewbox_clone,originY_viewbox:i?this.originY_viewbox:s.originY_viewbox_clone,width_viewbox:i?this.width_viewbox:s.width_viewbox_clone,height_viewbox:i?this.height_viewbox:s.width_viewbox_clone*this.ratio_viewbox,zoomFactor:i?this.zoomFactor:s.zoomFactor_clone,heatmapCanvasZoomFactor:i?this.heatmapCanvasZoomFactor:this.taille_w/s.width_viewbox_clone,zoom:this.zoom+s.zoomLevelsNeeded}}function Tr(t,e){let i,s=e;if(Ar.log("Initial zoom level change "+e+"zzoom type "+t),"zoomout"===t){if(this.isOverMaxZoomOut(this.width_viewbox,e*this.zoomXMove))for(s--;this.isOverMaxZoomOut(this.width_viewbox,s*this.zoomXMove);)s--;i=s*this.zoomXMove,this.setZoomParameters("zoomout",i,!1)}else{if(this.isOverMaxZoomIn(this.width_viewbox,e*this.zoomXMove))for(s--;this.isOverMaxZoomIn(this.width_viewbox,s*this.zoomXMove);)s--;Ar.log("Zoom level change "+e),i=s*this.zoomXMove,this.setZoomParameters("zoomin",i,!1)}}function Pr(t,e){let i;if("zoomin"===t){if(this.isOverMaxZoomIn(this.width_viewbox,e))return!1;this.width_viewbox-=e,i=this.taille_w/this.width_viewbox,this.height_viewbox=this.width_viewbox*this.ratio_viewbox,this.originX_viewbox=this.originX_viewbox+e/2,this.originY_viewbox=this.originY_viewbox+e/2*this.ratio_viewbox}else if("zoomout"===t){if(this.isOverMaxZoomOut(this.width_viewbox,e))return!1;this.width_viewbox+=e,i=this.taille_w/this.width_viewbox,this.height_viewbox=this.width_viewbox*this.ratio_viewbox,this.originX_viewbox=this.originX_viewbox-e/2,this.originY_viewbox=this.originY_viewbox-e/2*this.ratio_viewbox}return this.heatmapCanvasZoomFactor=i,this.setScaleValueWidth(i),this.zoomFactor=this.width_viewbox/this.taille_w,!0}function Ir(t,e,i){if(this.showMapLayer2DInputRef.current.getCheckedStatus())var s=this.calcul_snap({pageX:this.offset.left,pageY:this.offset.top+this.offset.scrollY});if("zoomout"===t||"zoomin"===t){if(!this.setZoomParameters(t,e,!0))return}else"zoomreset"===t?(this.showHideLeftRightBoxes(),this.centerAndShowFloorplanAndUploadedFloorplanImage(!1)):"zoomright"===t?this.originX_viewbox+=i:"zoomleft"===t?this.originX_viewbox-=i:"zoomtop"===t?this.originY_viewbox-=i:"zoombottom"===t?this.originY_viewbox+=i:"zoomdrag"===t&&(this.originX_viewbox-=e,this.originY_viewbox-=i);this.showMapLayer2DInputRef.current.getCheckedStatus()&&("zoomreset"===t||"zoomout"===t||"zoomin"===t?this.handleMapZoomChange(s):this.handleMapDrag(s)),this.drawingAreaPopupActive&&this.drawingAreaPopupZoomTranslateControl(),this.heatmapGenerated&&this.heatmapZoomTranslateControl(),"simulate_testing_mode"!==this.mode&&"select_source_location_active"!==this.mode||this.simulateTestingCanvasZoomTranslateControl(),"zoomreset"!==t&&this.setSvgViewBoxes()}function jr(){this.heatmapCanvasContext.save(),this.heatmapCanvasContext.scale(this.heatmapCanvasZoomFactor,this.heatmapCanvasZoomFactor),this.heatmapCanvasContext.translate(-this.originX_viewbox,-this.originY_viewbox),this.heatmapCanvasContext.drawImage(this.currentHeatmap2DViewColoredCanvas,this.boxWallCoordinates.minX,this.boxWallCoordinates.minY),this.heatmapCanvasContext.restore(),this.heatmapHelperCanvasContext.save(),this.heatmapHelperCanvasContext.scale(this.heatmapCanvasZoomFactor,this.heatmapCanvasZoomFactor),this.heatmapHelperCanvasContext.translate(-this.originX_viewbox,-this.originY_viewbox),this.heatmapHelperCanvasContext.drawImage(this.heatmapHelperCanvasImage,this.boxWallCoordinates.minX-60,this.boxWallCoordinates.minY-60),this.heatmapHelperCanvasContext.restore()}function Rr(){this.simulateTestingCanvasContext.clearRect(0,0,this.taille_w,this.taille_h),this.simulateTestingCanvasContext.save(),this.simulateTestingCanvasContext.scale(this.heatmapCanvasZoomFactor,this.heatmapCanvasZoomFactor),this.simulateTestingCanvasContext.translate(-this.originX_viewbox,-this.originY_viewbox),this.simulateTestingCanvasContext.drawImage(this.floorplanRoomsClippingCanvas,this.boxWallCoordinates.minX,this.boxWallCoordinates.minY),this.simulateTestingCanvasContext.restore()}function Mr(){this.clearHeatmapCanvases(!0,!1),this.drawToHeatmapCanvases()}function Br(){this.drawingAreaPopup.current.style.transform="translate(".concat((this.drawingAreaPopupActive.x-this.originX_viewbox)/this.zoomFactor,"px, ").concat((this.drawingAreaPopupActive.y-this.originY_viewbox)/this.zoomFactor,"px) translate(-50%, -100%) scale(").concat(this.heatmapCanvasZoomFactor,") translate(0%, ").concat((1-this.heatmapCanvasZoomFactor)/(2*this.heatmapCanvasZoomFactor)*100,"%)")}function Dr(t){if(this.boxFloorplanImage.current.childNodes.length>0){const e=(t=>{let e=t[0].minX,i=t[0].maxX,s=t[0].minY,n=t[0].maxY;for(let o=1;o<t.length;o++)t[o].maxY>n&&(n=t[o].maxY),t[o].minY<s&&(s=t[o].minY),t[o].maxX>i&&(i=t[o].maxX),t[o].minX<e&&(e=t[o].minX);return[{x:e+(i-e)/2,y:s+(n-s)/2},{minX:e,maxX:i,minY:s,maxY:n}]})([this.uploadFloorplanImageToolsRef.current.getFloorplanImageBoundingBox(),Tt(this.WALLS)||{minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0}]);this.centerAndShowWholeBoxOperations(e[0],e[1],t)}else this.centerAndShowWholeFloorplan(t)}function Lr(t,e){const i=this.taille_w-t+e>(this.maxZoomInLevel-this.defaultZoomLevel)*this.zoomXMove;if(this.showMapLayer2DInputRef.current.getCheckedStatus()&&!i){const i=qt(this._map.getCenter().lat,(t-e)/this.taille_w/this.meter);return Ar.log("New map layer zoom "+i),i>22}return i}function Nr(t,e){const i=t-this.taille_w+e>Math.abs(this.maxZoomOutLevel-this.defaultZoomLevel)*this.zoomXMove;if(this.showMapLayer2DInputRef.current.getCheckedStatus()&&!i){const i=qt(this._map.getCenter().lat,(t+e)/this.taille_w/this.meter);return Ar.log("New map layer zoom "+i),i<0}return i}function kr(){if(this.taille_w-(this.maxZoomInLevelDefaultValue-this.defaultZoomLevel)*this.zoomXMove<0){let t=this.maxZoomInLevelDefaultValue-1;for(;this.taille_w-(t-this.defaultZoomLevel)*this.zoomXMove<0;)t--;this.maxZoomInLevel=t}else this.maxZoomInLevel=this.maxZoomInLevelDefaultValue}function Or(t){const e=this.meter*t;let i="metric"===this.context.userUnit?e:M(this.imperialSystemSquareFeetSize,"feet","meter")*e;this.scaleVal.current.style.width=i+"px"}var Fr=i(1317);function Wr(){if(this.selectedBinder){let t=!1;if("room"===this.selectedBinder.binderType){let e;for(let i=0;i<this.ROOM.length;i++)if(this.ROOM[i].id===parseInt(this.selectedBinder.id)){t=!0,e=this.ROOM[i];break}t?(this.setRoomToolsValues(),this.selectedBinder.remove(),this.selectedBinder=this.createRoomBinderPath(e),this.selectedBinder.setAttribute("fill","none"),this.selectedBinder.setAttribute("stroke","#ddf00a"),this.selectedBinder.setAttribute("stroke-width",7),this.selectedBinder.binderType="room"):(this.removeSelectedBinder(),this.hideActiveRightBox())}else if("wall"===this.selectedBinder.binderType){let e;for(let i=0;i<this.WALLS.length;i++)if(this.WALLS[i].wallId===this.selectedBinder.wall.wallId){e=this.WALLS[i],t=!0;break}if(t){this.setWallToolsValues(e);const t=this.selectedBinder.graph.children[0],i=this.selectedBinder.graph.children[1],s=this.selectedBinder.graph.children[2];t.setAttribute("x1",e.start.x),t.setAttribute("y1",e.start.y),t.setAttribute("x2",e.end.x),t.setAttribute("y2",e.end.y),i.setAttribute("cx",e.start.x),i.setAttribute("cy",e.start.y),s.setAttribute("cx",e.end.x),s.setAttribute("cy",e.end.y),this.selectedBinder.wall=e}else this.removeSelectedBinder(),this.hideActiveRightBox()}else if("obj"===this.selectedBinder.binderType){for(let e=0;e<this.OBJDATA.length;e++)if(this.OBJDATA[e].x===this.selectedBinder.obj.x&&this.OBJDATA[e].y===this.selectedBinder.obj.y){this.selectedBinder.obj=this.OBJDATA[e],t=!0;break}if(t){this.setDoorWindowToolsValue(this.selectedBinder.obj),this.onDoorWindowWidthChange(We(this.selectedBinder.obj.size/this.meter,this.context.userUnit,"meter","metric"===this.context.userUnit?"centimeter":"inch",this.doorWindowWidthDecimalPrecision,!1,!1,!0));let t=this.editor.rayCastingWall(this.selectedBinder.obj);t.length>1&&(t=t[0]),this.selectedBinder.thick=t.thick,this.selectedBinder.update(this)}else this.removeSelectedBinder(),this.hideActiveRightBox()}else if("text"===this.selectedBinder.binderType){for(let e=0;e<this.OBJDATA.length;e++)if(this.OBJDATA[e].x===this.selectedBinder.obj.x&&this.OBJDATA[e].y===this.selectedBinder.obj.y){this.selectedBinder.obj=this.OBJDATA[e],t=!0;break}t?(this.setTextToolsValue(this.selectedBinder.obj),this.onBBoxRotationChange(this.selectedBinder.obj.angle),this.onModifyFontSizeChange(this.selectedBinder.obj.value.size)):(this.removeSelectedBinder(),this.hideActiveRightBox())}}}function Hr(t){let e=t.coordsInsideWithOrphans,i="M"+e[0].x+","+e[0].y;for(let s=1;s<e.length-1;s++)i=i+" L"+e[s].x+","+e[s].y;if(i+="Z",t.inside.length>0)for(let s=0;s<t.inside.length;s++){i=i+" M"+this.Rooms.polygons[t.inside[s]].coords[this.Rooms.polygons[t.inside[s]].coords.length-1].x+","+this.Rooms.polygons[t.inside[s]].coords[this.Rooms.polygons[t.inside[s]].coords.length-1].y;for(let e=this.Rooms.polygons[t.inside[s]].coords.length-2;e>-1;e--)i=i+" L"+this.Rooms.polygons[t.inside[s]].coords[e].x+","+this.Rooms.polygons[t.inside[s]].coords[e].y}return i}function Gr(t){let e=this.createRoomPath(t),i=this.qSVG.create(this.boxBind,"path",{id:"roomSelected",d:e,fill:"#c9c14c","fill-opacity":.5,stroke:"#c9c14c","fill-rule":"evenodd","stroke-width":3});return i.type="room",i.realRoomArea=t.realRoomArea,i.id=t.id,i}function Er(t){let e=He(t,this.context.userUnit)*this.meter-ie(this.selectedBinder.wall.start,this.selectedBinder.wall.end);if(0!==e){let i=ee(this.selectedBinder.wall.start.x,this.selectedBinder.wall.start.y,this.selectedBinder.wall.end.x,this.selectedBinder.wall.end.y);if("v"===i.A)this.selectedBinder.wall.end.y<this.selectedBinder.wall.start.y?this.selectedBinder.wall.end.y-=e:this.selectedBinder.wall.end.y+=e,this.selectedBinder.graph.children[2].setAttribute("cy",this.selectedBinder.wall.end.y),this.selectedBinder.graph.children[0].setAttribute("y2",this.selectedBinder.wall.end.y);else if("h"===i.A)this.selectedBinder.wall.end.x<this.selectedBinder.wall.start.x?(Fr.log("Before x: "+this.selectedBinder.wall.end.x),this.selectedBinder.wall.end.x-=e,Fr.log("After x: "+this.selectedBinder.wall.end.x)):this.selectedBinder.wall.end.x+=e,this.selectedBinder.graph.children[2].setAttribute("cx",this.selectedBinder.wall.end.x),this.selectedBinder.graph.children[0].setAttribute("x2",this.selectedBinder.wall.end.x);else{let t,s,n,o,a,r;s=Math.pow(i.A,2)+1,n=-2*this.selectedBinder.wall.end.x+2*i.A*i.B-2*i.A*this.selectedBinder.wall.end.y,Fr.log(Math.pow(this.selectedBinder.wall.end.x,2)),Fr.log(Math.pow(i.B,2)),Fr.log(2*this.selectedBinder.wall.end.y*i.B),Fr.log(Math.pow(this.selectedBinder.wall.end.y,2)),Fr.log(Math.pow(e,2)),o=Math.pow(this.selectedBinder.wall.end.x,2)+Math.pow(i.B,2)-2*this.selectedBinder.wall.end.y*i.B+Math.pow(this.selectedBinder.wall.end.y,2)-Math.pow(e,2),a=(-n+Math.sqrt(Math.pow(n,2)-4*s*o))/(2*s),r=(-n-Math.sqrt(Math.pow(n,2)-4*s*o))/(2*s),Fr.log("A: "+s),Fr.log("B: "+n),Fr.log("C "+o),Fr.log("xNEW1: "+a+" xnew2: "+r),Fr.log("inder end x "+this.selectedBinder.wall.end.x),e>0?(Fr.log("Wall ewUTION A "+i.A),i.A>0?this.selectedBinder.wall.end.x-this.selectedBinder.wall.start.x>0?a>this.selectedBinder.wall.end.x?(Fr.log("Xnew1 postavljen"),t=a):t=r:a<this.selectedBinder.wall.end.x?(Fr.log("Xnew1 postavljen"),t=a):t=r:t=this.selectedBinder.wall.end.x-this.selectedBinder.wall.start.x>0?a>this.selectedBinder.wall.end.x?a:r:a<this.selectedBinder.wall.end.x?a:r,this.selectedBinder.wall.end.x=t,this.selectedBinder.wall.end.y=i.A*t+i.B,this.selectedBinder.graph.children[2].setAttribute("cx",this.selectedBinder.wall.end.x),this.selectedBinder.graph.children[2].setAttribute("cy",this.selectedBinder.wall.end.y),this.selectedBinder.graph.children[0].setAttribute("x2",this.selectedBinder.wall.end.x),this.selectedBinder.graph.children[0].setAttribute("y2",this.selectedBinder.wall.end.y)):(i.A>0?this.selectedBinder.wall.end.x-this.selectedBinder.wall.start.x>0?a<this.selectedBinder.wall.end.x?(Fr.log("Xnew1 postavljen"),t=a):t=r:a>this.selectedBinder.wall.end.x?(Fr.log("Xnew1 postavljen"),t=a):t=r:t=this.selectedBinder.wall.end.x-this.selectedBinder.wall.start.x>0?a<this.selectedBinder.wall.end.x?a:r:a>this.selectedBinder.wall.end.x?a:r,this.selectedBinder.wall.end.x=t,this.selectedBinder.wall.end.y=i.A*t+i.B,this.selectedBinder.graph.children[2].setAttribute("cx",this.selectedBinder.wall.end.x),this.selectedBinder.graph.children[2].setAttribute("cy",this.selectedBinder.wall.end.y),this.selectedBinder.graph.children[0].setAttribute("x2",this.selectedBinder.wall.end.x),this.selectedBinder.graph.children[0].setAttribute("y2",this.selectedBinder.wall.end.y))}this.selectedBinder.wall.type="normal",this.editor.architect(this.WALLS),this.rib(),this.wallLengthValue.current.textContent=t}}function Vr(){this.selectedBinder&&(this.selectedBinder.graph?this.selectedBinder.graph.remove():this.selectedBinder.remove(),this.selectedBinder=null)}function zr(){this.binder&&(this.binder.graph?this.binder.graph.remove():this.binder.remove(),this.binder=null)}var qr=i(1317);function Ur(){this.hideSubItems(),this.razButton(),"block"===this.layerList.current.style.display?(qr.log("Hide layer list"),vt(this.layerList.current,this.othersTimeout,null,!1),this.layersListArrowRef.current.classList.remove("down"),this.foncButton("select_mode"),this.boxInfo.current.innerHTML="Select mode"):(qr.log("Show layer list"),wt(this.layerList.current,this.othersTimeout,null,"block",!1),this.layersListArrowRef.current.classList.add("down"),this.layerMode.current.classList.add("btn-success"),this.foncButton("layer_mode"),this.boxInfo.current.innerHTML="",this.modeOption=void 0),this.removeSelectedBinder()}function Jr(){"room_mode"!==this.mode&&(this.cursor("pointer"),j()?this.boxInfo.current.innerHTML="Touch room which you want to configure":this.boxInfo.current.innerHTML="Configure rooms",this.removeSelectedBinder(),this.foncButton("room_mode"))}function Xr(){"select_mode"!==this.mode&&(this.boxInfo.current.innerHTML="Select mode",this.removeSelectedBinder(),this.foncButton("select_mode"))}function Yr(){"line_mode"!==this.mode&&(this.cursor("crosshair"),j()?this.boxInfo.current.innerHTML="<p>Press screen on start point and hold it until the endpoint</p>":this.boxInfo.current.innerHTML="<p>Create wall(s)<p><p>Hold SHIFT to drag around floorplan.</p>",this.action=0,this.removeSelectedBinder(),this.foncButton("line_mode"))}function Zr(){"door_mode"===this.mode&&"simple"===this.modeOption||(this.cursor("crosshair"),j()?this.boxInfo.current.innerHTML="<p>Press and hold the screen to the position where you want to add door.</p>":this.boxInfo.current.innerHTML="<p>Add door</p><p>Hold SHIFT to drag around floorplan.</p>",this.removeBinder(),this.removeSelectedBinder(),this.foncButton("door_mode","simple"))}function Qr(){"table_mode"!==this.mode&&(this.cursor("crosshair"),j()?this.boxInfo.current.innerHTML="<p>Press and hold the screen to the position where you want to add table.</p>":this.boxInfo.current.innerHTML="<p>Add table</p><p>Hold SHIFT to drag around floorplan.</p>",this.removeSelectedBinder(),this.foncButton("table_mode"))}function Kr(){"door_mode"===this.mode&&"fix"===this.modeOption||(this.cursor("crosshair"),j()?this.boxInfo.current.innerHTML="<p>Press and hold the screen to the position where you want to add window.</p>":this.boxInfo.current.innerHTML="<p>Add window</p><p>Hold SHIFT to drag around floorplan.</p>",this.removeBinder(),this.removeSelectedBinder(),this.foncButton("door_mode","fix"))}function _r(){"text_mode"!==this.mode&&(j()?this.boxInfo.current.innerHTML="<p>Touch the desired location, then type your text.</p>":this.boxInfo.current.innerHTML="<p>Add text<p/><p>Move the cursor to the desired location, then type your text.</p>",this.removeSelectedBinder(),this.foncButton("text_mode"))}function $r(){"none"!==this.uploadImageFloorplanShowRef.current.style.display?wt(this.boxFloorplanImage.current,this.othersTimeout,(()=>{wt(this.uploadImageFloorplanHideRef.current,0,null,"inline",!1),vt(this.uploadImageFloorplanShowRef.current,0,null,!1),this.uploadFloorplanImageStatusContainerRef.current.title="Hide floorplan image"}),"inline",!1):(qr.log("Sakrij floorplan image"),vt(this.boxFloorplanImage.current,this.othersTimeout,(()=>{wt(this.uploadImageFloorplanShowRef.current,0,null,"inline",!1),vt(this.uploadImageFloorplanHideRef.current,0,null,!1),this.uploadFloorplanImageStatusContainerRef.current.title="Show floorplan image"}),!1))}function tl(){("upload_floorplan_image_mode"!==this.mode||"upload_floorplan_image_mode"===this.mode&&!Gt())&&(this.removeSelectedBinder(),this.hideSubItems(),this.translateRightBox(this.floorplanImageTools.current,-250,!0),this.foncButton("upload_floorplan_image_mode"),this.cursor("default"),this.boxInfo.current.innerHTML="Upload floorplan image")}function el(){"layer_mode"===this.mode&&"block"===this.layerList.current.style.display?(vt(this.layerList.current,this.othersTimeout,null,!1),this.layersListArrowRef.current.classList.remove("down")):(this.hideActiveRightBox(),this.removeSelectedBinder(),"upload_floorplan_image_mode"!==this.mode&&"floorplan_image_scaling"!==this.mode&&"floorplan_image_translation"!==this.mode||(this.boxFloorplanImage.current.querySelector(".floorplan-image-scaling-group")&&this.boxFloorplanImage.current.querySelector(".floorplan-image-scaling-group").remove(),this.boxFloorplanImage.current.querySelector(".floorplan-image-translate-group")&&this.boxFloorplanImage.current.querySelector(".floorplan-image-translate-group").remove()))}function il(){this.props.isHeatmap||(this.selectMode.current.classList.remove("btn-success"),this.selectMode.current.classList.add("btn-default"),this.lineMode.current.classList.contains("btn-success")&&vt(this.wallOptionsContainer.current,this.othersTimeout,null,!1),this.lineMode.current.classList.remove("btn-success"),this.lineMode.current.classList.add("btn-default"),this.doorMode.current.classList.remove("btn-success"),this.doorMode.current.classList.add("btn-default"),this.windowMode.current.classList.remove("btn-success"),this.windowMode.current.classList.add("btn-default"),this.textMode.current.classList.remove("btn-success"),this.textMode.current.classList.add("btn-default"),this.roomMode.current.classList.remove("btn-success"),this.roomMode.current.classList.add("btn-default"),this.uploadFloorplanImageMode.current.classList.remove("btn-success"),this.uploadFloorplanImageMode.current.classList.add("btn-default")),this.layerMode.current.classList.remove("btn-success"),this.layerMode.current.classList.add("btn-default")}function sl(t,e){if("dont_save"!==e&&this.save(!1,!1),qr.log("Option: "+e),"layer_mode"!==t&&(!this.props.isHeatmap&&"upload_floorplan_image_mode"!==t&&this.hideSubItems(),this.razButton(),!this.props.isHeatmap))if("door_mode"===t&&"fix"===e)this.windowMode.current.classList.remove("btn-default"),this.windowMode.current.classList.add("btn-success");else{let e;"select_mode"===t?e=this.selectMode:"line_mode"===t?(e=this.lineMode,wt(this.wallOptionsContainer.current,this.othersTimeout,null,"flex",!1)):"door_mode"===t?e=this.doorMode:"window_mode"===t?e=this.windowMode:"text_mode"===t?e=this.textMode:"table_mode"===t?e=this.tableMode:"room_mode"===t?e=this.roomMode:"upload_floorplan_image_mode"===t&&(e=this.uploadFloorplanImageMode),e.current.classList.remove("bnt-default"),e.current.classList.add("btn-success")}qr.log("New mode "+t),this.mode=t,this.modeOption=e,this.lineIntersectionP&&(this.lineIntersectionP.remove(),this.lineIntersectionP=null)}var nl=i(1317);const ol=(t,e,i,s,n)=>{if(i){const i="GLAMOS_".concat(s?n?"Simulation":"Heatmap":"Floorplan","_").concat((new Date).getDate().toString().padStart(2,"0"),"_").concat(((new Date).getMonth()+1).toString().padStart(2,"0"),"_").concat((new Date).getFullYear());if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob){const e=t.msToBlob();navigator.msSaveOrOpenBlob(e,i)}else{((t,e)=>{let i=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),s=document.createElement("a");s.setAttribute("download",e),s.setAttribute("href",t),s.setAttribute("target","_blank"),s.dispatchEvent(i)})(t.toDataURL("image/png"),i)}e(!0)}else e(t.toDataURL("image/png"))};function al(t,e,i,s,n,o,r,l,h,p){return new Promise(((d,c)=>{let m=(p?this.floorplanRoomsClippingCanvas:this.currentHeatmap2DViewColoredCanvas).getContext("2d").getImageData(0,0,this.boxWallCoordinates.width,this.boxWallCoordinates.height);nl.log("Heatmap main image data"),nl.log(m.data);const u=h?0:60;let g=document.createElement("canvas");g.width=(this.boxWallCoordinates.width+2*u)*this.exportPngResolutionScale,g.height=(this.boxWallCoordinates.height+2*u)*this.exportPngResolutionScale;let x=g.getContext("2d");x.scale(this.exportPngResolutionScale,this.exportPngResolutionScale),x.putImageData(m,u,u);let A=new Image;A.onload=()=>{if(s.globalCompositeOperation="destination-over",s.drawImage(A,0,0),s.drawImage(t,0,0),s.globalCompositeOperation="source-over",s.drawImage(e,0,0),n.revokeObjectURL(o),l){let t=new Image;t.onload=()=>{s.drawImage(t,(this.boxWallCoordinates.width+2*u)/2-83,this.boxWallCoordinates.height+2*u-50,166,40),ol(i,d,r,!0,p)},t.onerror=t=>{this.boxInfo.current.innerHTML="Ooops. An error happened during exporting to png.",c(t)},t.src=a}else ol(i,d,r,!0,p)},A.onerror=t=>{this.boxInfo.current.innerHTML="Ooops. An error happened during exporting to png.",c(t)},A.src=g.toDataURL("image/png")}))}function rl(t,e,i,s,n,o,r,l){return new Promise(((h,p)=>{const d=l?0:60;if(i.drawImage(t,0,0),s.revokeObjectURL(n),r){let t=new Image;t.onload=()=>{i.drawImage(t,(this.boxWallCoordinates.width+2*d)/2-83,this.boxWallCoordinates.height+2*d-50,166,40),ol(e,h,o,!1,!1)},t.onerror=t=>{this.boxInfo.current.innerHTML="Ooops. An error happened during exporting to png.",p(t)},t.src=a}else ol(e,h,o,!1,!1)}))}function ll(t,e,i,s,n){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return new Promise(((l,h)=>{if(!t||this.heatmapGenerated||o){let d=this.linRef.current.cloneNode(!0);this.exportPngShowGrid?d.querySelector(".boxGrid").style.opacity=1:d.querySelector(".boxGrid").remove(),this.exportPngShowMeasures?d.querySelector("#boxRib").style.display="inline":d.querySelector("#boxRib").remove(),d.querySelector("#boxScale").remove(),d.querySelector("#boxBind").remove(),d.style.width="",d.style.height="";const c=s?0:60;if(d.setAttribute("viewBox",this.boxWallCoordinates.minX-c+" "+(this.boxWallCoordinates.minY-c)+" "+(this.boxWallCoordinates.width+2*c)+" "+(this.boxWallCoordinates.height+2*c)),d.setAttribute("width",this.boxWallCoordinates.width+2*c),d.setAttribute("height",this.boxWallCoordinates.height+2*c),n||(d.style.backgroundColor="#ffffff"),t){let t=d.querySelector("#boxCarpentry").children;for(let n of t)"energy"===n.getAttribute("data-object-class")&&n.remove();var p=this.linRef.current.cloneNode(!0);p.style.width="",p.style.height="",p.setAttribute("viewBox",this.boxWallCoordinates.minX-c+" "+(this.boxWallCoordinates.minY-c)+" "+(this.boxWallCoordinates.width+2*c)+" "+(this.boxWallCoordinates.height+2*c)),p.setAttribute("width",this.boxWallCoordinates.width+2*c),p.setAttribute("height",this.boxWallCoordinates.height+2*c);let e=[".boxGrid","#boxFloorplan","#boxSurface","#boxRoom","#boxArea","#boxRib","#boxScale","#boxText","#boxDebug","#boxSourceLocation"];if(o){const t=p.querySelector("#boxBind").querySelector("#sourceLocation");t&&(t.style.opacity=1)}else e.push("#boxBind","#boxWall");a||e.push("#boxTestPlanLocations"),e.forEach((t=>p.querySelector(t).remove()));let i=p.querySelector("#boxCarpentry").children,s=[];for(let n of i)if("energy"===n.getAttribute("data-object-class")){let t=n.querySelector("path");"M-15,-15 L15,-15 L15,15 L-15,15 Z"===t.getAttribute("d")?t.setAttribute("fill-opacity",0):this.showHeatmapPositionNumbers&&t.remove()}else o||s.push(n);for(let n=0;n<s.length;n++)s[n].remove();Ft(p,p)}if(a){if(r){let t=d.querySelector("#boxTestPlanLocations");for(let s=0;s<r.length;s++)t.appendChild(this.createTestingLocationObject(r[s].x,r[s].y,r[s].locationNumber,null));let e=d.querySelector("#boxCarpentry").children,i=[];for(let s of e)"energy"===s.getAttribute("data-object-class")&&i.push(s);for(let s=0;s<i.length;s++)i[s].remove()}const t=Math.max(this.boxWallCoordinates.width,this.boxWallCoordinates.height)/this.meter;if(t>=ut[0].interval[0]){let e=1;for(let s=0;s<ut.length;s++)if(t>=ut[s].interval[0]&&t<=ut[s].interval[1]){e=ut[s].scaleFactor;break}let i=d.querySelector("#boxTestPlanLocations").children;for(let t of i)t.firstChild.setAttribute("r",e*this.testLocationNumberDefaultSizes.radius),t.lastChild.setAttribute("font-size","".concat(e*this.testLocationNumberDefaultSizes.fontSize,"px"))}}Ft(d,d);let m=document.createElement("canvas");this.exportPngResolutionScale=4;const u=1e4;(this.boxWallCoordinates.width+2*c)*this.exportPngResolutionScale>u&&(this.exportPngResolutionScale=T(u/(this.boxWallCoordinates.width+2*c),2)),(this.boxWallCoordinates.height+2*c)*this.exportPngResolutionScale>u&&(this.exportPngResolutionScale=T(u/(this.boxWallCoordinates.height+2*c),2)),m.width=(this.boxWallCoordinates.width+2*c)*this.exportPngResolutionScale,m.height=(this.boxWallCoordinates.height+2*c)*this.exportPngResolutionScale,nl.log("Canvas element"),nl.log(m);let g=m.getContext("2d");g.scale(this.exportPngResolutionScale,this.exportPngResolutionScale);let x=(new XMLSerializer).serializeToString(d),A=window.URL||window.webkitURL||window,f=new Image,C=new Blob([x],{type:"image/svg+xml;charset=utf-8"}),b=A.createObjectURL(C);f.onload=()=>{if(t||o){let t=(new XMLSerializer).serializeToString(p),n=window.URL||window.webkitURL||window,a=new Image,r=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),d=n.createObjectURL(r);a.onload=()=>{nl.log("Return promise"),l(this.exportHeatmapPngOnLoadCallback(f,a,m,g,n,b,e,i,s,o))},a.onerror=t=>{this.boxInfo.current.innerHTML="Ooops. An error happened during exporting to png.",h(t)},a.src=d}else l(this.exportFloorplanPngOnLoadCallback(f,m,g,A,b,e,i))},f.onerror=t=>{this.boxInfo.current.innerHTML="Ooops. An error happened during exporting to png.",h(t)},f.src=b}else wt(this.heatmapExportPngErrorModal.current,this.modalTimeout),h(!0)}))}var hl=i(1317);function pl(){this.saveNeeded=!0,this.initHistory("recovery"),this.lastSavedObject=this.HISTORY[this.HISTORY.length-1],this.centerAndShowWholeFloorplan(),"block"===this.initialModal.current.style.display?vt(this.initialModal.current,this.modalTimeout):wt(this.initialModal.current,this.modalTimeout)}function dl(){this.initHistory(""),"block"===this.initialModal.current.style.display?vt(this.initialModal.current,this.modalTimeout):wt(this.initialModal.current,this.modalTimeout)}function cl(){vt(this.saveFloorplanModal.current,this.modalTimeout),this.save_and_create_new=!1}function ml(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(hl.log("Pozvan init history"),this.HISTORY.index=0,!t&&window.localStorage.getItem("history")&&window.localStorage.removeItem("history"),window.localStorage.getItem("history")&&"recovery"===t){let t=JSON.parse(window.localStorage.getItem("history"));this.load(t.length-1,"boot"),this.save("boot",!1)}}function ul(){this.HISTORY=[],this.HISTORY.index=0,window.localStorage.removeItem("history"),this.undoButton.current.classList.add("disabled"),this.redoButton.current.classList.add("disabled")}function gl(t,e){if("save"===t){if(this.saveNeeded&&!this.noHeatmapNameEdit){let t=this.boxPlanName.current.innerHTML;hl.log("Box plan name"+t),""!==t&&"Draft(not saved)"!==t?this.determineBoxPlanNameValue("add_asterisk"):""!==t&&"*"===t[t.length-1]||(this.boxPlanName.current.innerHTML="Draft(not saved)")}this.noHeatmapNameEdit&&(this.saveNeeded=!1),this.noHeatmapNameEdit=!1}else if("set_name"===t)this.boxPlanName.current.innerHTML=e;else if("remove_asterisk"===t){let t=this.boxPlanName.current.innerHTML;"Draft(not saved)"===t&&1===this.HISTORY.index?this.boxPlanName.current.innerHTML="":"*"===t[t.length-1]&&(this.boxPlanName.current.innerHTML=t.slice(0,t.length-1),this.saveNeeded=!1)}else if("add_asterisk"===t){let t=this.boxPlanName.current.innerHTML;""===t?this.boxPlanName.current.innerHTML="Draft(not saved)":"Draft(not saved)"!==t&&"*"!==t[t.length-1]&&(this.boxPlanName.current.innerHTML=t+"*",this.saveNeeded=!0)}}function xl(){let t=this.boxPlanName.current.innerHTML;return this.saveNeeded&&("Draft(not saved)"===t||"*"===t[t.length-1])}function Al(t,e){for(let o in this.WALLS)null!=this.WALLS[o].child&&(this.WALLS[o].child=this.WALLS.indexOf(this.WALLS[o].child)),null!=this.WALLS[o].parent&&(this.WALLS[o].parent=this.WALLS.indexOf(this.WALLS[o].parent));for(let o=0;o<this.OBJDATA.length;o++)this.OBJDATA[o].up&&delete this.OBJDATA[o].up,this.OBJDATA[o].down&&delete this.OBJDATA[o].down;if(hl.log("OBJ DATA"),hl.log(this.OBJDATA),this.props.isHeatmap)for(let o=0;o<this.OBJDATA.length;o++)if("position"===this.OBJDATA[o].type){let t=this.allPositionsObjData.find((t=>t.position_num===this.OBJDATA[o].position_num));t.x=this.OBJDATA[o].x,t.y=this.OBJDATA[o].y}let i=this.props.isHeatmap?{objData:this.OBJDATA,wallData:this.WALLS,roomData:this.ROOM,allPositionsObjData:this.allPositionsObjData,selectedPositionDataGateways:this.selectedPositionDataGateways,selectedPositionDataAntennas:this.selectedPositionDataAntennas,selectedPositionDataSfs:this.selectedPositionDataSfs,heatmapPositionDataSelectedOption:this.heatmapPositionDataSelectedOption,positionButtonOptionsState:this.heatmapOptionPositionDrawingOptions,positionStandardRadius:this.heatmapPositionStandardRadius,rssiColorMin:this.heatmapRssiColorMin,rssiColorMax:this.heatmapRssiColorMax,gatewaysColorMin:this.heatmapGatewaysPerMessageColorMin,gatewaysColorMax:this.heatmapGatewaysPerMessageColorMax,gatewaysColorRangeMax:this.heatmapGatewaysPerMessageRangeColorMax,optionNote:this.heatmapOptionNote,floorNumber:this.heatmapOptionFloorNumber}:{objData:this.OBJDATA,wallData:this.WALLS,roomData:this.ROOM},s=i,n=this.HISTORY[this.HISTORY.index-1];if(n&&(s={...i,objData:i.objData.map((t=>{let{bbox:e,realBbox:i,size:s,thick:n,height:o,width:a,...r}=t;return r}))},n=JSON.parse(this.HISTORY[this.HISTORY.index-1]),n={...n,objData:n.objData.map((t=>{let{bbox:e,realBbox:i,size:s,thick:n,height:o,width:a,...r}=t;return r}))},n=JSON.stringify(n)),JSON.stringify(s)===n){for(let t in this.WALLS)null!=this.WALLS[t].child&&(this.WALLS[t].child=this.WALLS[this.WALLS[t].child]),null!=this.WALLS[t].parent&&(this.WALLS[t].parent=this.WALLS[this.WALLS[t].parent]);return hl.log("Ne spremaj duplicirano"),!1}hl.log("Save neede "+this.saveNeeded),this.determineBoxPlanNameValue("save"),e&&(this.boxInfo.current.innerHTML=""),t&&window.localStorage.removeItem("history"),this.isHeatmapView&&this.pdfReportRef.current.resetPdfReport(),this.HISTORY.index<this.HISTORY.length&&(this.HISTORY.splice(this.HISTORY.index,this.HISTORY.length-this.HISTORY.index),this.redoButton.current.classList.add("disabled")),I(i)||(hl.log("Resetiraj history"),this.resetHistory()),this.HISTORY.push(JSON.stringify(i)),hl.log("History IN SAVE:"),hl.log(this.HISTORY),window.localStorage.setItem("history",JSON.stringify(this.HISTORY)),this.HISTORY.index++,this.HISTORY.index>1&&this.undoButton.current.classList.remove("disabled");for(let o in this.WALLS)null!=this.WALLS[o].child&&(this.WALLS[o].child=this.WALLS[this.WALLS[o].child]),null!=this.WALLS[o].parent&&(this.WALLS[o].parent=this.WALLS[this.WALLS[o].parent]);return!0}function fl(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.HISTORY.index,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=[];if(i)n=i;else{if(0===this.HISTORY.length&&!e)return!1;n=JSON.parse(window.localStorage.getItem("history")),n=JSON.parse(n[t])}this.heatmapGenerated&&this.clearHeatmapCanvases(!1,!1),hl.log("OBJ DATA IN LOAD"),hl.log(this.OBJDATA);for(let o in this.OBJDATA)this.OBJDATA[o].graph.remove();this.OBJDATA=[];for(let o in n.objData){let t=n.objData[o];"energy"===t.family&&(t.family="byObject"),t.hinge||(t.hinge="normal");let e=new Zs(t.family,t.class,t.type,{x:t.x,y:t.y},t.angle,t.angleSign,t.size,t.hinge,t.thick,t.value,t.position_num,t.baseStationOptions,this);e.limit=t.limit,this.OBJDATA.push(e),this.boxCarpentry.current.appendChild(this.OBJDATA[this.OBJDATA.length-1].graph),e.update(this),hl.log("End object"),hl.log(e)}this.props.isHeatmap&&(hl.log("Load history temp"),hl.log(n),this.loadAllPositionsObjData(n.allPositionsObjData),this.selectedPositionDataGateways=n.selectedPositionDataGateways,this.selectedPositionDataAntennas=n.selectedPositionDataAntennas,this.selectedPositionDataSfs=n.selectedPositionDataSfs,this.heatmapOptionPositionDrawingOptions=n.positionButtonOptionsState,this.positionsDataFilterRef.current.setPositionDataParameters(this.selectedPositionDataGateways,this.selectedPositionDataAntennas,this.selectedPositionDataSfs),this.heatmapPositionDataSelectedOption=n.heatmapPositionDataSelectedOption,this.positionDataOptionsRef.current.setSelectedPositionDataOption(this.heatmapPositionDataSelectedOption),this.setOptionNoteAndHeatmapTabParameters(n)),this.WALLS=n.wallData,hl.log(this.WALLS);for(let o in this.WALLS)null!=this.WALLS[o].child&&(this.WALLS[o].child=this.WALLS[this.WALLS[o].child]),null!=this.WALLS[o].parent&&(this.WALLS[o].parent=this.WALLS[this.WALLS[o].parent]);if(this.ROOM=n.roomData,this.editor.architect(this.WALLS),!s){for(let t=0;t<this.WALLS.length;t++)this.WALLS[t].material||(this.WALLS[t].material="Unknown"),this.WALLS[t].wallId=t;this.wallIdCounter=this.WALLS.length;for(let t=0;t<this.ROOM.length;t++)this.ROOM[t].id=t;this.roomIdCounter=this.ROOM.length}this.editor.showScaleBox(),this.rib()}function Cl(){return!(this.OBJDATA.length>0||this.WALLS.length>0||this.ROOM.length>0)}function bl(){return 0===this.WALLS.length}function yl(){this.props.isHeatmap?this.isSaveNeeded()&&wt(this.heatmapCreateNewUnsavedAlertModal.current,this.modalTimeout):this.isSaveNeeded()?wt(this.newFloorplanModalWithSave.current,this.modalTimeout):this.isFloorplanEmpty()||wt(this.newFloorplanModalNoSave.current,this.modalTimeout)}function wl(){this.clearFloorplan(),this.save_and_create_new=!1,this.determineBoxPlanNameValue("set_name",""),vt(this.newFloorplanModalNoSave.current,this.modalTimeout),this.forceUpdate(),this.currentRouteID="new",this.mounted=!0,this.resizeAndKeyDownEventListenersControl(!0,!0)}function vl(){this.save_and_create_new=!1,this.determineBoxPlanNameValue("set_name",""),this.cursor("default"),this.foncButton("select_mode"),this.boxInfo.current.innerHTML="Select mode",vt(this.newFloorplanModalNoSave.current,this.modalTimeout),this.forceUpdate(),this.currentRouteID="new",this.mounted=!0,this.resizeAndKeyDownEventListenersControl(!0,!0)}function Sl(){this.save_and_create_new=!0,vt(this.newFloorplanModalWithSave.current,this.modalTimeout),this.onSaveFloorplan()}function Tl(){this.clearFloorplan(),this.lastSavedObject=null,this.saveNeeded=!1,this.save_and_create_new=!1,this.determineBoxPlanNameValue("set_name",""),vt(this.newFloorplanModalWithSave.current,this.modalTimeout);let t=[this.currentRouteID];"new"!==t[t.length-1]&&(this.forceUpdate(),this.currentRouteID="new",this.mounted=!0,this.resizeAndKeyDownEventListenersControl(!0,!0))}function Pl(){let t=this.floorplanNameInput.current;hl.log("Floorplan name "),hl.log(t.value),""!==t.value?n.render((0,u.jsx)(ra,{}),this.loadingComponentContainer.current,(()=>{hl.log("Trenutni history state:"),hl.log(this.HISTORY[this.HISTORY.index-1]);let e=this.isFloorplanEmpty()?{objData:[],wallData:[],roomData:[]}:JSON.parse(this.HISTORY[this.HISTORY.index-1]);hl.log("Floorplan JSON objekt"),hl.log(e);let i={planObject:e,planName:t.value};b.post.call(this,"/plans",i,(e=>{hl.log("Data after saving"),hl.log(e.data),this.saveNeeded=!1,this.boxInfo.current.innerHTML="Floorplan saved",this.save_and_create_new?(vt(this.saveFloorplanModal.current,this.modalTimeout),this.clearFloorplan(),this.lastSavedObject=null,this.save_and_create_new=!1,this.determineBoxPlanNameValue("set_name","")):(this.resetHistory(),this.save(!1,!1),this.lastSavedObject=this.HISTORY[this.HISTORY.length-1],this.determineBoxPlanNameValue("set_name",t.value),vt(this.saveFloorplanModal.current,this.modalTimeout),this.editor.showScaleBox(),this.floorplanGeneral={version:"1.0"},this.floorplanLastSavedTopLeftSvgCoords={x:this.boxWallCoordinates.minX,y:this.boxWallCoordinates.minY},this.forceUpdate(),this.currentRouteID=e.data[0].plan_id,this.mounted=!0,this.resizeAndKeyDownEventListenersControl(!0,!0)),t.value="",n.unmountComponentAtNode(this.loadingComponentContainer.current)}))})):this.boxInfo.current.innerHTML="You must insert floorplan name"}function Il(){let t=[this.currentRouteID];this.isSaveNeeded()||this.isFloorplanEmpty()||"new"===t[t.length-1]?"new"===t[t.length-1]?wt(this.saveFloorplanModal.current,this.modalTimeout):this.isFloorplanEmpty()||n.render((0,u.jsx)(ra,{}),this.loadingComponentContainer.current,(()=>{let e=JSON.parse(this.HISTORY[this.HISTORY.index-1]);hl.log("Floorplan JSON objekt"),hl.log(e);let i={planObject:e};if(this.floorplanGeneral&&this.floorplanLastSavedTopLeftSvgCoords&&!R(this.floorplanGeneral.gps_latitude)&&!R(this.floorplanGeneral.gps_longitude)){const t=this.recalculateTopLeftGpsCoordinates();t&&(i.planGeneral=t)}b.post.call(this,"/plans/".concat(t[t.length-1]),i,(()=>{this.boxInfo.current.innerHTML="Floorplan saved",this.saveNeeded=!1,this.save_and_create_new?(this.clearFloorplan(),this.lastSavedObject=null,this.save_and_create_new=!1,this.determineBoxPlanNameValue("set_name",""),this.forceUpdate(),this.currentRouteID="new",this.mounted=!0,this.resizeAndKeyDownEventListenersControl(!0,!0)):(i.planGeneral&&(this.floorplanGeneral={...i.planGeneral},this.floorplanLastSavedTopLeftSvgCoords={x:this.boxWallCoordinates.minX,y:this.boxWallCoordinates.minY}),this.resetHistory(),this.save(!1,!1),this.lastSavedObject=this.HISTORY[this.HISTORY.length-1],this.determineBoxPlanNameValue("remove_asterisk")),n.unmountComponentAtNode(this.loadingComponentContainer.current)}))})):hl.log("Save not needed")}function jl(){this.resetHistory(),this.WALLS=[],this.ROOM=[],this.OBJDATA=[],Ot(this.boxFloorplanImage.current),this.uploadFloorplanImageToolsRef.current.resetLayoutState(),Ot(this.boxSurface.current),Ot(this.boxRoom.current),Ot(this.boxWall.current),Ot(this.boxCarpentry.current),Ot(this.boxBind.current),Ot(this.boxArea.current),Ot(this.boxRib.current),Ot(this.boxScale.current),Ot(this.boxText.current),Ot(this.boxDebug.current),Ot(this.indoorPlanningCorrectAreaBox.current),this.cursor("default"),this.boxInfo.current.innerHTML="Select mode",this.foncButton("select_mode"),this.floorplanGeneral=null,this.floorplanLastSavedTopLeftSvgCoords=null}var Rl=i(1317);function Ml(){this.isSaveNeeded()?wt(this.saveHeatmapOptionAsAlertModal.current,this.modalTimeout):wt(this.saveHeatmapOptionAsModal.current,this.modalTimeout)}function Bl(){n.render((0,u.jsx)(ra,{}),this.loadingComponentContainer.current,(()=>{let t=JSON.parse(this.HISTORY[this.HISTORY.index-1]),e=[],i=[];this.filterHeatmapDrawingHistoryObjData(t,e,i),this.heatmapOptions.push({selectedPositionDataGateways:t.selectedPositionDataGateways,selectedPositionDataAntennas:t.selectedPositionDataAntennas,selectedPositionDataSfs:t.selectedPositionDataSfs,renderedGateways:e,positionButtonOptionsState:t.positionButtonOptionsState,heatmapPositionDataSelectedOption:t.heatmapPositionDataSelectedOption,positionStandardRadius:t.positionStandardRadius,rssiColorMin:t.rssiColorMin,rssiColorMax:t.rssiColorMax,gatewaysColorMin:t.gatewaysColorMin,gatewaysColorMax:t.gatewaysColorMax,gatewaysColorRangeMax:t.gatewaysColorRangeMax,optionNote:t.optionNote,floorNumber:t.floorNumber});let s={heatmapGeneral:{...this.heatmapGeneral,optionsCount:this.heatmapGeneral.optionsCount+1},heatmapObject:{objData:i,wallData:t.wallData,roomData:t.roomData,allPositionsObjData:t.allPositionsObjData},heatmapOption:this.heatmapOptions},n=[this.currentRouteID];b.post.call(this,"/heatmaps/".concat(n[n.length-1]),s,(()=>{b.get.call(this,"/heatmaps?heatmapId=".concat(n[n.length-1]),(t=>{this.loadHeatmap(t,this.heatmapOptions.length-1)}))}))}))}function Dl(){n.render((0,u.jsx)(ra,{}),this.loadingComponentContainer.current,(()=>{let t=JSON.parse(this.HISTORY[this.HISTORY.index-1]),e={...this.heatmapOptions[this.currentHeatmapOptionIndex]},i=[],s=[];this.filterHeatmapDrawingHistoryObjData(t,i,s),e.renderedGateways=i,e.positionButtonOptionsState=t.positionButtonOptionsState,e.selectedPositionDataGateways=t.selectedPositionDataGateways,e.selectedPositionDataAntennas=t.selectedPositionDataAntennas,e.selectedPositionDataSfs=t.selectedPositionDataSfs,e.heatmapPositionDataSelectedOption=t.heatmapPositionDataSelectedOption,e.positionStandardRadius=t.positionStandardRadius,e.rssiColorMin=t.rssiColorMin,e.rssiColorMax=t.rssiColorMax,e.gatewaysColorMin=t.gatewaysColorMin,e.gatewaysColorMax=t.gatewaysColorMax,e.gatewaysColorRangeMax=t.gatewaysColorRangeMax,e.optionNote=t.optionNote,e.floorNumber=t.floorNumber,this.heatmapOptions.push(e),Rl.log("Update rnedered positions call"),this.updateHeatmapOptionNotRenderedPositions(e.positionButtonOptionsState,this.heatmapOptions.length-1);let n={heatmapGeneral:{...this.heatmapGeneral,optionsCount:this.heatmapGeneral.optionsCount+1},heatmapObject:{objData:s,wallData:t.wallData,roomData:t.roomData,allPositionsObjData:t.allPositionsObjData},heatmapOption:this.heatmapOptions},o=[this.currentRouteID];b.post.call(this,"/heatmaps/".concat(o[o.length-1]),n,(()=>{b.get.call(this,"/heatmaps?heatmapId=".concat(o[o.length-1]),(t=>{this.saveNeeded=!1,this.loadHeatmap(t,this.heatmapOptions.length-1)}))}))}))}function Ll(t){let e=[this.currentRouteID];this.saveNeeded=!1,this.determineBoxPlanNameValue("remove_asterisk"),b.get.call(this,"/heatmaps?heatmapId=".concat(e[e.length-1]),(e=>{Rl.log("API response"),Rl.log(e[0]),this.allPositionsObjData=e[0].heatmapobject.allPositionsObjData;for(let t=0;t<this.OBJDATA.length;t++)if("position"===this.OBJDATA[t].type){let e=this.allPositionsObjData.find((e=>e.position_num===this.OBJDATA[t].position_num));this.OBJDATA[t].x=e.x,this.OBJDATA[t].y=e.y,this.OBJDATA[t].update(this)}this.heatmapOptions=e[0].heatmapoption,t&&t()}))}function Nl(t){n.render((0,u.jsx)(ra,{}),this.loadingComponentContainer.current,(()=>{let e=JSON.parse(this.HISTORY[this.HISTORY.index-1]),i=[];this.filterHeatmapDrawingHistoryObjData(e,null,i);let s={heatmapGeneral:{...this.heatmapGeneral,optionsCount:this.heatmapGeneral.optionsCount-1},heatmapObject:{objData:i,wallData:e.wallData,roomData:e.roomData,allPositionsObjData:e.allPositionsObjData},heatmapOption:this.heatmapOptions.filter(((e,i)=>i!==t))},n=[this.currentRouteID];b.post.call(this,"/heatmaps/".concat(n[n.length-1]),s,(()=>{b.get.call(this,"/heatmaps?heatmapId=".concat(n[n.length-1]),(e=>{t===this.currentHeatmapOptionIndex?this.currentHeatmapOptionIndex>0?this.currentHeatmapOptionIndex--:this.currentHeatmapOptionIndex=0:t<this.currentHeatmapOptionIndex&&this.currentHeatmapOptionIndex--,this.positionDrawingRef.current.setPositionOptions(e[0].heatmapoption[this.currentHeatmapOptionIndex].positionButtonOptionsState,(()=>this.loadHeatmap(e,this.currentHeatmapOptionIndex))),vt(this.heatmapDeleteOptionModal.current,this.modalTimeout)}))}))}))}function kl(t,e){Rl.log("Response data heatmap data"),Rl.log(t[0]),Rl.log("ucitavaj"),this.resetHistory(),Rl.log("Heatmap value"),Rl.log(t[0]),this.positionsData=t[0].heatmapdata,this.heatmapOptions=t[0].heatmapoption,this.heatmapGeneral=t[0].heatmapgeneral,t[0].heatmapgeneral.devices||(this.heatmapGeneral.devices=[{deviceid:t[0].heatmapgeneral.deviceid,devicename:t[0].heatmapgeneral.devicename}]),this.loadInfoTabParameters(t[0].heatmapgeneral,"antennas","SFs"),this.currentHeatmapOptionIndex=e,this.getGatewaysFromPositionsData((()=>{for(let n=0;n<t[0].heatmapoption[e].renderedGateways.length;n++)t[0].heatmapobject.objData.push(t[0].heatmapoption[e].renderedGateways[n]);let i=t[0].heatmapobject.objData.filter((t=>t.position_num));for(let n=0;n<i.length;n++)t[0].heatmapoption[e].positionButtonOptionsState.find((t=>t.position_number===i[n].position_num))&&t[0].heatmapobject.objData.splice(t[0].heatmapobject.objData.indexOf(i[n]),1);let s=this.positionsData.filter((i=>!t[0].heatmapoption[e].positionButtonOptionsState.find((t=>t.position_number===i.position_number)))).map((t=>t.position_number));Rl.log("Load heatmap should be drawed positions"+JSON.stringify(s));for(let e=0;e<s.length;e++)if(!t[0].heatmapobject.objData.find((t=>t.position_num===s[e]))){let i=t[0].heatmapobject.allPositionsObjData.find((t=>t.position_num===s[e]));t[0].heatmapobject.objData.push(i),0===i.x&&0===i.y&&Rl.log("Should be drawed exception trigerred")}t[0].heatmapobject.selectedPositionDataGateways=t[0].heatmapoption[e].selectedPositionDataGateways,t[0].heatmapobject.selectedPositionDataAntennas=t[0].heatmapoption[e].selectedPositionDataAntennas,t[0].heatmapobject.selectedPositionDataSfs=t[0].heatmapoption[e].selectedPositionDataSfs,t[0].heatmapobject.heatmapPositionDataSelectedOption=t[0].heatmapoption[e].heatmapPositionDataSelectedOption,t[0].heatmapobject.positionButtonOptionsState=t[0].heatmapoption[e].positionButtonOptionsState,t[0].heatmapobject.positionStandardRadius=t[0].heatmapoption[e].positionStandardRadius,t[0].heatmapobject.rssiColorMin=t[0].heatmapoption[e].rssiColorMin,t[0].heatmapobject.rssiColorMax=t[0].heatmapoption[e].rssiColorMax,t[0].heatmapobject.gatewaysColorMin=t[0].heatmapoption[e].gatewaysColorMin,t[0].heatmapobject.gatewaysColorMax=t[0].heatmapoption[e].gatewaysColorMax,t[0].heatmapobject.gatewaysColorRangeMax=t[0].heatmapoption[e].gatewaysColorRangeMax,t[0].heatmapobject.optionNote=t[0].heatmapoption[e].optionNote,t[0].heatmapobject.floorNumber=t[0].heatmapoption[e].floorNumber,this.load(0,!1,t[0].heatmapobject),this.save(!0,!1),this.lastSavedObject=this.HISTORY[this.HISTORY.length-1],this.determineBoxPlanNameValue("set_name",t[0].heatmapname),this.handleHeatmapOptionButtonInfoBoxChange(null,e),this.generateHeatmapWithLoadingHandler({isMounting:!0},!1)}))}function Ol(t,e){this.isSaveNeeded()?n.render((0,u.jsx)(ra,{}),this.loadingComponentContainer.current,(()=>{let i=JSON.parse(this.HISTORY[this.HISTORY.index-1]),s=this.heatmapOptions[this.currentHeatmapOptionIndex],n=[],o=[];this.filterHeatmapDrawingHistoryObjData(i,n,o),s.renderedGateways=n,s.positionButtonOptionsState=i.positionButtonOptionsState,s.selectedPositionDataGateways=i.selectedPositionDataGateways,s.selectedPositionDataAntennas=i.selectedPositionDataAntennas,s.selectedPositionDataSfs=i.selectedPositionDataSfs,s.heatmapPositionDataSelectedOption=i.heatmapPositionDataSelectedOption,s.positionStandardRadius=i.positionStandardRadius,s.rssiColorMin=i.rssiColorMin,s.rssiColorMax=i.rssiColorMax,s.gatewaysColorMin=i.gatewaysColorMin,s.gatewaysColorMax=i.gatewaysColorMax,s.gatewaysColorRangeMax=i.gatewaysColorRangeMax,s.optionNote=i.optionNote,s.floorNumber=i.floorNumber,this.updateHeatmapOptionNotRenderedPositions(s.positionButtonOptionsState,this.currentHeatmapOptionIndex);let a={heatmapObject:{objData:o,wallData:i.wallData,roomData:i.roomData,allPositionsObjData:i.allPositionsObjData},heatmapOption:this.heatmapOptions},r=[this.currentRouteID];b.post.call(this,"/heatmaps/".concat(r[r.length-1],"?type=2"),a,(()=>{b.get.call(this,"/heatmaps?heatmapId=".concat(r[r.length-1]),(i=>{this.saveNeeded=!1,e?this.positionDrawingRef.current.setPositionOptions(i[0].heatmapoption[t].positionButtonOptionsState,(()=>this.loadHeatmap(i,t))):this.loadHeatmap(i,t)}))}))})):Rl.log("Nije potrebno spremanje")}function Fl(){if(this.isSaveNeeded()){let t=[this.currentRouteID];"new"===t[t.length-1]&&wt(this.saveHeatmapModal.current,this.modalTimeout)}}function Wl(){Rl.log("Heatmap name "),Rl.log(this.heatmapNameInput.current.value),""!==this.heatmapNameInput.current.value?n.render((0,u.jsx)(ra,{}),this.loadingComponentContainer.current,(()=>{Rl.log("Trenutni history state:"),Rl.log(this.HISTORY[this.HISTORY.index-1]);let t=JSON.parse(this.HISTORY[this.HISTORY.index-1]);Rl.log("HEATMAP JSON objekt"),Rl.log(t);let e=[],i=[];this.filterHeatmapDrawingHistoryObjData(t,e,i),this.heatmapOptions=[{selectedPositionDataGateways:t.selectedPositionDataGateways,selectedPositionDataAntennas:t.selectedPositionDataAntennas,selectedPositionDataSfs:t.selectedPositionDataSfs,renderedGateways:e,positionButtonOptionsState:t.positionButtonOptionsState,heatmapPositionDataSelectedOption:t.heatmapPositionDataSelectedOption,positionStandardRadius:t.positionStandardRadius,rssiColorMin:t.rssiColorMin,rssiColorMax:t.rssiColorMax,gatewaysColorMin:t.gatewaysColorMin,gatewaysColorMax:t.gatewaysColorMax,gatewaysColorRangeMax:t.gatewaysColorRangeMax,optionNote:t.optionNote,floorNumber:t.floorNumber}],Rl.log("First heatmap options"),Rl.log(this.heatmapOptions[0]),this.currentHeatmapOptionIndex=0,this.heatmapGeneral={version:"1.1",devices:this.heatmapParams.devices,startTimestamp:this.heatmapParams.startTimestamp,stopTimestamp:this.heatmapParams.stopTimestamp,optionsCount:1,SFs:this.heatmapParams.encountered_sfs,antennas:this.heatmapParams.encountered_antennas,positions:this.heatmapParams.encountered_positions,floorplanID:this.selectedFloorplanInfo.id,floorplanName:this.selectedFloorplanInfo.name,floorplanLastUpdate:this.selectedFloorplanInfo.lastUpdate,floorplanGeneral:this.selectedFloorplanInfo.planGeneral,gatewaysNumber:this.infoTabData.gatewaysNumber,messagesCount:this.infoTabData.messagesCount,minMessagesRssi:this.infoTabData.minMessagesRssi,maxMessagesRssi:this.infoTabData.maxMessagesRssi,heatmapNote:""};let s={heatmapData:this.positionsData,heatmapObject:{objData:i,wallData:t.wallData,roomData:t.roomData,allPositionsObjData:t.allPositionsObjData},heatmapName:this.heatmapNameInput.current.value,heatmapGeneral:this.heatmapGeneral,heatmapOption:this.heatmapOptions};b.post.call(this,"/heatmap",s,(t=>{this.forceUpdate(),this.currentRouteID=t.data[0].heatmap_id,this.mounted=!0,this.resizeAndKeyDownEventListenersControl(!0,!0),b.get.call(this,"/heatmaps?heatmapId=".concat(t.data[0].heatmap_id),(e=>{Rl.log("Data after heatmap saving"),Rl.log(t.data),this.saveNeeded=!1,vt(this.saveHeatmapModal.current,this.modalTimeout),this.determineBoxPlanNameValue("set_name",this.heatmapNameInput.current.value),window.localStorage.removeItem("heatmapData"),this.loadHeatmap(e,0)}))}))})):this.boxInfo.current.innerHTML="You must insert heatmap name"}function Hl(t,e){let i=[...t,...this.positionDrawingRef.current.getShowedPositions().map((t=>({position_number:t.position_number,showed:!0})))];Rl.log("Current option positions state"),Rl.log(i);for(let s=0;s<this.heatmapOptions.length;s++)if(s!==e){let t=this.heatmapOptions[s].positionButtonOptionsState.filter((t=>t.notRendered));for(let e=0;e<t.length;e++){i.find((i=>i.position_number===t[e].position_number)).notRendered||(Rl.log("Makni not rendered u opciji "+(s+1)),delete t[e].notRendered,t[e].hidden=!0)}Rl.log("Position button options state nakon micanja "+JSON.stringify(this.heatmapOptions[s].positionButtonOptionsState))}}function Gl(t,e,i){Rl.log("Load info tab data object"),Rl.log(t),this.heatmapParams||(this.heatmapParams={},t.devices?this.heatmapParams.devices=t.devices:this.heatmapParams.devices=[{deviceid:t.deviceid,devicename:t.devicename}],this.heatmapParams.startTimestamp=t.startTimestamp,this.heatmapParams.stopTimestamp=t.stopTimestamp),this.infoTabData={},this.infoTabData.messagesCount=t.messagesCount,this.infoTabData.positionsCount=this.positionsData.length,this.infoTabData.gatewaysNumber=t.gatewaysNumber,this.infoTabData.minMessagesRssi=t.minMessagesRssi,this.infoTabData.maxMessagesRssi=t.maxMessagesRssi,this.infoTabData.antennas=t[e],this.infoTabData.sfs=t[i]}function El(t){this.allPositionsObjData=[];for(let e=0;e<t.length;e++)if("position"===t[e].type){let i=new Zs(t[e].family,t[e].class,t[e].type,{x:t[e].x,y:t[e].y},t[e].angle,t[e].angleSign,t[e].size,t[e].hinge,t[e].thick,t[e].value,t[e].position_num,void 0,this);this.allPositionsObjData.push(i)}}function Vl(t){let e,i;this.heatmapPositionStandardRadius=t.positionStandardRadius,this.positionRadiusInput.current.setPositionStandardRadius(this.heatmapPositionStandardRadius),this.heatmapRssiColorMin=t.rssiColorMin,this.heatmapRssiColorMax=t.rssiColorMax,this.heatmapGatewaysPerMessageColorMin=t.gatewaysColorMin,this.heatmapGatewaysPerMessageColorMax=t.gatewaysColorMax,this.heatmapGatewaysPerMessageRangeColorMax=t.gatewaysColorRangeMax,"Avg GTWs/MSG"!==t.heatmapPositionDataSelectedOption?(e=this.heatmapRssiColorMin,i=this.heatmapRssiColorMax):(e=this.heatmapGatewaysPerMessageColorMin,i=this.heatmapGatewaysPerMessageColorMax),this.heatmapColorRangeRef.current.setHeatmapColorValues([e,i],yt(t.heatmapPositionDataSelectedOption)),this.heatmapOptionNote=t.optionNote,this.heatmapOptionNoteRef.current.setOptionNoteValue(t.optionNote),this.heatmapOptionFloorNumber=t.floorNumber,this.heatmapFloorNumberRef.current.setFloorNumber(t.floorNumber)}var zl=i(1317);function ql(t){for(let e=0;e<this.OBJDATA.length;e++)"position"===this.OBJDATA[e].type&&(this.OBJDATA[e].graph.setAttribute("fill-opacity",t),this.OBJDATA[e].graph.setAttribute("stroke-opacity",t))}function Ul(t){for(let e=0;e<this.OBJDATA.length;e++)if("position"===this.OBJDATA[e].type){let i=this.OBJDATA[e].graph.querySelector("path");i.setAttribute("fill-opacity",t),i.setAttribute("stroke-opacity",t)}}function Jl(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;t||(this.setPositionSvgCircleOpacity(1),this.positionsPopupParameters=[]),this.svgPositionsHidden&&!t&&(this.setPositionsSvgOpacity(1),this.svgPositionsHidden=!1),this.heatmapCanvasContext.clearRect(0,0,this.taille_w,this.taille_h),this.heatmapHelperCanvasContext.clearRect(0,0,this.taille_w,this.taille_h),e&&n.unmountComponentAtNode(this.rssiColorHeatmapLegendContainer.current)}function Xl(t,e){let i,s;if(t.touches){let e=t.changedTouches;i=e[0].pageX,s=e[0].pageY}else i=t.pageX,s=t.pageY;let n,o,a=(i-this.offset.left)*this.zoomFactor+this.originX_viewbox,r=(s-this.offset.scrollY-this.offset.top)*this.zoomFactor+this.originY_viewbox;return"on"===e&&(n=Math.round(a/this.grid)*this.grid,o=Math.round(r/this.grid)*this.grid),"off"===e&&(n=a,o=r),{x:n,y:o,xMouse:a,yMouse:r}}function Yl(t,e){return{screenX:(t-this.originX_viewbox)/this.zoomFactor+this.offset.left,screenY:(e-this.originY_viewbox)/this.zoomFactor+this.offset.scrollY+this.offset.top}}function Zl(t){return Math.abs(Math.abs(this.pox-t.x)+Math.abs(this.poy-t.y))}function Ql(t){this.linRef.current.style.cursor=t}function Kl(){let t=Gt();zl.log("Queried element"),zl.log(t),t&&(t!==this.floorplanImageTools.current?t.querySelector(".close-rightBox").click():this.uploadFloorplanImageToolsRef.current.onInsertFlorplanImageClose(null,!0))}function _l(t,e,i){i&&t!==this.heatmapParametersRef.current?t.classList.add("active"):t.classList.remove("active"),this.isSmallScreen()&&this.isPanelMaximized()&&"simulate_testing_mode"!==this.mode&&"select_source_location_active"!==this.mode&&"plan_testing_mode"!==this.mode&&this.onPanelControlClick(),this.isSmallScreen()||(this.rightControlsBox.current.style.transform="translateX(".concat(i?e-150:-150,"px)")),t.style.transform="translateX(".concat(e,"px)")}function $l(t,e,i,s){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,o=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,r=[];return r.params={},r.params.bindBox=!1,r.params.move=!1,r.params.resize=!1,r.params.resizeLimit={},r.params.resizeLimit.width={min:!1,max:!1},r.params.resizeLimit.height={min:!1,max:!1},r.params.rotate=!1,"socle"===t&&r.push({path:"M "+-i/2+","+-s/2+" L "+-i/2+","+s/2+" L "+i/2+","+s/2+" L "+i/2+","+-s/2+" Z",fill:"#19ab7f",stroke:"#19ab7f",strokeDashArray:""}),"furniture"===t&&"table"===e&&(r.params.bindBox=!0,r.params.move=!0,r.params.resize=!1,r.params.rotate=!1,r.push({path:"M "+-i/2+","+-s/2+" L "+-i/2+","+s/2+" L "+i/2+","+s/2+" L "+i/2+","+-s/2+" Z",fill:"#eeeeee",stroke:"#cccccc",strokeDashArray:""}),r.family="free"),"doorWindow"===t&&("simple"===e&&(zl.log("Dodan door"),r.push({path:"M "+-i/2+","+-s/2+" L "+-i/2+","+s/2+" L "+i/2+","+s/2+" L "+i/2+","+-s/2+" Z",fill:"#ccc",stroke:"none",strokeDashArray:""}),r.push({path:"M "+-i/2+","+-s/2+" L "+-i/2+","+(-i-s/2)+"  A"+i+","+i+" 0 0,1 "+i/2+","+-s/2,fill:"none",stroke:this.colorWall,strokeDashArray:""}),r.params.resize=!0,r.params.resizeLimit.width={min:this.doorWidthMinValue,max:this.doorWidthMaxValue}),"fix"===e&&(zl.log("Dodan prozor"),r.push({path:"M "+-i/2+",-2 L "+-i/2+",2 L "+i/2+",2 L "+i/2+",-2 Z",fill:"#ccc",stroke:"none",strokeDashArray:""}),r.push({path:"M "+-i/2+","+-s/2+" L "+-i/2+","+s/2+" M "+i/2+","+s/2+" L "+i/2+","+-s/2,fill:"none",stroke:"#ccc",strokeDashArray:""}),r.params.resize=!0,r.params.resizeLimit.width={min:this.windowWidthMinValue,max:this.windowWidthMaxValue})),"measure"===t&&(r.params.bindBox=!0,r.push({path:"M-"+i/2+",0 l10,-10 l0,8 l"+(i-20)+",0 l0,-8 l10,10 l-10,10 l0,-8 l-"+(i-20)+",0 l0,8 Z",fill:"#729eeb",stroke:"none",strokeDashArray:""})),"boundingBox"===t&&r.push({path:"M"+(-i/2-10)+","+(-s/2-10)+" L"+(i/2+10)+","+(-s/2-10)+" L"+(i/2+10)+","+(s/2+10)+" L"+(-i/2-10)+","+(s/2+10)+" Z",fill:"none",stroke:"#aaa",strokeDashArray:""}),"text"===t&&(r.params.bindBox=!0,r.params.move=!0,r.params.rotate=!0,r.push({text:n.text,x:"0",y:"0",fill:e,stroke:e,fontSize:n.size+"px",strokeWidth:"0px"})),"energy"===t&&(r.params.bindBox=!0,r.params.move=!0,r.params.resize=!1,r.params.rotate=!1,"position"===e?(r.push({path:this.qSVG.circlePath(0,0,this.meter/2),fill:"#fff",stroke:"#333",strokeDashArray:""}),r.push({text:o,x:"0",y:"5",fill:"#333333",stroke:"none",fontSize:"15px",strokeWidth:"0.4px"}),r.params.width=this.meter,r.params.height=this.meter,r.family="free"):"gateway"===e&&(r.push({path:"M"+-i/2+","+-s/2+" L"+i/2+","+-s/2+" L"+i/2+","+s/2+" L"+-i/2+","+s/2+" Z",fill:"#fff",stroke:"#000000",strokeDashArray:""}),r.push({text:a,x:"0",y:"5",fill:"#333333",stroke:"none",fontSize:"15px",strokeWidth:"0.4px"}),r.family="free")),"fixed"===t&&(r.params.bindBox=!1,r.params.move=!1,r.params.resize=!1,r.params.rotate=!1,"position"===e&&(r.push({path:this.qSVG.circlePath(0,0,this.meter/3),fill:"#fafaf9",stroke:"#c0c0c4",strokeDashArray:""}),r.push({text:o,x:"0",y:"5",fill:"#c0c0c4",stroke:"none",fontSize:"15px",strokeWidth:"0.4px"}),r.params.width=this.meter/1.5,r.params.height=this.meter/1.5),r.family="stick"),r}function th(){this.props.isHeatmap&&"translateX(-250px)"===this.heatmapParametersRef.current.style.transform?this.heatmapRightBoxRef.current.onHeatmapRightBoxControlClick():"simulate_testing_mode"===this.mode||"select_source_location_active"===this.mode?this.simulateTestingRightBoxRef.current.hideRightBox():"plan_testing_mode"===this.mode?this.planTestingRightBoxRef.current.hideRightBox():Gt()&&(this.hideActiveRightBox(),this.removeSelectedBinder())}function eh(){this.isSmallScreen()?(this.hideRightBox(),"plan_testing_mode"===this.mode?this.planTestingLeftPanelRef.current.hidePanel():this.floorplan3DComponent.current?this.floorplan3DComponent.current.hidePanel():"simulate_testing_mode"!==this.mode&&"select_source_location_active"!==this.mode&&this.minimizePanel(this.smallScreenMinimizedPanelSize)):"simulate_testing_mode"!==this.mode&&"select_source_location_active"!==this.mode&&"plan_testing_mode"!==this.mode&&(this.panel.current.style.width==="".concat(this.smallScreenMinimizedPanelSize,"px")?this.minimizePanel(this.bigScreenMinimizedPanelSize):this.panel.current.style.width==="".concat(this.smallScreenMaximizedPanelSize,"px")&&this.maximizePanel(this.bigScreenMaximizedPanelSize))}function ih(){if(this.isSmallScreen())this.rightControlsBox.current.style.transform="translateX(-150px)";else{const e=Gt();this.rightControlsBox.current.style.transform="translateX(".concat(e?(t=e.style.transform,-parseFloat(t.replace(/[^\d.]/g,""))-150):-150,"px)")}var t}function sh(){return this.panel.current.style.width==="".concat(this.smallScreenMaximizedPanelSize,"px")||this.panel.current.style.width==="".concat(this.bigScreenMaximizedPanelSize,"px")}function nh(){return this.taille_w<this.smallScreenPixelSize}function oh(t){null!==this.wallIdCounter&&(t.wallId=this.wallIdCounter,this.wallIdCounter++)}function ah(){const t=[this.currentRouteID];return this.props.isHeatmap?this.selectedFloorplanInfo?this.selectedFloorplanInfo.id:this.heatmapGeneral.floorplanID:"new"!==t[t.length-1]?t[t.length-1]:null}function rh(){let t=this.boxPlanName.current.innerHTML;return""===t||"Draft(not saved)"===t?null:"*"===t[t.length-1]?t.slice(0,t.length-1):t}function lh(t,e){let i=this.OBJDATA.filter((t=>t.position_num));e||(i=i.map((t=>({...t}))));let s=[];for(let a=0;a<i.length;a++)t.positionButtonOptionsState.find((t=>t.position_number===i[a].position_num))&&(e?(zl.log("remove graph position"),zl.log(i[a]),i[a].graph.remove(),this.OBJDATA.splice(this.OBJDATA.indexOf(i[a]),1)):s.push(a));if(!e){s.sort(((t,e)=>e-t));for(let t=0;t<s.length;t++)i.splice(s[t],1)}let n=this.positionsData.filter((e=>!t.positionButtonOptionsState.find((t=>t.position_number===e.position_number)))).map((t=>t.position_number));zl.log("Position button options state: "+JSON.stringify(t.positionButtonOptionsState)),zl.log("Option click should be drawed positions "+JSON.stringify(n));const o=e?this.OBJDATA:i;for(let a=0;a<n.length;a++)if(!o.find((t=>t.position_num===n[a]))){let t=this.allPositionsObjData.find((t=>t.position_num===n[a])),s=new Zs(t.family,t.class,t.type,{x:t.x,y:t.y},t.angle,t.angleSign,t.size,t.hinge,t.thick,t.value,t.position_num,void 0,this);e?(this.boxCarpentry.current.appendChild(s.graph),s.update(this),this.OBJDATA.push(s)):i.push(s)}if(!e)return i}function hh(t,e){return _t({x:t,y:e},this.ROOM)&&!this.editor.rayCastingWall({x:t,y:e})}function ph(){this.simulateTestingSourceLocationIsValid=this.isLocationInsideRoomAndNotOnWalls(parseFloat(this.binder.getAttribute("x"))+this.meter/6,parseFloat(this.binder.getAttribute("y"))+this.meter/6),this.simulateTestingSourceLocationIsValid?this.binder.setAttribute("fill-opacity",1):this.binder.setAttribute("fill-opacity",.5)}function dh(t,e){this.binder=this.qSVG.create(this.boxBind,"rect",{id:"sourceLocation",x:t-this.meter/6,y:e-this.meter/6,width:this.meter/3,height:this.meter/3,fill:"#000000"})}function ch(t,e,i,s){const n=this.qSVG.create("none","g",{x:t,y:e}),o=this.qSVG.create("none","circle",{cx:0,cy:0,r:this.testLocationNumberDefaultSizes.radius,fill:"#ffffff","stroke-width":1,stroke:"#333333"});n.appendChild(o);const a=this.qSVG.create("none","text",{x:0,y:0,fill:"#333333","font-size":"".concat(this.testLocationNumberDefaultSizes.fontSize,"px"),"font-family":"'Nunito', sans-serif","stroke-width":"1px","text-anchor":"middle","alignment-baseline":"middle","dominant-baseline":"middle","font-weight":"bold"});return a.textContent=i,n.appendChild(a),n.setAttribute("transform","translate("+t+","+e+") "),s&&s.current.appendChild(n),n}function mh(t,e){this.binder.setAttribute("x",t-this.meter/6),this.binder.setAttribute("y",e-this.meter/6)}function uh(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=()=>{this.generateHeatmapInProcess||this.generateHeatmap(!0,void 0!==t.isMounting&&t.isMounting).then((()=>n.unmountComponentAtNode(this.loadingComponentContainer.current))).catch((t=>{zl.log(t),wt(this.generateHeatmapErrorModal.current,this.modalTimeout),n.unmountComponentAtNode(this.loadingComponentContainer.current)}))};!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?n.render((0,u.jsx)(ra,{}),this.loadingComponentContainer.current,e):e()}function gh(t){const e=t.getBoundingClientRect(),i=this.calcul_snap({pageX:e.x,pageY:e.y}),s=this.calcul_snap({pageX:e.x+e.width,pageY:e.y}),n=this.calcul_snap({pageX:e.x+e.width,pageY:e.y+e.height}),o=this.calcul_snap({pageX:e.x,pageY:e.y+e.height});return[{x:i.xMouse,y:i.yMouse},{x:s.xMouse,y:s.yMouse},{x:n.xMouse,y:n.yMouse},{x:o.xMouse,y:o.yMouse},{x:i.xMouse,y:i.yMouse}]}function xh(){this.linRef.current.setAttribute("viewBox",this.originX_viewbox+" "+this.originY_viewbox+" "+this.width_viewbox+" "+this.height_viewbox),this.gridSvgElementRef.current.setAttribute("viewBox",this.originX_viewbox+" "+this.originY_viewbox+" "+this.width_viewbox+" "+this.height_viewbox)}function Ah(){const t=[...this.positionDrawingRef.current.getPositionButtonOptions(),...this.positionDrawingRef.current.getShowedPositions().map((t=>({position_number:t.position_number,showed:!0})))];this.removeHeatmapDeadPositions();for(let e=0;e<t.length;e++)if(2===Object.keys(t[e]).length&&t[e].filtered){const i=this.allPositionsObjData.find((i=>i.position_num===t[e].position_number));zl.log("Create dead positionsss");const s=new Zs("stick","fixed","position",{x:i.x,y:i.y},0,0,0,"normal",0,null,t[e].position_number,void 0,this);this.boxCarpentry.current.appendChild(s.graph),s.update(this)}}function fh(){const t=this.boxCarpentry.current.querySelectorAll('[data-object-class="fixed"][data-object-type="position"]');if(t)for(let e of t)e.remove()}function Ch(){if(this.floorplanLastSavedTopLeftSvgCoords.x!==this.boxWallCoordinates.minX||this.floorplanLastSavedTopLeftSvgCoords.y!==this.boxWallCoordinates.minY){const t=Jt(this.floorplanLastSavedTopLeftSvgCoords.x,this.floorplanLastSavedTopLeftSvgCoords.y,this.boxWallCoordinates.minX,this.boxWallCoordinates.minY,this.floorplanGeneral.gps_latitude,this.floorplanGeneral.gps_longitude,this.meter,this.floorplanGeneral.floorplan_bearing||0);return{...this.floorplanGeneral,gps_latitude:t[1],gps_longitude:t[0]}}return null}function bh(){for(let t=0;t<this.ROOM.length;t++)this.qSVG.create(this.indoorPlanningCorrectAreaBox,"path",{d:this.createRoomPath(this.ROOM[t]),fill:"#90EE90","fill-opacity":.5,stroke:"#90EE90","fill-rule":"evenodd","stroke-width":3})}function yh(t){return[t.selectedPositionDataGateways.map((t=>"Select all gateways"!==t.name?this.state.gatewaysData.find((e=>e.gtw_id===t.gtw_id)):this.gatewaysFilterRef.current.selectAllObject)),t.selectedPositionDataAntennas.map((t=>this.infoTabData.antennas.find((e=>e.antenna_type===t.antenna_type)))),t.selectedPositionDataSfs]}function wh(){this.heatmapGenerated&&this.clearHeatmapCanvases(!1,!0),this.heatmapGenerated=!1,this.drawingAreaPopupActive&&(this.showMapLayer2D3DRef.current&&this.showMapLayer2D3DRef.current.onPositionPopupClose(),this.removeSelectedBinder(),this.closeDrawingAreaPopup()),this.saveNeeded=!0,this.save(!1,!0)}function vh(){const t=this.isSmallScreen();this.panel.current.style.transform="translateX(200px)",this.panelControl.current.style.transform="translateX(200px)",this.boxPlanName.current.style.paddingLeft="".concat(parseInt(this.panel.current.style.width.slice(0,-2))+30,"px"),this.boxInfo.current.style.left="".concat(parseInt(this.panel.current.style.width.slice(0,-2))+30,"px"),t?this.minimizePanel(this.smallScreenMinimizedPanelSize):this.panel.current.style.width==="".concat(this.smallScreenMinimizedPanelSize,"px")?this.minimizePanel(this.bigScreenMinimizedPanelSize):this.panel.current.style.width==="".concat(this.smallScreenMaximizedPanelSize,"px")&&this.maximizePanel(this.bigScreenMaximizedPanelSize)}function Sh(t,e){this.drawingAreaPopupActive={x:t,y:e},this.drawingAreaPopup.current.style.transform="translate(".concat((t-this.originX_viewbox)/this.zoomFactor,"px, ").concat((e-this.originY_viewbox)/this.zoomFactor,"px) translate(-50%, -100%) scale(").concat(this.heatmapCanvasZoomFactor,") translate(0%, ").concat((1-this.heatmapCanvasZoomFactor)/(2*this.heatmapCanvasZoomFactor)*100,"%)"),wt(this.drawingAreaPopup.current,0,null,"flex")}function Th(){this.drawingAreaPopupActive&&(vt(this.drawingAreaPopup.current,0),this.drawingAreaPopupActive=null)}var Ph=i(1317);function Ih(){Ph.log("Hide all size"),Ot(this.boxBind.current),this.sizeText=[],this.showAllSizeStatus=0}function jh(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ph.log("In wall rib pozvan"),e||Ot(this.boxRib.current);let i,s=[];s.push([]),s.push([]);let n,o=t.angle*(180/Math.PI),a=this.editor.objFromWall(t);s[0].push({wall:t,crossObj:!1,side:"up",coords:t.coords[0],distance:0}),s[1].push({wall:t,crossObj:!1,side:"down",coords:t.coords[1],distance:0});for(let r in a)n=a[r],n.up=[this.qSVG.nearPointOnEquation(t.equations.up,n.limit[0]),this.qSVG.nearPointOnEquation(t.equations.up,n.limit[1])],n.down=[this.qSVG.nearPointOnEquation(t.equations.down,n.limit[0]),this.qSVG.nearPointOnEquation(t.equations.down,n.limit[1])],i=ie(t.coords[0],n.up[0])/this.meter,s[0].push({wall:n,crossObj:r,side:"up",coords:n.up[0],distance:i.toFixed(2)}),i=ie(t.coords[0],n.up[1])/this.meter,s[0].push({wall:n,crossObj:r,side:"up",coords:n.up[1],distance:i.toFixed(2)}),i=ie(t.coords[1],n.down[0])/this.meter,s[1].push({wall:n,crossObj:r,side:"down",coords:n.down[0],distance:i.toFixed(2)}),i=ie(t.coords[1],n.down[1])/this.meter,s[1].push({wall:n,crossObj:r,side:"down",coords:n.down[1],distance:i.toFixed(2)});i=ie(t.coords[0],t.coords[3])/this.meter,s[0].push({wall:n,crossObj:!1,side:"up",coords:t.coords[3],distance:i}),i=ie(t.coords[1],t.coords[2])/this.meter,s[1].push({wall:n,crossObj:!1,side:"down",coords:t.coords[2],distance:i}),s[0].sort((function(t,e){return(t.distance-e.distance).toFixed(2)})),s[1].sort((function(t,e){return(t.distance-e.distance).toFixed(2)}));for(let r in s)for(let t=1;t<s[r].length;t++){let e=!0,i=-5,n=Math.abs(s[r][t-1].distance-s[r][t].distance),a=o;if(e){"down"===s[r][t-1].side&&(i=10-i),(a>89||a<-89)&&(a-=180,i="down"===s[r][t-1].side?-5:10-i),this.sizeText[t]=document.createElementNS("http://www.w3.org/2000/svg","text");let e=this.qSVG.middle(s[r][t-1].coords.x,s[r][t-1].coords.y,s[r][t].coords.x,s[r][t].coords.y);this.sizeText[t].setAttributeNS(null,"x",e.x),this.sizeText[t].setAttributeNS(null,"y",e.y+i),this.sizeText[t].setAttributeNS(null,"text-anchor","middle"),this.sizeText[t].setAttributeNS(null,"font-family","system-ui"),this.sizeText[t].setAttributeNS(null,"stroke","#ffffff"),this.sizeText[t].textContent=We(n,this.context.userUnit),this.sizeText[t].textContent<1?(this.sizeText[t].setAttributeNS(null,"font-size","0.8em"),this.sizeText[t].textContent=this.sizeText[t].textContent.substring(1,this.sizeText[t].textContent.length)):this.sizeText[t].setAttributeNS(null,"font-size","15px"),this.sizeText[t].setAttributeNS(null,"stroke-width","0.27px"),this.sizeText[t].setAttributeNS(null,"fill","#666666"),this.sizeText[t].setAttribute("transform","rotate("+a+" "+e.x+","+e.y+")"),this.boxRib.current.appendChild(this.sizeText[t])}}}function Rh(){let t,e,i,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,n=[];n.push([]),n.push([]);for(let o in this.WALLS)if(this.WALLS[o].equations.base){n[0].push([]),n[0][o].push({wallIndex:o,crossEdge:o,side:"up",coords:this.WALLS[o].coords[0],distance:0}),n[1].push([]),n[1][o].push({wallIndex:o,crossEdge:o,side:"down",coords:this.WALLS[o].coords[1],distance:0});for(let s in this.WALLS)o!==s&&this.WALLS[s].equations.base&&(i=Kt(this.WALLS[o].equations.base,this.WALLS[s].equations.base,"object"),this.qSVG.btwn(i.x,this.WALLS[o].start.x,this.WALLS[o].end.x,"round")&&this.qSVG.btwn(i.y,this.WALLS[o].start.y,this.WALLS[o].end.y,"round")&&(t=Kt(this.WALLS[o].equations.up,this.WALLS[s].equations.up,"object"),this.qSVG.btwn(t.x,this.WALLS[o].coords[0].x,this.WALLS[o].coords[3].x,"round")&&this.qSVG.btwn(t.y,this.WALLS[o].coords[0].y,this.WALLS[o].coords[3].y,"round")&&this.qSVG.btwn(t.x,this.WALLS[s].coords[0].x,this.WALLS[s].coords[3].x,"round")&&this.qSVG.btwn(t.y,this.WALLS[s].coords[0].y,this.WALLS[s].coords[3].y,"round")&&(e=ie(this.WALLS[o].coords[0],t)/this.meter,n[0][o].push({wallIndex:o,crossEdge:s,side:"up",coords:t,distance:e.toFixed(2)})),t=Kt(this.WALLS[o].equations.up,this.WALLS[s].equations.down,"object"),this.qSVG.btwn(t.x,this.WALLS[o].coords[0].x,this.WALLS[o].coords[3].x,"round")&&this.qSVG.btwn(t.y,this.WALLS[o].coords[0].y,this.WALLS[o].coords[3].y,"round")&&this.qSVG.btwn(t.x,this.WALLS[s].coords[1].x,this.WALLS[s].coords[2].x,"round")&&this.qSVG.btwn(t.y,this.WALLS[s].coords[1].y,this.WALLS[s].coords[2].y,"round")&&(e=ie(this.WALLS[o].coords[0],t)/this.meter,n[0][o].push({wallIndex:o,crossEdge:s,side:"up",coords:t,distance:e.toFixed(2)})),t=Kt(this.WALLS[o].equations.down,this.WALLS[s].equations.up,"object"),this.qSVG.btwn(t.x,this.WALLS[o].coords[1].x,this.WALLS[o].coords[2].x,"round")&&this.qSVG.btwn(t.y,this.WALLS[o].coords[1].y,this.WALLS[o].coords[2].y,"round")&&this.qSVG.btwn(t.x,this.WALLS[s].coords[0].x,this.WALLS[s].coords[3].x,"round")&&this.qSVG.btwn(t.y,this.WALLS[s].coords[0].y,this.WALLS[s].coords[3].y,"round")&&(e=ie(this.WALLS[o].coords[1],t)/this.meter,n[1][o].push({wallIndex:o,crossEdge:s,side:"down",coords:t,distance:e.toFixed(2)})),t=Kt(this.WALLS[o].equations.down,this.WALLS[s].equations.down,"object"),this.qSVG.btwn(t.x,this.WALLS[o].coords[1].x,this.WALLS[o].coords[2].x,"round")&&this.qSVG.btwn(t.y,this.WALLS[o].coords[1].y,this.WALLS[o].coords[2].y,"round")&&this.qSVG.btwn(t.x,this.WALLS[s].coords[1].x,this.WALLS[s].coords[2].x,"round")&&this.qSVG.btwn(t.y,this.WALLS[s].coords[1].y,this.WALLS[s].coords[2].y,"round")&&(e=ie(this.WALLS[o].coords[1],t)/this.meter,n[1][o].push({wallIndex:o,crossEdge:s,side:"down",coords:t,distance:e.toFixed(2)}))));e=ie(this.WALLS[o].coords[0],this.WALLS[o].coords[3])/this.meter,n[0][o].push({wallIndex:o,crossEdge:o,side:"up",coords:this.WALLS[o].coords[3],distance:e.toFixed(2)}),e=ie(this.WALLS[o].coords[1],this.WALLS[o].coords[2])/this.meter,n[1][o].push({wallIndex:o,crossEdge:o,side:"down",coords:this.WALLS[o].coords[2],distance:e.toFixed(2)})}for(let o in n[0])n[0][o].sort((function(t,e){return(t.distance-e.distance).toFixed(2)}));for(let o in n[1])n[1][o].sort((function(t,e){return(t.distance-e.distance).toFixed(2)}));this.sizeText=[],5===s&&Ot(this.boxRib.current);for(let o in n)for(let t in n[o])for(let e=1;e<n[o][t].length;e++)if(n[o][t][e-1].wallIndex===n[o][t][e].wallIndex){let i=!0,a=Math.abs(n[o][t][e-1].distance-n[o][t][e].distance);if(a<.15&&(i=!1),i&&n[o][t][e-1].crossEdge===n[o][t][e].crossEdge&&n[o][t][e].crossEdge!==n[o][t][e].wallIndex&&(i=!1),i&&n[o][t].length>2&&1===e){let s=[];for(let i=0;i<4;i++)s.push({x:this.WALLS[n[o][t][e].crossEdge].coords[i].x,y:this.WALLS[n[o][t][e].crossEdge].coords[i].y});Zt(n[o][t][0].coords,s)&&(i=!1)}if(i&&n[o][t].length>2&&e===n[o][t].length-1){let s=[];for(let i=0;i<4;i++)s.push({x:this.WALLS[n[o][t][e-1].crossEdge].coords[i].x,y:this.WALLS[n[o][t][e-1].crossEdge].coords[i].y});Zt(n[o][t][n[o][t].length-1].coords,s)&&(i=!1)}if(i){let i=this.WALLS[n[o][t][e].wallIndex].angle*(180/Math.PI),r=-s;"down"===n[o][t][e-1].side&&(r=10-r),(i>90||i<-89)&&(i-=180,r="down"===n[o][t][e-1].side?-s:10-r),this.sizeText[e]=document.createElementNS("http://www.w3.org/2000/svg","text");let l=this.qSVG.middle(n[o][t][e-1].coords.x,n[o][t][e-1].coords.y,n[o][t][e].coords.x,n[o][t][e].coords.y);this.sizeText[e].setAttributeNS(null,"x",l.x),this.sizeText[e].setAttributeNS(null,"y",l.y+r),this.sizeText[e].setAttributeNS(null,"text-anchor","middle"),this.sizeText[e].setAttributeNS(null,"font-family","roboto"),this.sizeText[e].setAttributeNS(null,"stroke","#ffffff"),this.sizeText[e].textContent=We(a,this.context.userUnit),this.sizeText[e].textContent<1?(this.sizeText[e].setAttributeNS(null,"font-size","0.73em"),this.sizeText[e].textContent=this.sizeText[e].textContent.substring(1,this.sizeText[e].textContent.length)):this.sizeText[e].setAttributeNS(null,"font-size","0.9em"),this.sizeText[e].setAttributeNS(null,"stroke-width","0.2px"),this.sizeText[e].setAttributeNS(null,"fill","#555555"),this.sizeText[e].setAttribute("transform","rotate("+i+" "+l.x+","+l.y+")"),this.boxRib.current.appendChild(this.sizeText[e])}}}function Mh(){this.lineIntersectionP&&(this.lineIntersectionP.remove(),this.lineIntersectionP=null)}function Bh(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],s={},n={};s.distance=e,this.lineIntersectionP&&(this.lineIntersectionP.remove(),this.lineIntersectionP=null),this.lineIntersectionP=this.qSVG.create(this.boxBind,"path",{d:"",stroke:"transparent","stroke-width":.5,"stroke-opacity":"1",fill:"none"});for(let o=0;o<this.WALLS.length;o++)if(-1===i.indexOf(this.WALLS[o])){let e,i=this.WALLS[o].start.x,a=this.WALLS[o].start.y,r=this.WALLS[o].end.x,l=this.WALLS[o].end.y;0===Math.abs(l-a)?(n.C="v",n.D=i,n.E="h",n.F=a,n.G="v",n.H=r,n.I="h",n.J=l):0===Math.abs(r-i)?(n.C="h",n.D=a,n.E="v",n.F=i,n.G="h",n.H=l,n.I="v",n.J=r):(n.C=(i-r)/(l-a),n.D=a-i*n.C,n.E=(l-a)/(r-i),n.F=a-i*n.E,n.G=(i-r)/(l-a),n.H=l-r*n.C,n.I=(l-a)/(r-i),n.J=l-r*n.E),n.A=n.C,n.B=n.D,e=this.qSVG.nearPointOnEquation(n,t),e.distance<s.distance&&(s.distance=e.distance,s.node=o,s.x=e.x,s.y=e.y,s.x1=i,s.y1=a,s.x2=r,s.y2=l,s.way=1),n.A=n.E,n.B=n.F,e=this.qSVG.nearPointOnEquation(n,t),e.distance<s.distance&&(s.distance=e.distance,s.node=o,s.x=e.x,s.y=e.y,s.x1=i,s.y1=a,s.x2=r,s.y2=l,s.way=1),n.A=n.G,n.B=n.H,e=this.qSVG.nearPointOnEquation(n,t),e.distance<s.distance&&(s.distance=e.distance,s.node=o,s.x=e.x,s.y=e.y,s.x1=i,s.y1=a,s.x2=r,s.y2=l,s.way=2),n.A=n.I,n.B=n.J,e=this.qSVG.nearPointOnEquation(n,t),e.distance<s.distance&&(s.distance=e.distance,s.node=o,s.x=e.x,s.y=e.y,s.x1=i,s.y1=a,s.x2=r,s.y2=l,s.way=2)}return s.distance<e&&(2===s.way?(this.lineIntersectionP.setAttribute("d","M"+s.x1+","+s.y1+" L"+s.x2+","+s.y2+" L"+s.x+","+s.y),this.lineIntersectionP.setAttribute("stroke","#d7ac57")):(this.lineIntersectionP.setAttribute("d","M"+s.x2+","+s.y2+" L"+s.x1+","+s.y1+" L"+s.x+","+s.y),this.lineIntersectionP.setAttribute("stroke","#d7ac57")),{x:s.x,y:s.y,wall:this.WALLS[s.node],distance:s.distance})}var Dh=i(1317);function Lh(){let t=null!==this.selectedBinder.realRoomArea?this.selectedBinder.realRoomArea/(this.meter*this.meter):null;this.selectedBinder.setAttribute("fill","none"),this.selectedBinder.setAttribute("stroke","#ddf00a"),this.selectedBinder.setAttribute("stroke-width",7),document.getElementsByClassName("size")[0].innerHTML=null!==t?Ge(t,this.context.userUnit,"square meter","square foot",this.roomSurfaceDecimalPrecision,!0,!0):"Cannot be determined";const e=this.ROOM.find((t=>t.id===parseInt(this.selectedBinder.id)));if(Dh.log("targetRoom"),Dh.log(e),this.selectedRoomId=e.id,""!==e.surface){const t=Ge(e.surface,this.context.userUnit,"square meter","square foot",this.roomSurfaceDecimalPrecision);this.roomSurface.current.setValue(t),this.roomSurface.current.setInitialValue(t)}else this.roomSurface.current.setValue(""),this.roomSurface.current.setInitialValue("");let i=e.name;this.roomName.current.value=i,""!==e.name?this.roomNameSelectRef.current.setValue(i):this.roomNameSelectRef.current.setValue("None")}function Nh(t){const e=We(t.thick/this.meter,this.context.userUnit,"meter","metric"===this.context.userUnit?"centimeter":"inch",this.wallWidthDecimalPrecision,!1,!1,!0),i=We(ie(t.start,t.end)/this.meter,this.context.userUnit,"meter","feet",this.wallLengthDecimalPrecision);this.wallWidth.current.value=e,this.wallWidthValue.current.textContent=e,this.wallWidthNumberSliderInput.current.setNumberInputInitialValues(e),this.wallLengthValue.current.textContent=i,this.wallLength.current.setValue(i),this.wallLength.current.setInitialValue(i),this.wallMaterialSelectRef.current.setValue(t.material)}function kh(t){this.bboxFontSizeVal.current.textContent=t.value.size,this.modifyFontSizeSlider.current.value=t.value.size,this.objBoundingBoxFontSizeNumberSliderInput.current.setNumberInputInitialValues(t.value.size),this.modifyTextContent.current.value=t.value.text,this.bboxRotation.current.value=t.angle,this.bboxRotationVal.current.textContent=t.angle,this.objBoundingBoxRotationNumberSliderInput.current.setNumberInputInitialValues(t.angle)}function Oh(t){const e=We(t.size/this.meter,this.context.userUnit,"meter","metric"===this.context.userUnit?"centimeter":"inch",this.doorWindowWidthDecimalPrecision,!1,!1,!0);this.doorWindowWidthNumberSliderInput.current.setMaxMinRangeValues(t.params.resizeLimit.width.min,t.params.resizeLimit.width.max),this.doorWindowWidth.current.value=e,this.doorWindowWidthNumberSliderInput.current.setNumberInputInitialValues(e),this.doorWindowWidthScale.current.textContent=t.params.resizeLimit.width.min+"-"+t.params.resizeLimit.width.max,this.doorWindowWidthVal.current.textContent=e}const Fh=t=>{const e=JSON.parse(window.localStorage.getItem("history"));return JSON.parse(e[t]).positionButtonOptionsState};function Wh(){this.load(this.HISTORY.index-1,!1,void 0,!0),this.restoreSelectedBinder(),this.removeBinder(),this.lastSavedObject&&JSON.parse(window.localStorage.getItem("history"))[this.HISTORY.index-1]===this.lastSavedObject&&this.determineBoxPlanNameValue("remove_asterisk"),this.heatmapGenerated&&this.generateHeatmapWithLoadingHandler(),this.redoButton.current.classList.remove("disabled")}function Hh(){this.HISTORY.index>0&&(this.undoButton.current.classList.remove("disabled"),this.HISTORY.index-1>0&&(this.HISTORY.index--,this.props.isHeatmap?this.positionDrawingRef.current.setPositionOptions(Fh(this.HISTORY.index-1),this.undoClickSetPositionOptionsCallback):this.undoClickSetPositionOptionsCallback())),1===this.HISTORY.index&&this.undoButton.current.classList.add("disabled")}function Gh(){this.load(this.HISTORY.index,!1,void 0,!0),this.removeBinder(),this.lastSavedObject&&JSON.parse(window.localStorage.getItem("history"))[this.HISTORY.index]!==this.lastSavedObject&&this.determineBoxPlanNameValue("add_asterisk"),this.HISTORY.index++,this.restoreSelectedBinder(),this.heatmapGenerated&&this.generateHeatmapWithLoadingHandler(),this.undoButton.current.classList.remove("disabled"),this.HISTORY.index===this.HISTORY.length&&this.redoButton.current.classList.add("disabled")}function Eh(){this.HISTORY.index<this.HISTORY.length&&(this.props.isHeatmap?this.positionDrawingRef.current.setPositionOptions(Fh(this.HISTORY.index),this.redoClickSetPositionOptionsCallback):this.redoClickSetPositionOptionsCallback())}var Vh=i(8569),zh=i(2178),qh=i.n(zh),Uh=i(1221),Jh=i(825),Xh=i(4329),Yh=i(327),Zh=i(2894),Qh=i(8986),Kh=i(1317);const _h=function(t,e){this.object=t,this.domElement=void 0!==e?e:document,this.enabled=!0,this.target=new Vh.Vector3,this.center=this.target,this.noZoom=!1,this.zoomSpeed=1,this.minDistance=0,this.maxDistance=3e4,this.noRotate=!1,this.rotateSpeed=1,this.noPan=!1,this.keyPanSpeed=40,this.autoRotate=!1,this.autoRotateSpeed=2,this.minPolarAngle=0,this.maxPolarAngle=Math.PI/2,this.noKeys=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.needsUpdate=!0;var i=this,s=1e-6,n=new Vh.Vector2,o=new Vh.Vector2,a=new Vh.Vector2,r=new Vh.Vector2,l=new Vh.Vector2,h=new Vh.Vector2,p=new Vh.Vector2,d=new Vh.Vector2,c=new Vh.Vector2,m=0,u=0,g=1,x=new Vh.Vector3,A={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},f=A.NONE;function C(){return 2*Math.PI/60/60*i.autoRotateSpeed}function b(){return Math.pow(.95,i.zoomSpeed)}function y(t){if(!1!==i.enabled){t.preventDefault();var e=i.domElement===document?i.domElement.body:i.domElement;if(f===A.ROTATE){if(!0===i.noRotate)return;o.set(t.clientX,t.clientY),a.subVectors(o,n),i.rotateLeft(2*Math.PI*a.x/e.clientWidth*i.rotateSpeed),i.rotateUp(2*Math.PI*a.y/e.clientHeight*i.rotateSpeed),n.copy(o)}else if(f===A.DOLLY){if(!0===i.noZoom)return;d.set(t.clientX,t.clientY),c.subVectors(d,p),c.y>0?i.dollyIn():i.dollyOut(),p.copy(d)}else if(f===A.PAN){if(!0===i.noPan)return;l.set(t.clientX,t.clientY),h.subVectors(l,r),i.pan(h),r.copy(l)}i.update()}}function w(){!1!==i.enabled&&(i.domElement.removeEventListener("mousemove",y,!1),i.domElement.removeEventListener("mouseup",w,!1),f=A.NONE)}function v(t){if(!1!==i.enabled&&!0!==i.noZoom){var e=0;t.wheelDelta?e=t.wheelDelta:t.detail&&(e=-t.detail),e>0?i.dollyOut():i.dollyIn(),i.update()}}this.controlsActive=function(){return f===A.NONE},this.setPan=function(t){x=t},this.panTo=function(t){var e=new Vh.Vector3(t.x,i.target.y,t.z),s=i.target.clone().sub(e);x.sub(s),i.update()},this.rotateLeft=function(t){void 0===t&&(t=C()),u-=t},this.rotateUp=function(t){void 0===t&&(t=C()),m-=t},this.panLeft=function(t){var e=new Vh.Vector3,i=this.object.matrix.elements;e.set(i[0],0,i[2]),e.normalize(),e.multiplyScalar(-t),x.add(e)},this.panUp=function(t){var e=new Vh.Vector3;e.setFromMatrixColumn(this.object.matrix,1),e.multiplyScalar(t);var i=x.clone(),s=this.target.clone();i.add(e),s.add(i),s.y>0&&x.add(e)},this.pan=function(t){var e=i.domElement===document?i.domElement.body:i.domElement;if(void 0!==i.object.fov){var s=i.object.position.clone().sub(i.target).length();s*=Math.tan(i.object.fov/2*Math.PI/180),i.panLeft(2*t.x*s/e.clientHeight),i.panUp(2*t.y*s/e.clientHeight)}else void 0!==i.object.top?(i.panLeft(t.x*(i.object.right-i.object.left)/e.clientWidth),i.panUp(t.y*(i.object.top-i.object.bottom)/e.clientHeight)):Kh.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.");i.update()},this.panXY=function(t,e){i.pan(new Vh.Vector2(t,e))},this.dollyIn=function(t){void 0===t&&(t=b()),g/=t},this.dollyOut=function(t){void 0===t&&(t=b()),g*=t},this.update=function(){var t=this.object.position,e=t.clone().sub(this.target),n=Math.atan2(e.x,e.z),o=Math.atan2(Math.sqrt(e.x*e.x+e.z*e.z),e.y);this.autoRotate&&this.rotateLeft(C()),n+=u,o+=m,o=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,o)),o=Math.max(s,Math.min(Math.PI-s,o));var a=e.length()*g;a=Math.max(this.minDistance,Math.min(this.maxDistance,a)),this.target.add(x),e.x=a*Math.sin(o)*Math.sin(n),e.y=a*Math.cos(o),e.z=a*Math.sin(o)*Math.cos(n),t.copy(this.target).add(e),this.object.lookAt(this.target),u=0,m=0,g=1,x.set(0,0,0),i.domElement.dispatchEvent(new Event("cameraMoved")),this.needsUpdate=!0},this.domElement.addEventListener("contextmenu",(function(t){t.preventDefault()}),!1),this.domElement.addEventListener("mousedown",(function(t){if(!1!==i.enabled){if(t.preventDefault(),0===t.button){if(!0===i.noRotate)return;f=A.ROTATE,n.set(t.clientX,t.clientY)}else if(1===t.button){if(!0===i.noZoom)return;f=A.DOLLY,p.set(t.clientX,t.clientY)}else if(2===t.button){if(!0===i.noPan)return;f=A.PAN,r.set(t.clientX,t.clientY)}i.domElement.addEventListener("mousemove",y,!1),i.domElement.addEventListener("mouseup",w,!1)}}),!1),this.domElement.addEventListener("mousewheel",v,!1),this.domElement.addEventListener("DOMMouseScroll",v,!1),this.domElement.addEventListener("touchstart",(function(t){if(!1!==i.enabled)switch(t.touches.length){case 1:if(!0===i.noRotate)return;f=A.TOUCH_ROTATE,n.set(t.touches[0].pageX,t.touches[0].pageY);break;case 2:if(!0===i.noZoom)return;f=A.TOUCH_DOLLY;var e=t.touches[0].pageX-t.touches[1].pageX,s=t.touches[0].pageY-t.touches[1].pageY,o=Math.sqrt(e*e+s*s);p.set(0,o);break;case 3:if(!0===i.noPan)return;f=A.TOUCH_PAN,r.set(t.touches[0].pageX,t.touches[0].pageY);break;default:f=A.NONE}}),!1),this.domElement.addEventListener("touchend",(function(){!1!==i.enabled&&(f=A.NONE)}),!1),this.domElement.addEventListener("touchmove",(function(t){if(!1!==i.enabled){t.preventDefault(),t.stopPropagation();var e=i.domElement===document?i.domElement.body:i.domElement;switch(t.touches.length){case 1:if(!0===i.noRotate)return;if(f!==A.TOUCH_ROTATE)return;o.set(t.touches[0].pageX,t.touches[0].pageY),a.subVectors(o,n),i.rotateLeft(2*Math.PI*a.x/e.clientWidth*i.rotateSpeed),i.rotateUp(2*Math.PI*a.y/e.clientHeight*i.rotateSpeed),n.copy(o);break;case 2:if(!0===i.noZoom)return;if(f!==A.TOUCH_DOLLY)return;var s=t.touches[0].pageX-t.touches[1].pageX,m=t.touches[0].pageY-t.touches[1].pageY,u=Math.sqrt(s*s+m*m);d.set(0,u),c.subVectors(d,p),0!==c.y&&(c.y>0?i.dollyOut():i.dollyIn()),p.copy(d);break;case 3:if(!0===i.noPan)return;if(f!==A.TOUCH_PAN)return;l.set(t.touches[0].pageX,t.touches[0].pageY),h.subVectors(l,r),i.pan(h),r.copy(l);break;default:f=A.NONE}i.update()}}),!1),window.document.addEventListener("keydown",(function(t){if(!1!==i.enabled&&!0!==i.noKeys&&!0!==i.noPan)switch(t.keyCode){case i.keys.UP:i.pan(new Vh.Vector2(0,i.keyPanSpeed));break;case i.keys.BOTTOM:i.pan(new Vh.Vector2(0,-i.keyPanSpeed));break;case i.keys.LEFT:i.pan(new Vh.Vector2(i.keyPanSpeed,0));break;case i.keys.RIGHT:i.pan(new Vh.Vector2(-i.keyPanSpeed,0))}}),!1)};const $h=class{constructor(t,e,i,s,n,o){var a=this;this.drawWall=()=>{let t=new this.THREE.Group;this.variableVisiblityPlanes.push(this.drawExteriorInteriorPlanes(this.exteriorLineCoords[0],this.exteriorLineCoords[1],this.exteriorLineEquation,this.material,this.THREE.DoubleSide,this.wall2DObjects,t)),this.variableVisiblityPlanes.push(this.drawExteriorInteriorPlanes(this.interiorLineCoords[0],this.interiorLineCoords[1],this.interiorLineEquation,this.material,this.THREE.DoubleSide,this.wall2DObjects,t)),this.variableVisiblityPlanes.push(this.drawTopBottomWallPlanes([this.exteriorLineCoords[0],this.exteriorLineCoords[1],this.interiorLineCoords[1],this.interiorLineCoords[0]],this.wallStartHeight+this.mainComponentThis.wallHeight,this.mainComponentThis.wallTopPlaneMaterial,t)),this.drawTopBottomWallPlanes([this.exteriorLineCoords[0],this.exteriorLineCoords[1],this.interiorLineCoords[1],this.interiorLineCoords[0]],this.wallStartHeight+1,this.mainComponentThis.wallBottomPlaneMaterial,t),this.variableVisiblityPlanes.push(this.drawStartEndWallPlanes(this.interiorLineCoords[0],this.exteriorLineCoords[0],t)),this.variableVisiblityPlanes.push(this.drawStartEndWallPlanes(this.interiorLineCoords[1],this.exteriorLineCoords[1],t)),this.wall3D=t,this.sceneObject.add(t),this.updateFrontWallVisibility()},this.drawExteriorInteriorPlanes=(t,e,i,s,n,o,a)=>{let r=new this.THREE.Vector3(t.x,this.wallStartHeight,t.y),l=new this.THREE.Vector3(e.x,this.wallStartHeight,e.y),h=l.clone();h.y=this.wallStartHeight+this.mainComponentThis.wallHeight;let p=r.clone();p.y=this.wallStartHeight+this.mainComponentThis.wallHeight;let d=[r,l,h,p],c=ie({x:r.x,y:r.z},{x:l.x,y:l.z});var m=this.mainComponentThis.calculateAngleBetween2DVectors(1,0,e.x-t.x,e.y-t.y);let u=new this.THREE.Matrix4,g=new this.THREE.Matrix4,x=new this.THREE.Matrix4,A=new this.THREE.Matrix4;A.makeRotationY(-m),x.makeTranslation(-t.x,0,-t.y),u.multiplyMatrices(A,x),g=u.clone().invert(),d.forEach((t=>t.applyMatrix4(u)));let f=new this.THREE.Shape(d.map((t=>new this.THREE.Vector2(t.x,t.y))));d.forEach((t=>t.applyMatrix4(g)));for(let j=0;j<o.length;j++)if("doorWindow"===o[j].class){let t,e,s=[];for(let n=0;n<o[j].realBbox.length;n++)It(o[j].realBbox[n],i,this.mainComponentThis.isPointOnWallDecimalPrecision)&&s.push(o[j].realBbox[n]);if(2===s.length){if("simple"===o[j].type){let i=new this.THREE.Vector3(s[0].x,this.wallStartHeight,s[0].y),n=new this.THREE.Vector3(s[1].x,this.wallStartHeight,s[1].y),o=n.clone();o.y=this.wallStartHeight+this.mainComponentThis.doorHeight;let a=i.clone();a.y=this.wallStartHeight+this.mainComponentThis.doorHeight,t=[i,n,o,a],t.forEach((t=>t.applyMatrix4(u))),e=t.map((t=>new this.THREE.Vector2(t.x,t.y)))}else{let i=new this.THREE.Vector3(s[0].x,this.wallStartHeight+this.mainComponentThis.wallHeight/2-this.mainComponentThis.windowHeight/2,s[0].y),n=new this.THREE.Vector3(s[1].x,this.wallStartHeight+this.mainComponentThis.wallHeight/2-this.mainComponentThis.windowHeight/2,s[1].y),o=n.clone();o.y=this.wallStartHeight+this.mainComponentThis.wallHeight/2+this.mainComponentThis.windowHeight/2;let a=i.clone();a.y=this.wallStartHeight+this.mainComponentThis.wallHeight/2+this.mainComponentThis.windowHeight/2,t=[i,n,o,a],t.forEach((t=>t.applyMatrix4(u))),e=t.map((t=>new this.THREE.Vector2(t.x,t.y)))}f.holes.push(new this.THREE.Path(e))}}let C=new this.THREE.ShapeGeometry(f),b=C.getAttribute("position"),y=new this.THREE.Vector3;for(let j=0;j<b.count;j++)y.fromBufferAttribute(b,j),y.applyMatrix4(g),b.setXYZ(j,y.x,y.y,y.z);b.needsUpdate=!0,C.computeVertexNormals(),C.scale(this.mainComponentThis.scaleFactor,1,this.mainComponentThis.scaleFactor);let w=r.clone();w.multiplyScalar(this.mainComponentThis.scaleFactor);this.mainComponentThis.calculatePlaneGeometryUVMappings(C,w,c,this.mainComponentThis.wallHeight,((t,e,i,s)=>{const n=ie({x:e.x,y:e.z},{x:t.x,y:t.z})/(i*this.mainComponentThis.scaleFactor),o=t.y/s;return new this.THREE.Vector2(n,o)}));let v=this.mainComponentThis.props.wallMaterials.find((t=>t.title===s)),S=this.mainComponentThis.floorplanWallMaterials.find((t=>t.name===s)).materialTexture,T=new this.THREE.Texture(S.source.data,this.THREE.UVMapping,"Unknown"===s?this.THREE.ClampToEdgeWrapping:this.THREE.RepeatWrapping,"Unknown"===s?this.THREE.ClampToEdgeWrapping:this.THREE.RepeatWrapping,this.THREE.LinearFilter,this.THREE.LinearMipmapLinearFilter,this.THREE.RGBAFormat,this.THREE.UnsignedByteType,1,this.THREE.LinearEncoding);v.scale&&(T.wrapT=this.THREE.RepeatWrapping,T.wrapS=this.THREE.RepeatWrapping,T.repeat.set(c*this.mainComponentThis.scaleFactor/v.scale,this.mainComponentThis.wallHeight/v.scale),T.offset.set(0,0)),T.needsUpdate=!0;let P=new this.THREE.MeshBasicMaterial({color:16777215,side:n,map:T}),I=new this.THREE.Mesh(C,P);return a.add(I),I},this.drawTopBottomWallPlanes=(t,e,i,s)=>{let n=[new this.THREE.Vector2(t[0].x*this.mainComponentThis.scaleFactor,t[0].y*this.mainComponentThis.scaleFactor),new this.THREE.Vector2(t[1].x*this.mainComponentThis.scaleFactor,t[1].y*this.mainComponentThis.scaleFactor),new this.THREE.Vector2(t[2].x*this.mainComponentThis.scaleFactor,t[2].y*this.mainComponentThis.scaleFactor),new this.THREE.Vector2(t[3].x*this.mainComponentThis.scaleFactor,t[3].y*this.mainComponentThis.scaleFactor)],o=new this.THREE.Shape(n),a=new this.THREE.ShapeGeometry(o),r=new this.THREE.Mesh(a,i);return r.rotation.set(Math.PI/2,0,0),r.position.y=e,s.add(r),r},this.drawStartEndWallPlanes=(t,e,i)=>{let s=new Float32Array([t.x,this.wallStartHeight,t.y,e.x,this.wallStartHeight,e.y,e.x,this.wallStartHeight+this.mainComponentThis.wallHeight,e.y,t.x,this.wallStartHeight+this.mainComponentThis.wallHeight,t.y]),n=new this.THREE.BufferGeometry;n.setAttribute("position",new this.THREE.BufferAttribute(s,3));n.setIndex([0,1,2,0,2,3]);let o=new this.THREE.Mesh(n,this.mainComponentThis.wallStartEndPlanesMaterial);return o.scale.set(this.mainComponentThis.scaleFactor,1,this.mainComponentThis.scaleFactor),i.add(o),o},this.drawWallObjects=()=>{let t=this.wall2DObjects.filter((t=>"doorWindow"===t.class&&"simple"===t.type)),e=this.wall2DObjects.filter((t=>"doorWindow"===t.class&&"fix"===t.type));for(let i=0;i<t.length;i++)this.drawDoorWindowGtlfObjects(t[i]);for(let i=0;i<e.length;i++)this.drawDoorWindowGtlfObjects(e[i])},this.drawDoorWindowObjMtlObjects=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{sizeVector:i,object:s}="simple"===t.type?a.mainComponentThis.doorObject3D:a.mainComponentThis.windowObject3D,n=s.clone(),o=a.mainComponentThis.props.qSVG.rectangleDimensionsFromPoints(t.realBbox),r=ie(t.limit[0],t.limit[1]);if(Math.abs(r-o.b)<Math.abs(r-o.a)){let t=o.a;o.a=o.b,o.b=t}const l="simple"===t.type?a.mainComponentThis.doorHeight:a.mainComponentThis.windowHeight,h=new a.THREE.Vector3(1/i.x*o.a,1/i.y*l/a.mainComponentThis.scaleFactor,1/i.z*o.b).multiplyScalar(a.mainComponentThis.scaleFactor),p=new a.THREE.Vector3(t.x,a.wallStartHeight/a.mainComponentThis.scaleFactor,t.y).multiplyScalar(a.mainComponentThis.scaleFactor);p.add(new a.THREE.Vector3(o.a*a.mainComponentThis.scaleFactor/2,"simple"===t.type?0:(a.mainComponentThis.wallHeight-a.mainComponentThis.windowHeight)/2,-o.b*a.mainComponentThis.scaleFactor/2)),n.scale.set(h.x,h.y,h.z),n.position.set(p.x,p.y,p.z);const d=Math.PI*t.angle/180,c=new a.THREE.Vector3(p.x-o.a*a.mainComponentThis.scaleFactor/2,"simple"===t.type?a.wallStartHeight+a.mainComponentThis.doorHeight/2:a.wallStartHeight+a.mainComponentThis.wallHeight/2,p.z+o.b*a.mainComponentThis.scaleFactor/2);if(a.mainComponentThis.rotateAroundPoint(n,c,new a.THREE.Vector3(0,1,0),-d,!1),a.wall3DObjects.push(n),a.sceneObject.add(n),e){const t=new a.THREE.SphereGeometry(5,32,15),e=new a.THREE.MeshBasicMaterial({color:16711680}),i=new a.THREE.Mesh(t,e);i.position.set(c.x,c.y,c.z),a.sceneObject.add(i);const s=new a.THREE.SphereGeometry(5,32,15),n=new a.THREE.MeshBasicMaterial({color:16776960}),o=new a.THREE.Mesh(s,n);o.position.set(p.x,p.y,p.z),a.sceneObject.add(o)}a.hideWall?n.visible=!1:a.updateFrontWallVisibility()},this.drawDoorWindowGtlfObjects=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{sizeVector:i,object:s}="simple"===t.type?a.mainComponentThis.doorObject3D:a.mainComponentThis.windowObject3D;"simple"===t.type?a.glbObjectsWithCenterInObjectCenter=!1:a.glbObjectsWithCenterInObjectCenter=!0;const n=s.clone(),o=a.mainComponentThis.props.qSVG.rectangleDimensionsFromPoints(t.realBbox),r=ie(t.limit[0],t.limit[1]);if(Math.abs(r-o.b)<Math.abs(r-o.a)){let t=o.a;o.a=o.b,o.b=t}const l="simple"===t.type?a.mainComponentThis.doorHeight:a.mainComponentThis.windowHeight,h=new a.THREE.Vector3(1/i.x*o.a,1/i.y*l/a.mainComponentThis.scaleFactor,1/i.z*o.b).multiplyScalar(a.mainComponentThis.scaleFactor),p=new a.THREE.Vector3(t.x,a.wallStartHeight/a.mainComponentThis.scaleFactor,t.y).multiplyScalar(a.mainComponentThis.scaleFactor);p.add(new a.THREE.Vector3(a.glbObjectsWithCenterInObjectCenter?0:-o.a*a.mainComponentThis.scaleFactor/2,"simple"===t.type?a.glbObjectsWithCenterInObjectCenter?a.mainComponentThis.doorHeight/2:0:a.glbObjectsWithCenterInObjectCenter?a.mainComponentThis.windowHeight/2+(a.mainComponentThis.wallHeight-a.mainComponentThis.windowHeight)/2:(a.mainComponentThis.wallHeight-a.mainComponentThis.windowHeight)/2,(a.glbObjectsWithCenterInObjectCenter,0))),n.scale.set(h.x,h.y,h.z),n.position.set(p.x,p.y,p.z);const d=new a.THREE.Vector3(a.glbObjectsWithCenterInObjectCenter?p.x:p.x+o.a*a.mainComponentThis.scaleFactor/2,"simple"===t.type?a.wallStartHeight+a.mainComponentThis.doorHeight/2:a.wallStartHeight+a.mainComponentThis.wallHeight/2,(a.glbObjectsWithCenterInObjectCenter,p.z)),c=Math.PI*t.angle/180;if(a.glbObjectsWithCenterInObjectCenter?n.rotation.y=-c:a.mainComponentThis.rotateAroundPoint(n,d,new a.THREE.Vector3(0,1,0),-c,!1),a.wall3DObjects.push(n),a.sceneObject.add(n),e){const t=new a.THREE.SphereGeometry(5,32,15),e=new a.THREE.MeshBasicMaterial({color:16711680}),i=new a.THREE.Mesh(t,e);i.position.set(d.x,d.y,d.z),a.sceneObject.add(i);const s=new a.THREE.SphereGeometry(5,32,15),n=new a.THREE.MeshBasicMaterial({color:16776960}),o=new a.THREE.Mesh(s,n);o.position.set(p.x,p.y,p.z),a.sceneObject.add(o)}a.hideWall?n.visible=!1:a.updateFrontWallVisibility()},this.updateFrontWallVisibility=()=>{if(this.callUpdateFrontWallVisibility&&!this.hideWall){const t=new this.THREE.Vector2(this.wallStart.x,this.wallStart.y).multiplyScalar(this.mainComponentThis.scaleFactor),e=new this.THREE.Vector2(this.wallEnd.x,this.wallEnd.y).multiplyScalar(this.mainComponentThis.scaleFactor),i=e.x-t.x,s=e.y-t.y;let n=new this.THREE.Vector3(-s,0,i);n.normalize();const o=this.mainComponentThis.showMapLayer3DInputRef.current.getCheckedStatus()?this.mainComponentThis.floorplan3DOnMapCameraPosition.clone():this.mainComponentThis.controls.object.position.clone();let a=new this.THREE.Vector3((t.x+e.x)/2,this.wallStartHeight,(t.y+e.y)/2).clone().sub(o).clone(),r=n.dot(a)<=0;this.setWallPlanesObjectsVisibility(r)}},this.setWallPlanesObjectsVisibility=t=>{for(let e=0;e<this.variableVisiblityPlanes.length;e++)this.variableVisiblityPlanes[e].visible=t;for(let e=0;e<this.wall3DObjects.length;e++)this.wall3DObjects[e].visible=t},this.interiorLineCoords=[],this.exteriorLineCoords=[],this.interiorLineEquation=s.equations.up,this.exteriorLineEquation=s.equations.down,this.wallStart=s.start,this.wallEnd=s.end,this.material=s.material,this.wall2D=s,this.wall2DObjects=n,this.wall3D=null,this.wall3DObjects=[],this.variableVisiblityPlanes=[],this.THREE=e,this.sceneObject=i,this.callUpdateFrontWallVisibility=!0,this.hideWall=!1,this.floorNumber=o,this.wallStartHeight=o*t.wallHeight,this.mainComponentThis=t,this.glbObjectsWithCenterInObjectCenter=!1;for(let r=0;r<s.coords.length;r++)It(s.coords[r],s.equations.up,this.mainComponentThis.isPointOnWallDecimalPrecision)?this.interiorLineCoords.push(s.coords[r]):this.exteriorLineCoords.push(s.coords[r]);2===this.interiorLineCoords.length&&2===this.exteriorLineCoords.length&&this.drawWall()}removeWall(){this.sceneObject.remove(this.wall3D);for(let t=0;t<this.wall3DObjects.length;t++)this.sceneObject.remove(this.wall3DObjects[t])}};class tp extends s.Component{constructor(){super(),this.getShowWallSwitchState=()=>this.state.wallsVisible,this.getFrontWallsSwitchState=()=>this.state.frontWallsVisible,this.showFloorplanWalls=t=>{for(let e=0;e<t.length;e++)t[e].hideWall=!1,this.state.frontWallsVisible?t[e].setWallPlanesObjectsVisibility(!0):t[e].updateFrontWallVisibility()},this.hideFloorplanWalls=t=>{for(let e=0;e<t.length;e++)t[e].hideWall=!0,t[e].setWallPlanesObjectsVisibility(!1)},this.onWallVisibilityChange=()=>{const t=this.props.mainComponentThis.showMapLayer3DInputRef.current.getCheckedStatus();this.state.wallsVisible?(this.hideFloorplanWalls(this.props.mainComponentThis.currentWalls3D),t&&this.hideFloorplanWalls(this.props.mainComponentThis.floorplanViewWalls3D)):(this.showFloorplanWalls(this.props.mainComponentThis.currentWalls3D),t&&this.showFloorplanWalls(this.props.mainComponentThis.floorplanViewWalls3D)),this.setState({wallsVisible:!this.state.wallsVisible})},this.showFrontFloorplanWalls=t=>{for(let e=0;e<t.length;e++)t[e].callUpdateFrontWallVisibility=!1,this.state.wallsVisible&&t[e].setWallPlanesObjectsVisibility(!0)},this.hideFrontFloorplanWalls=t=>{for(let e=0;e<t.length;e++)t[e].callUpdateFrontWallVisibility=!0,t[e].updateFrontWallVisibility()},this.onFrontWallVisibilityChange=()=>{const t=this.props.mainComponentThis.showMapLayer3DInputRef.current.getCheckedStatus();this.state.frontWallsVisible?(this.hideFrontFloorplanWalls(this.props.mainComponentThis.currentWalls3D),t&&this.hideFrontFloorplanWalls(this.props.mainComponentThis.floorplanViewWalls3D)):(this.showFrontFloorplanWalls(this.props.mainComponentThis.currentWalls3D),t&&this.showFrontFloorplanWalls(this.props.mainComponentThis.floorplanViewWalls3D)),this.setState({frontWallsVisible:!this.state.frontWallsVisible})},this.state={frontWallsVisible:!1,wallsVisible:!0},this.onWallVisibilityChange=this.onWallVisibilityChange.bind(this),this.onFrontWallVisibilityChange=this.onFrontWallVisibilityChange.bind(this),this.getShowWallSwitchState=this.getShowWallSwitchState.bind(this),this.getFrontWallsSwitchState=this.getFrontWallsSwitchState.bind(this),this.showFloorplanWalls=this.showFloorplanWalls.bind(this),this.hideFloorplanWalls=this.hideFloorplanWalls.bind(this),this.showFrontFloorplanWalls=this.showFrontFloorplanWalls.bind(this),this.hideFrontFloorplanWalls=this.hideFrontFloorplanWalls.bind(this)}render(){return(0,u.jsxs)("li",{children:[(0,u.jsxs)("div",{className:"panel-option-container",children:[(0,u.jsxs)("div",{className:"option-name-note-container",children:[(0,u.jsx)("div",{children:"SHOW WALLS"}),(0,u.jsx)("div",{children:(0,u.jsx)(ti,{indoorPanelExplanationBox:this.props.panelInfoExplanationBox,infoText:"Show floorplan walls"})})]}),(0,u.jsx)("div",{children:(0,u.jsx)(Ms.Z,{checked:this.state.wallsVisible,onChange:this.onWallVisibilityChange})})]}),(0,u.jsxs)("div",{className:"panel-option-container",children:[(0,u.jsxs)("div",{className:"option-name-note-container",children:[(0,u.jsx)("div",{children:"FRONT WALLS"}),(0,u.jsx)("div",{children:(0,u.jsx)(ti,{indoorPanelExplanationBox:this.props.panelInfoExplanationBox,infoText:"Show or hide front walls on camera movement"})})]}),(0,u.jsx)("div",{children:(0,u.jsx)(Ms.Z,{checked:this.state.frontWallsVisible,onChange:this.onFrontWallVisibilityChange})})]})]})}}const ep=tp;var ip=i(1317);class sp extends s.Component{constructor(t){super(t),this.hideHeatmap=t=>{this.props.heatmapTypes.find((e=>e.name==="heatmap".concat(t))).object.visible=!1,this.props.mainComponentThis.showMapLayer3DInputRef.current.getCheckedStatus()&&(this.props.mainComponentThis.floorplan3DOnMapScene.getObjectByName("heatmap".concat(t)).visible=!1)},this.onHeatmapTypeChange=t=>{let e;if(this.state.selectedType===t)e=null,ip.log("heatmap".concat(t)),this.hideHeatmap(t);else{e=t,null!==this.state.selectedType&&this.hideHeatmap(this.state.selectedType);let i=this.props.heatmapTypes.find((t=>t.name==="heatmap".concat(e)));if(i.object){if(i.object.visible=!0,this.props.mainComponentThis.showMapLayer3DInputRef.current.getCheckedStatus()){const t=this.props.mainComponentThis.floorplan3DOnMapScene.getObjectByName("heatmap".concat(e));t?t.visible=!0:this.props.mainComponentThis.floorplan3DOnMapScene.add(i.object.clone())}}else i.drawingMethod(this.props.mainComponentThis.floorplan3DViewScene),this.props.mainComponentThis.showMapLayer3DInputRef.current.getCheckedStatus()&&this.props.mainComponentThis.floorplan3DOnMapScene.add(i.object.clone())}this.props.heightFactorComponentRef.current.checkComponentAvailability(e),this.props.heatmap3DBarsShowFloorRef.current.checkComponentAvailability(e),this.setState({selectedType:e})},this.getHeatmapSelectedType=()=>this.state.selectedType,this.state={selectedType:t.defaultHeatmapType},this.onHeatmapTypeChange=this.onHeatmapTypeChange.bind(this),this.getHeatmapSelectedType=this.getHeatmapSelectedType.bind(this),this.hideHeatmap=this.hideHeatmap.bind(this)}render(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("h3",{children:"Heatmap display options"}),(0,u.jsxs)("div",{className:"heatmap-type-option-container",children:[(0,u.jsx)("div",{children:"2D HEATMAP"}),(0,u.jsx)("div",{children:(0,u.jsx)(Ms.Z,{checked:"2D"===this.state.selectedType,onChange:()=>this.onHeatmapTypeChange("2D")})})]}),(0,u.jsxs)("div",{className:"heatmap-type-option-container",children:[(0,u.jsx)("div",{children:"3D HEATMAP"}),(0,u.jsx)("div",{children:(0,u.jsx)(Ms.Z,{checked:"3D"===this.state.selectedType,onChange:()=>this.onHeatmapTypeChange("3D")})})]}),(0,u.jsxs)("div",{className:"heatmap-type-option-container",children:[(0,u.jsx)("div",{children:"HEATMAP BARS"}),(0,u.jsx)("div",{children:(0,u.jsx)(Ms.Z,{checked:"Bars"===this.state.selectedType,onChange:()=>this.onHeatmapTypeChange("Bars")})})]})]})}}const np=sp;var op=i(1317);class ap extends s.Component{constructor(){super(),this.getHeightFactor=()=>this.state.heightFactor,this.checkComponentAvailability=t=>{"3D"===t||"Bars"===t?this.setState({isVisible:!0}):this.setState({isVisible:!1})},this.onHeightFactorInputChange=t=>{this.setState({heightFactor:t},(()=>{this.props.heatmapRedraw()}))},this.onHeightFactorPlusMinusChange=t=>{let e,i=!1,s=T(this.state.heightFactor,0);isNaN(s)?(i=!0,s=this.initialHeightFactor):"plus"===t?s<this.maxValue&&(i=!0,e=s+1):s>this.minValue&&(i=!0,e=s-1),i&&(this.heatmapHeightFactorPlusMinusInputRef.current.numberInputComponentRef.current.setValue(e),this.setState({heightFactor:e},(()=>this.props.heatmapRedraw())))},this.onHeightFactorSliderChange=(t,e)=>{op.log("Slider change"),this.heatmapHeightFactorPlusMinusInputRef.current.numberInputComponentRef.current.setValue(e),this.setState({heightFactor:e})},this.onHeightFactorSliderMouseUp=()=>{this.props.heatmapRedraw()},this.initialHeightFactor=25,this.state={heightFactor:this.initialHeightFactor,isVisible:!1},this.maxValue=100,this.minValue=1,this.heatmapHeightFactorPlusMinusInputRef=s.createRef(),this.getHeightFactor=this.getHeightFactor.bind(this),this.onHeightFactorPlusMinusChange=this.onHeightFactorPlusMinusChange.bind(this),this.onHeightFactorInputChange=this.onHeightFactorInputChange.bind(this),this.onHeightFactorSliderChange=this.onHeightFactorSliderChange.bind(this),this.onHeightFactorSliderMouseUp=this.onHeightFactorSliderMouseUp.bind(this),this.checkComponentAvailability=this.checkComponentAvailability.bind(this)}componentDidMount(){this.checkComponentAvailability(this.props.defaultHeatmapType)}render(){return this.state.isVisible&&(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("br",{}),(0,u.jsx)("li",{children:(0,u.jsxs)("div",{className:"slider-plus-minus-input-form-group",children:[(0,u.jsx)("h3",{style:{textAlign:"center",margin:0,fontSize:"0.9rem"},children:"Height ratio"}),(0,u.jsx)(Hi,{ref:this.heatmapHeightFactorPlusMinusInputRef,labelName:"",inputStep:1,inputMin:this.minValue,inputMax:this.maxValue,inputValue:this.state.heightFactor,onInputChange:this.onHeightFactorInputChange,callOnlyOnBlur:!0,onInputMinusClick:()=>this.onHeightFactorPlusMinusChange("minus"),onInputPlusClick:()=>this.onHeightFactorPlusMinusChange("plus"),inputWidth:"inputWidth2rem"}),(0,u.jsx)("div",{className:"slider-form-group",children:(0,u.jsx)($o.Z,{getAriaLabel:()=>"Height factor",value:this.state.heightFactor,onChange:this.onHeightFactorSliderChange,onChangeCommitted:this.onHeightFactorSliderMouseUp,valueLabelDisplay:"auto",min:this.minValue,max:this.maxValue})})]})})]})}}const rp=ap;class lp extends s.Component{constructor(){super(),this.getWallsOpacityValue=()=>this.state.wallsOpacity,this.onWallsOpacitySliderChange=(t,e)=>{this.setState({wallsOpacity:e})},this.onWallsOpacitySliderMouseUp=()=>{this.props.mainComponentThis.changeWallMaterialOpacity(this.props.mainComponentThis.currentWalls3D,this.state.wallsOpacity),this.props.mainComponentThis.showMapLayer3DInputRef.current.getCheckedStatus()&&this.props.mainComponentThis.changeWallMaterialOpacity(this.props.mainComponentThis.floorplanViewWalls3D,this.state.wallsOpacity)},this.state={wallsOpacity:100,isVisible:!1},this.getWallsOpacityValue=this.getWallsOpacityValue.bind(this),this.onWallsOpacitySliderChange=this.onWallsOpacitySliderChange.bind(this),this.onWallsOpacitySliderMouseUp=this.onWallsOpacitySliderMouseUp.bind(this)}render(){return(0,u.jsx)(ui,{containerClasses:"slider-form-group",containerStyle:{textAlign:"center",marginBottom:0},label:"Walls opacity",labelStyle:{margin:0},children:(0,u.jsx)($o.Z,{getAriaLabel:()=>"Walls opacity",getAriaValueText:t=>"".concat(t,"%"),valueLabelFormat:t=>"".concat(t,"%"),value:this.state.wallsOpacity,onChange:this.onWallsOpacitySliderChange,onChangeCommitted:this.onWallsOpacitySliderMouseUp,valueLabelDisplay:"auto",min:0,max:100,step:1})})}}const hp=lp;var pp=i(3835),dp=i(1411),cp=i(2656),mp=i(7119),up=i(6627),gp=i(1317);function xp(t,e,i){const s=i.xMouse-e.xMouse,n=i.yMouse-e.yMouse,o=function(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=180*Math.atan2(e,t)/Math.PI+90;return t<0&&e<0&&(s+=360),i&&(s=zt(s)),s}(s,n),a=Math.sqrt(Math.pow(s/this.meter,2)+Math.pow(n/this.meter,2));let r=t;return 0===s&&0===n||(r=(0,xt.Z)(k()(t),a/1e3,o).geometry.coordinates),r}function Ap(t){if("setCenter"===t.name){this._map.off("moveend",this.alignFloorplanTopLeftCornerOnMap);const t=this.calcul_snap_inverse(this.floorplanLastSavedTopLeftSvgCoords?this.floorplanLastSavedTopLeftSvgCoords.x:this.boxWallCoordinates.minX,this.floorplanLastSavedTopLeftSvgCoords?this.floorplanLastSavedTopLeftSvgCoords.y:this.boxWallCoordinates.minY),e=this._map.unproject([t.screenX-this.offset.left,t.screenY-(this.offset.top+this.offset.scrollY)]),i=k()([e.lng,e.lat]),s=k()([this.floorplanGeneral.gps_longitude,this.floorplanGeneral.gps_latitude]),n=(0,mp.Z)(i,s),o=(0,up.Z)(i,s),a=this._map.getCenter(),r=(0,xt.Z)(k()([a.lng,a.lat]),o,n).geometry.coordinates;this._map.setCenter(r);const l=(0,dp.Z)({type:"Feature",geometry:{type:"Polygon",coordinates:[[...this.mapCornersGpsCoords,this.mapCornersGpsCoords[0]]]},properties:{}},o,n);this.mapCornersGpsCoords=l.geometry.coordinates[0].slice(0,-1),this.mapCornerCoordsDebug&&this._map.getSource("mapCornersAfterSource").setData({type:"Feature",geometry:{type:"Polygon",coordinates:[[...this.mapCornersGpsCoords,this.mapCornersGpsCoords[0]]]}})}}function fp(t){const e=Ut(t[1],t[0],this.width_viewbox/this.meter,this.height_viewbox/this.meter,this.floorplanGeneral.floorplan_bearing||0);return{topRightCorner:e[1],bottomRightCorner:e[2],bottomLeftCorner:e[3]}}function Cp(t){const e=this.calcul_snap({pageX:this.offset.left,pageY:this.offset.top+this.offset.scrollY});if(this.mapCornerCoordsDebug){const t={type:"Feature",geometry:{type:"Polygon",coordinates:[[...this.mapCornersGpsCoords,this.mapCornersGpsCoords[0]]]}};this._map.getSource("mapCornersBeforeSource").setData(t)}const i=this.calculateGpsCoordinatesForNewSvgPoint(this.mapCornersGpsCoords[0],t,e),{topRightCorner:s,bottomRightCorner:n,bottomLeftCorner:o}=this.calculateMapCornersCoordinatesFromTopLeftPoint(i);this.mapCornersGpsCoords=[i,s,n,o];const a={type:"Feature",geometry:{type:"Polygon",coordinates:[[...this.mapCornersGpsCoords,i]]},properties:{}},r=(0,pp.Z)(a).geometry.coordinates;this._map.on("moveend",this.alignFloorplanTopLeftCornerOnMap),this._map.setCenter(r,{name:"setCenter"})}function bp(t){const e=this.calcul_snap({pageX:this.offset.left,pageY:this.offset.top+this.offset.scrollY});if(this.mapCornerCoordsDebug){const t={type:"Feature",geometry:{type:"Polygon",coordinates:[[...this.mapCornersGpsCoords,this.mapCornersGpsCoords[0]]]}};this._map.getSource("mapCornersBeforeSource").setData(t)}const i=this.calculateGpsCoordinatesForNewSvgPoint(this.mapCornersGpsCoords[0],t,e),{topRightCorner:s,bottomRightCorner:n,bottomLeftCorner:o}=this.calculateMapCornersCoordinatesFromTopLeftPoint(i),a={type:"Feature",geometry:{type:"Polygon",coordinates:[[i,s,n,o,i]]},properties:{}};if(this.mapCornersGpsCoords=a.geometry.coordinates[0].slice(0,-1),this.mapCornerCoordsDebug){const t={type:"Feature",geometry:{type:"Polygon",coordinates:[[...this.mapCornersGpsCoords,this.mapCornersGpsCoords[0]]]}};this._map.getSource("mapCornersAfterSource").setData(t)}gp.log("Zoom before "+this._map.getZoom());const r=(0,pp.Z)(a).geometry.coordinates,l=qt(r[1],this.zoomFactor/this.meter);gp.log("New zoom "+l),this._map.setZoom(l),this._map.on("moveend",this.alignFloorplanTopLeftCornerOnMap),this._map.setCenter(r,{name:"setCenter"})}function yp(t){this._map=t,this._map.setMinZoom(0),this._map.setMaxZoom(22),this._map.on("resize",this.handleMapLayerWindowResize);const e={type:"Feature",geometry:{type:"Polygon",coordinates:[[...Ut(this.floorplanGeneral.gps_latitude,this.floorplanGeneral.gps_longitude,this.boxWallCoordinates.width/this.meter,this.boxWallCoordinates.height/this.meter),[this.floorplanGeneral.gps_longitude,this.floorplanGeneral.gps_latitude]]]},properties:{}},i={pivot:[this.floorplanGeneral.gps_longitude,this.floorplanGeneral.gps_latitude]},s=(0,cp.Z)(e,this.floorplanGeneral.floorplan_bearing||0,i),n=(0,pp.Z)(s).geometry.coordinates;this.coordinateFloorplanSvgZoomWithMap(n[1]);const o=qt(n[1],this.zoomFactor/this.meter),a=t=>{"setZoom"===t.name?(this._map.setCenter([this.floorplanGeneral.gps_longitude,this.floorplanGeneral.gps_latitude],{name:"setCenter1"}),this._map.setBearing(this.floorplanGeneral.floorplan_bearing||0,{name:"setBearing"}),this._map.setCenter(n,{name:"setCenter2"})):this.onMapCameraOptionsSetFinishCallback(t,a)};this._map.on("moveend",a),this._map.setZoom(o,{name:"setZoom"})}function wp(t,e){gp.log("Moveend event"),gp.log(t.name),"setCenter2"===t.name&&(gp.log("Map set bearing and center finished"),this._map.off("moveend",e),this.getCurrentMapCornersGpsCoords(),gp.log(this.mapCornersGpsCoords),this.mapCornerCoordsDebug&&(this._map.addSource("mapCornersBeforeSource",{type:"geojson",data:{type:"Feature",geometry:{type:"Polygon",coordinates:[]}}}),this._map.addLayer({id:"mapCornersBeforeLayer",type:"line",source:"mapCornersBeforeSource",layout:{},paint:{"line-color":"#000","line-width":3}}),this._map.addSource("mapCornersAfterSource",{type:"geojson",data:{type:"Feature",geometry:{type:"Polygon",coordinates:[]}}}),this._map.addLayer({id:"outlineafter",type:"line",source:"mapCornersAfterSource",layout:{},paint:{"line-color":"#ff0000","line-width":3}})),this.alignFloorplanTopLeftCornerOnMap({name:"setCenter"}))}function vp(){let t=this._map.unproject([0,0]);t=[t.lng,t.lat];const{topRightCorner:e,bottomRightCorner:i,bottomLeftCorner:s}=this.calculateMapCornersCoordinatesFromTopLeftPoint(t);this.mapCornersGpsCoords=[t,e,i,s]}function Sp(){this.getCurrentMapCornersGpsCoords();const t={type:"Feature",geometry:{type:"Polygon",coordinates:[[...this.mapCornersGpsCoords,this.mapCornersGpsCoords[0]]]},properties:{}},e=(0,pp.Z)(t),i=qt(e.geometry.coordinates[1],this.zoomFactor/this.meter);this._map.setZoom(i),this._map.on("moveend",this.alignFloorplanTopLeftCornerOnMap),this._map.setCenter(e.geometry.coordinates,{name:"setCenter"})}function Tp(t){let e=qt(t,this.zoomFactor/this.meter);if(e>22||e<0){let i,s=0,n=this.zoomFactor*this.taille_w;if(e>22){for(i="zoomout";e>22;)s++,n+=this.zoomXMove,e=qt(t,n/this.taille_w/this.meter);gp.log("Zoom out levels needed "+s)}else if(e<0){for(i="zoomin";e<0;)s++,n-=this.zoomXMove,e=qt(t,n/this.taille_w/this.meter);gp.log("Zoom in levels needed "+s)}this.zoomToSpecificLevel(i,s),this.heatmapGenerated&&this.heatmapZoomTranslateControl(),this.setSvgViewBoxes()}}function Pp(t){return()=>{if(this.state.mapStyleLoaded){const e=this._map&&this._map.getStyle();this._map&&e&&e.layers&&(!this.props.isStyleChangeAllowed||this.props.isStyleChangeAllowed())&&this.state.selectedMapStyle!==t&&this.mounted&&this.setState({selectedMapStyle:t,mapStyleLoaded:!1},(()=>{e.layers.forEach((t=>this._map.removeLayer(t.id))),this._map.setStyle("mapbox://styles/mapbox/"+t,{diff:!1}),this._map.once("idle",(()=>{this.props.onSwitchLayerFinishedCallback&&this.props.onSwitchLayerFinishedCallback(this._map),this.mounted&&this.setState({mapStyleLoaded:!0})}))}))}}}class Ip extends s.Component{constructor(t){super(t),this.setMapContext=t=>this._map=t,this.getMapStyleLoadedStatus=()=>this.state.mapStyleLoaded,this.state={selectedMapStyle:"light-v8",mapStyleLoaded:!0},this.mounted=!1,this._map=null,this.switchLayer=Pp.bind(this),this.setMapContext=this.setMapContext.bind(this),this.getMapStyleLoadedStatus=this.getMapStyleLoadedStatus.bind(this)}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{className:"layer-change map-feature-icon svg-center-inside-container"}),(0,u.jsx)("div",{className:"layer-dropdown",children:(0,u.jsx)(Ls,{mapStyles:lt,switchLayer:this.switchLayer,selectedMapStyle:this.state.selectedMapStyle})})]})}}const jp=Ip,Rp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAhMsAhMsTFIDtAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAC0lEQVQImWNgIAwAACQAAa5tRrMAAAAASUVORK5CYII=";var Mp=i(1317);class Bp extends s.Component{constructor(){super(),this.closeModal=()=>{this.polylinesData=[],this.updatePolylines(),this.mounted&&this.setState({tooltip:null})},this.hideModal=()=>{this.mounted&&this.setState({tooltip:null})},this.onPositionPopupClose=()=>{void 0!==this.polylinesData.position_number&&(this.polylinesData=[],this.updatePolylines())},this.addPolylinesLayer=(t,e)=>{t.addSource("connections",{type:"geojson",data:{type:"FeatureCollection",features:e}}),t.addLayer({id:"connections",source:"connections",type:"line",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":["get","rssi"],"line-width":2}})},this.handleGatewaysFilterChange=t=>{let e=[];for(let i=0;i<t.length;i++)this.heatmapGateways[t[i].gtw_id]&&e.push(this.heatmapGateways[t[i].gtw_id]);this._map.getSource("base_stations")&&this._map.getSource("base_stations").setData({type:"FeatureCollection",features:e}),this.state.tooltip&&"base_station"===this.state.tooltip.type&&!e.find((t=>t.properties.id===this.state.tooltip.description.id))&&this.closeModal()},this.addBaseStationsLayer=t=>{this.getBaseStations=!0,t.loadImage(Rp,((e,i)=>{e&&this.setState({error:e.message}),!t.hasImage("base_icon")&&t.addImage("base_icon",i);const s=this.props.mainComponentThis.positionsDataFilterRef.current.getPositionsDataParameters().BASE_filtered;let n=[];for(let t=0;t<s.length;t++)this.heatmapGateways[s[t].gtw_id]&&n.push(this.heatmapGateways[s[t].gtw_id]);t.addSource("base_stations",{type:"geojson",data:{type:"FeatureCollection",features:n}}),t.addLayer({id:"base_stations_unclustered",source:"base_stations",type:"symbol",layout:{"icon-image":"base_icon","icon-size":As[this.zoomRange],"icon-allow-overlap":!0,"icon-ignore-placement":!0,"text-allow-overlap":!0}})}))},this.onBaseStationClick=(t,e)=>{const i=t.properties.gatewayName,s=t.properties.id,n=t.properties.distanceFromFloorplan,o=[t.properties.gtw_long,t.properties.gtw_lat];for(;Math.abs(e.lng-o[0])>180;)o[0]+=e.lng>o[0]?360:-360;this._zoom<10&&(this._zoom=10.2),this.mounted&&(this.polylinesData=[],this.updatePolylines(),this.setState({tooltip:{type:"base_station",description:{id:s,name:i,distance:n},popupCenter:o},mapCenter:o}))},this.onSwitchLayerFinishedCallback=t=>{this.props.is3D&&this.props.onMapContextLoadedCallback(this._map,!1),this.props.isHeatmap&&"1.1"===this.props.heatmapVersion&&(this.addBaseStationsLayer(t),this.addPolylinesLayer(t,this.polylinesData))},this.updatePolylines=()=>this._map.getSource("connections")&&this._map.getSource("connections").setData({type:"FeatureCollection",features:this.polylinesData}),this.getPositionGpsCoordinates=t=>{const e=this.props.mainComponentThis.OBJDATA.find((e=>e.position_num===t));return e?Jt(this.props.mainComponentThis.boxWallCoordinates.minX,this.props.mainComponentThis.boxWallCoordinates.minY,e.x,e.y,this.props.floorplanGpsCoords[1],this.props.floorplanGpsCoords[0],this.props.mainComponentThis.meter,this.props.mainComponentThis.floorplanGeneral.floorplan_bearing||0):null},this.showGatewayPositionsLines=t=>{if(this.polylinesData.gtw_id!==t){const e=this.props.mainComponentThis.gatewaysTableData.find((e=>e.gtw_id===t));let i=[];for(let t=0;t<e.positions.length;t++){const s=this.getPositionGpsCoordinates(e.positions[t].position_number);s&&i.push({coords:[this.state.tooltip.popupCenter,s],rssi:e.positions[t].max_rssi})}this.polylinesData=i.map((t=>{let{coords:e,rssi:i}=t;return{type:"Feature",properties:{rssi:X(i,!0)},geometry:{type:"LineString",coordinates:e}}})),this.polylinesData.gtw_id=t,this.updatePolylines()}},this.showPositionGatewayLines=t=>{if(this.state.tooltip&&this.setState({tooltip:null}),this.polylinesData.position_number!==t){const e=this.getPositionGpsCoordinates(t);if(e){const{base_filtered_hashmap:i}=bt([],[],this.props.mainComponentThis.positionsDataFilterRef.current.getPositionsDataParameters().BASE_filtered);let s=[];const n=this.positionsGateways.find((e=>e.position_number===t));for(let t=0;t<n.positionGateways.length;t++)i[n.positionGateways[t].gtw_id]&&s.push({coords:[e,[n.positionGateways[t].gtw_long,n.positionGateways[t].gtw_lat]],rssi:n.positionGatewaysHashmap[n.positionGateways[t].gtw_id]});this.polylinesData=s.map((t=>{let{coords:e,rssi:i}=t;return{type:"Feature",properties:{rssi:X(i,!0)},geometry:{type:"LineString",coordinates:e}}})),this.polylinesData.position_number=t,this.updatePolylines()}}},this.getTooltip=t=>{let{type:e,description:i}=t;return"base_station"===e?(U("base-station"),(0,u.jsxs)(Rs,{name:i.name,id:i.id,children:[(0,u.jsxs)("center",{children:[(0,u.jsx)("b",{children:B(i.distance,"metric"===this.props.mainComponentThis.context.userUnit?"kilometers":"miles",this.props.mainComponentThis.context.userUnit)})," ","away from floorplan"]}),(0,u.jsx)(Ue,{type:"primary",className:"reached-positions-button",onClick:()=>this.showGatewayPositionsLines(this.state.tooltip.description.id),children:"Reached positions"})]})):null},this.onMapZoom=()=>{this._map&&(this._zoom=this._map.getZoom(),this.isStyleChangeAllowed()&&this._map.getStyle().layers.find((t=>"base_stations_unclustered"===t.id))&&q.call(this))},this.isStyleChangeAllowed=()=>{if(this.showMapLayerStyleChange3DRef.current?this.showMapLayerStyleChange3DRef.current.getMapStyleLoadedStatus():this.showMapLayerStyleChange2DRef.current.getMapStyleLoadedStatus()){const t=this._map.getStyle();let e=t&&t.layers;return e?!this.props.isHeatmap||"1.1"!==this.props.heatmapVersion||e.find((t=>"base_stations_unclustered"===t.id))&&this._map.hasImage("base_icon")?this.props.isHeatmap&&"1.1"===this.props.heatmapVersion&&!e.find((t=>"connections"===t.id))?(Mp.log("False. Nema connections layera"),!1):this.props.is3D&&!this._map.getLayer("floorplan-3d-model")?(Mp.log("False. Nema floorplan3D layera"),!1):(Mp.log("Omogucena promjena stila"),!0):(Mp.log("False. Nema base station layera"),!1):(Mp.log("Nema layera"),!1)}return Mp.log("Vanjski if. Nije loadan stil"),!1},this.handleMapClick2D=t=>{if(this._map&&this.isStyleChangeAllowed()){const e=this.state.tooltip&&this.gatewayPopupRayCasting(this.props.mainComponentThis.calcul_snap(t));if(e)"popup"===e?this.props.mainComponentThis.cursor("default"):"reachedPositions"===e?this.showGatewayPositionsLines(this.state.tooltip.description.id):"hideButton"===e?this.hideModal():"closeButton"===e&&this.closeModal();else{const e=this._map.queryRenderedFeatures([t.pageX-this.props.mainComponentThis.offset.left,t.pageY-(this.props.mainComponentThis.offset.top+this.props.mainComponentThis.offset.scrollY)],{layers:["base_stations_unclustered"]});e.length>0?this.onBaseStationClick(e[0],this._map.unproject([t.pageX-this.props.mainComponentThis.offset.left,t.pageY-(this.props.mainComponentThis.offset.top+this.props.mainComponentThis.offset.scrollY)])):this.state.tooltip&&"base_station"===this.state.tooltip.type&&(this.polylinesData=[],this.updatePolylines(),this.setState({tooltip:null}))}}},this.handle3DHeatmapMapClick=(t,e)=>{if(this._map&&this.isStyleChangeAllowed()){const t=this._map.queryRenderedFeatures(e.point,{layers:["base_stations_unclustered"]});t.length>0?this.onBaseStationClick(t[0],this._map.unproject(e.point)):this.state.tooltip&&"base_station"===this.state.tooltip.type&&(this.polylinesData=[],this.updatePolylines(),this.setState({tooltip:null}))}},this.handleMapMouseMove2D=t=>{if(this._map&&this.isStyleChangeAllowed()){const e=this.state.tooltip&&this.gatewayPopupRayCasting(this.props.mainComponentThis.calcul_snap(t));if(e)"popup"===e?this.props.mainComponentThis.cursor("default"):this.props.mainComponentThis.cursor("pointer");else{this._map.queryRenderedFeatures([t.pageX-this.props.mainComponentThis.offset.left,t.pageY-(this.props.mainComponentThis.offset.top+this.props.mainComponentThis.offset.scrollY)],{layers:["base_stations_unclustered"]}).length>0?this.props.mainComponentThis.cursor("pointer"):this.props.mainComponentThis.cursor("default")}}},this.gatewayPopupRayCasting=t=>!!Zt({x:t.xMouse,y:t.yMouse},this.props.mainComponentThis.createElementPopupSvgRectanglePolygon(document.querySelector(".mapboxgl-popup")))&&(Zt({x:t.xMouse,y:t.yMouse},this.props.mainComponentThis.createElementPopupSvgRectanglePolygon(this.mapGatewayPopupCloseButton.current))?"closeButton":Zt({x:t.xMouse,y:t.yMouse},this.props.mainComponentThis.createElementPopupSvgRectanglePolygon(this.mapGatewayPopupHideButton.current))?"hideButton":Zt({x:t.xMouse,y:t.yMouse},this.props.mainComponentThis.createElementPopupSvgRectanglePolygon(document.getElementsByClassName("reached-positions-button")[0]))?"reachedPositions":"popup"),this.state={error:null,tooltip:null,visibleErrorPopup:!1},this.showMapLayerStyleChange2DRef=s.createRef(),this.showMapLayerStyleChange3DRef=s.createRef(),this.mapGatewayPopupCloseButton=s.createRef(),this.mapGatewayPopupHideButton=s.createRef(),this._map=null,this.zoomRange=4,this._zoom=9,this.onMapMountCallbackCalled=!1,this.polylinesData=[],this.positionsGateways=[],this.heatmapGateways=[],this.mounted=!1,this.onMapZoom=this.onMapZoom.bind(this),this.getTooltip=this.getTooltip.bind(this),this.closeModal=this.closeModal.bind(this),this.hideModal=this.hideModal.bind(this),this.addBaseStationsLayer=this.addBaseStationsLayer.bind(this),this.addPolylinesLayer=this.addPolylinesLayer.bind(this),this.updatePolylines=this.updatePolylines.bind(this),this.onBaseStationClick=this.onBaseStationClick.bind(this),this.handleGatewaysFilterChange=this.handleGatewaysFilterChange.bind(this),this.onSwitchLayerFinishedCallback=this.onSwitchLayerFinishedCallback.bind(this),this.isStyleChangeAllowed=this.isStyleChangeAllowed.bind(this),this.handleMapClick2D=this.handleMapClick2D.bind(this),this.handle3DHeatmapMapClick=this.handle3DHeatmapMapClick.bind(this),this.handleMapMouseMove2D=this.handleMapMouseMove2D.bind(this),this.gatewayPopupRayCasting=this.gatewayPopupRayCasting.bind(this),this.showGatewayPositionsLines=this.showGatewayPositionsLines.bind(this),this.showPositionGatewayLines=this.showPositionGatewayLines.bind(this),this.onPositionPopupClose=this.onPositionPopupClose.bind(this),this.getPositionGpsCoordinates=this.getPositionGpsCoordinates.bind(this)}componentDidMount(){this.positionsGateways=this.props.mainComponentThis.positionsData.map((t=>{let e=[],i={};for(let s=0;s<t.messages.length;s++)for(let n=0;n<t.messages[s].gateways.length;n++)void 0===i[t.messages[s].gateways[n].gtw_id]?(i[t.messages[s].gateways[n].gtw_id]=t.messages[s].gateways[n].rssi,e.push(t.messages[s].gateways[n])):t.messages[s].gateways[n].rssi>i[t.messages[s].gateways[n].gtw_id]&&(i[t.messages[s].gateways[n].gtw_id]=t.messages[s].gateways[n].rssi);return{position_number:t.position_number,positionGateways:e,positionGatewaysHashmap:i}}));for(let e=0;e<this.props.heatmapGateways.length;e++)R(this.props.heatmapGateways[e].gtw_long)||R(this.props.heatmapGateways[e].gtw_lat)||(this.heatmapGateways[this.props.heatmapGateways[e].gtw_id]={type:"Feature",properties:{gatewayName:this.props.heatmapGateways[e].name,id:this.props.heatmapGateways[e].gtw_id,distanceFromFloorplan:(0,O.Z)(k()([this.props.heatmapGateways[e].gtw_long,this.props.heatmapGateways[e].gtw_lat]),k()(this.props.floorplanGpsCoords),(t=this.props.mainComponentThis.context.userUnit,{units:"metric"===t?"kilometers":"miles"})),gtw_long:this.props.heatmapGateways[e].gtw_long,gtw_lat:this.props.heatmapGateways[e].gtw_lat},geometry:{type:"Point",coordinates:[this.props.heatmapGateways[e].gtw_long,this.props.heatmapGateways[e].gtw_lat]}});var t;this.mounted=!0,!this.props.is3D&&n.render((0,u.jsx)(jp,{ref:this.showMapLayerStyleChange2DRef,is3D:this.props.is3D,onMapContextLoadedCallback:this.props.onMapContextLoadedCallback,onSwitchLayerFinishedCallback:this.onSwitchLayerFinishedCallback,isStyleChangeAllowed:this.isStyleChangeAllowed}),this.props.mapStylesChangeRef.current)}componentWillUnmount(){this.mounted=!1,!this.props.is3D&&n.unmountComponentAtNode(this.props.mapStylesChangeRef.current)}render(){return(0,u.jsxs)(s.Fragment,{children:[this.props.is3D&&(0,u.jsx)(jp,{ref:this.showMapLayerStyleChange3DRef,is3D:this.props.is3D,onMapContextLoadedCallback:this.props.onMapContextLoadedCallback,onSwitchLayerFinishedCallback:this.onSwitchLayerFinishedCallback,isStyleChangeAllowed:this.isStyleChangeAllowed}),(0,u.jsxs)(ks,{mapStyle:"mapbox://styles/mapbox/light-v8",center:this.props.center,zoom:[this._zoom],onZoom:this.onMapZoom,onClick:this.props.is3D&&this.props.isHeatmap?this.handle3DHeatmapMapClick:null,preserveDrawingBuffer:this.props.preserveDrawingBuffer,children:[this.props.is3D&&(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(vs.Ly,{className:"zoom-control",style:{right:20}}),(0,u.jsx)(vs.AI,{className:"rotation-control",style:{right:20}})]}),(0,u.jsx)(vs.jf,{className:"scale-control",measurement:"metric"===this.props.mainComponentThis.context.userUnit?"km":"mi"}),this.state.tooltip&&(0,u.jsx)(Is,{hideModal:this.hideModal,hideModalRef:this.mapGatewayPopupHideButton,closeModal:this.closeModal,closeModalRef:this.mapGatewayPopupCloseButton,popupCenter:this.state.tooltip.popupCenter,children:this.getTooltip(this.state.tooltip)}),(0,u.jsx)(vs.X$.Consumer,{children:t=>{this._map=t,this.onMapMountCallbackCalled||(this.onMapMountCallbackCalled=!0,this.showMapLayerStyleChange3DRef.current?this.showMapLayerStyleChange3DRef.current.setMapContext(t):this.showMapLayerStyleChange2DRef.current.setMapContext(t),this.props.onMapContextLoadedCallback(t),this.props.isHeatmap&&"1.1"===this.props.heatmapVersion&&this.addBaseStationsLayer(t),this.props.isHeatmap&&"1.1"===this.props.heatmapVersion&&this.addPolylinesLayer(this._map,[]))}})]}),(0,u.jsx)(Fs,{visible:this.state.visibleErrorPopup,loading:!1,error:this.state.error,singleButton:!0,statePropertyName:"visibleErrorPopup",setChoice:this.setState.bind(this)})]})}}const Dp=Bp;class Lp extends s.Component{constructor(t){super(t),this.saveInputChanges=()=>{n.render((0,u.jsx)(ra,{}),this.props.loadingComponentContainer,(()=>{let t={...this.props.heatmapGeneral,floorsHeatmapOptionsBindings:this.state.floorsHeatmapOptionsBindings};const e=[this.props.mainComponentThis.currentRouteID];b.post.call(this,"/heatmaps/".concat(e[e.length-1],"?type=4"),{heatmapGeneral:t},(()=>{this.props.heatmapRedrawMethod(t,this.state.floorsHeatmapOptionsBindings)}))}))},this.handleFloorHeatmapOptionInputChange=(t,e)=>{const i=this.state.floorsHeatmapOptionsBindings.map((i=>({...i,floorHeatmapOptions:i.floorHeatmapOptions.map((s=>({...s,checked:i.floorNumber===t?s.heatmapOptionIndex===e&&!s.checked:s.checked})))})));this.setState({floorsHeatmapOptionsBindings:i},this.saveInputChanges)},this.state={floorsHeatmapOptionsBindings:t.floorsHeatmapOptionsBindings},this.saveInputChanges=this.saveInputChanges.bind(this),this.handleFloorHeatmapOptionInputChange=this.handleFloorHeatmapOptionInputChange.bind(this),this.mounted=!1}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("h3",{style:{marginBottom:"0.5rem"},children:"Floors options"}),(0,u.jsxs)("div",{className:"floors-heatmap-options-bindings-container",children:[this.state.floorsHeatmapOptionsBindings.map((t=>(0,u.jsxs)("div",{className:"floor-heatmap-options-container",children:[(0,u.jsx)("div",{className:"floor-label",children:"Floor ".concat(t.floorNumber)}),(0,u.jsx)("ul",{children:t.floorHeatmapOptions.map((e=>(0,u.jsx)("li",{children:(0,u.jsxs)("div",{className:"heatmap-option-list-item-container",children:[(0,u.jsx)(ci,{title:"Option ".concat(e.heatmapOptionIndex+1),checked:e.checked,onChange:()=>this.handleFloorHeatmapOptionInputChange(t.floorNumber,e.heatmapOptionIndex),label:"Option ".concat(e.heatmapOptionIndex+1)}),(0,u.jsx)("div",{children:(0,u.jsx)(ti,{indoorPanelExplanationBox:this.props.panelInfoExplanationBox,infoText:ge(this.props.heatmapOptions[e.heatmapOptionIndex],"info-text-container")})})]})},e.heatmapOptionIndex)))})]},t.floorNumber))),(0,u.jsx)("div",{className:"info-and-notes-container",children:(0,u.jsxs)("div",{className:"rounded-container",children:[(0,u.jsx)("div",{className:"popup-icon-container",children:(0,u.jsx)(Ke.Z,{style:{height:25,width:"auto"}})}),(0,u.jsx)("p",{className:"subnote-paragraph",children:"Floors with no option selected will not be shown"}),(0,u.jsx)("p",{className:"subnote-paragraph",children:"Don't worry, you can change your choice anytime later"}),(0,u.jsxs)("p",{className:"subnote-paragraph",children:["You can insert floor number for specific heatmap option inside right box ",(0,u.jsx)("b",{children:"INFO"})," tab"]})]})})]})]})}}const Np=Lp;class kp extends s.Component{constructor(){super(),this.getHeatmap3dBarsShowFloorStatus=()=>this.state.showFloorChecked,this.checkComponentAvailability=t=>{"3D"===t||"Bars"===t?this.setState({isVisible:!0}):this.setState({isVisible:!1})},this.onShowFloorChange=()=>{this.state.showFloorChecked?this.props.removeHeatmapFloors():this.props.drawHeatmapFloors(),this.setState({showFloorChecked:!this.state.showFloorChecked})},this.state={showFloorChecked:!1,isVisible:!1},this.getHeatmap3dBarsShowFloorStatus=this.getHeatmap3dBarsShowFloorStatus.bind(this),this.checkComponentAvailability=this.checkComponentAvailability.bind(this),this.onShowFloorChange=this.onShowFloorChange.bind(this)}componentDidMount(){this.checkComponentAvailability(this.props.defaultHeatmapType)}render(){return this.state.isVisible&&(0,u.jsx)("li",{children:(0,u.jsxs)("div",{className:"heatmap-type-option-container",children:[(0,u.jsx)("div",{style:{fontWeight:"bold",fontSize:"1.18em"},children:"Show floors"}),(0,u.jsx)("div",{children:(0,u.jsx)(Ms.Z,{checked:this.state.showFloorChecked,onChange:this.onShowFloorChange})})]})})}}const Op=kp;var Fp=i(1317);class Wp extends s.Component{constructor(){var t;super(),t=this,this.onExportPngClick=()=>{const t=this.showMapLayer3DInputRef.current.getCheckedStatus()?this._map.getCanvas():this.canvasRef.current,e=t.toDataURL("image/png");let i=document.createElement("canvas");i.width=t.width*this.exportPngResolutionScale,i.height=t.height*this.exportPngResolutionScale;let s=i.getContext("2d");s.scale(this.exportPngResolutionScale,this.exportPngResolutionScale);let n=new Image;n.onload=()=>{s.drawImage(n,0,0);let e=new Image;e.onload=()=>{s.drawImage(e,t.width-176,t.height-50,166,40);const n=i.toDataURL("image/png"),o=document.createElement("a");o.download="GLAMOS_3D".concat(this.props.isHeatmap?"Heatmap":"Floorplan","_").concat((new Date).getDate().toString().padStart(2,"0"),"_").concat(((new Date).getMonth()+1).toString().padStart(2,"0"),"_").concat((new Date).getFullYear()),o.href=n,o.click()},e.src=a},n.src=e},this.hidePanel=()=>{this.panel.current.style.transform="translateX(0px)",this.panelControl.current.title="Show panel",this.panelControl.current.style.transform="translateX(0px)",this.panelControl.current.children[0].style.transform="rotate(180deg)"},this.onPanelControlClick=()=>{this.panel.current.style.transform==="translateX(".concat(this.panelWidth,"px)")?this.hidePanel():(this.panel.current.style.transform="translateX(".concat(this.panelWidth,"px)"),this.panelControl.current.title="Hide panel",this.panelControl.current.style.transform="translateX(".concat(this.panelWidth,"px)"),this.panelControl.current.children[0].style.transform="rotate(0deg)")},this.setFloorplanItemShadow=t=>{t.castShadow=!0,t.receiveShadow=!1,t.traverse((t=>{t.receiveShadow=!1,t.castShadow=!0}))},this.rotateAroundPoint=(t,e,i,s,n)=>{(n=void 0!==n&&n)&&t.parent.localToWorld(t.position),t.position.sub(e),t.position.applyAxisAngle(i,s),t.position.add(e),n&&t.parent.worldToLocal(t.position),t.rotateOnAxis(i,s)},this.translateObjectInWorld=(t,e,i,s)=>{const n=new Vh.Vector3(e,i,s),o=new Vh.Vector3;t.getWorldPosition(o),o.add(n),t.position.set(o.x,o.y,o.z)},this.createMeshFromObject=(t,e)=>{let i=[],s=[];for(let a=0;a<t.children.length;a++){let e=t.children[a];"Mesh"===e.type&&(e.material.length?i=i.concat(e.material):i.push(e.material),e.geometry.isBufferGeometry&&s.push(e.geometry))}let n=new Vh.BufferGeometry;n=Qh.qf([...s],!0),n.computeVertexNormals(),n.computeBoundingBox(),n.normalizeNormals();const o=new Vh.Mesh(n,i);e.add(o)},this.onCameraMoved=()=>{for(let t=0;t<this.currentWalls3D.length;t++)this.currentWalls3D[t].updateFrontWallVisibility()},this.onInitialFloorplanDrawingFinishedCallback=()=>{this.floorplanViewWalls3D=[...this.currentWalls3D],this.floorplanViewRoomFloors=[...this.currentRoomFloors],this.floorplanViewTables=[...this.currentTables],this.floorplanViewGateways=[...this.currentGateways],n.unmountComponentAtNode(this.props.loadingComponentContainer),requestAnimationFrame((()=>{this.props.mainComponentThis.taille_w>=this.props.mainComponentThis.smallScreenPixelSize?(this.panel.current.style.transform="translateX(".concat(this.panelWidth,"px)"),this.panelControl.current.style.transform="translateX(".concat(this.panelWidth,"px)")):(this.panelControl.current.children[0].style.transform="rotate(180deg)",this.panelControl.current.title="Show panel")}))},this.isInitialLoadingFinished=()=>{Fp.log(JSON.stringify(this.loadingCallbacksStatuses));for(let t=0;t<this.loadingCallbacksStatuses.length;t++)if(!this.loadingCallbacksStatuses[t])return;this.onInitialFloorplanDrawingFinishedCallback()},this.floorplan3DViewAnimate=()=>{setTimeout((()=>{requestAnimationFrame(this.floorplan3DViewAnimate)}),this.timeIntervalBetweenFrames),this.floorplan3DViewRenderer.clear(),this.floorplan3DViewRenderer.render(this.floorplan3DViewScene,this.floorplan3DViewCamera)},this.onWindowResize=()=>{Fp.log("Canvas resize");let t=this.props.container.getBoundingClientRect();this.floorplan3DViewCamera.aspect=t.width/t.height,this.floorplan3DViewCamera.updateProjectionMatrix(),this.floorplan3DViewRenderer.setSize(t.width,t.height),this.showMapLayer3DInputRef.current.getCheckedStatus()&&(this.floorplan3DOnMapCamera.aspect=t.width/t.height,this.floorplan3DOnMapCamera.updateProjectionMatrix(),this.floorplan3DOnMapCameraRenderer.setSize(t.width,t.height))},this.calculateDistance3D=(t,e)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)+Math.pow(t.z-e.z,2)),this.calculateAngleBetween2DVectors=(t,e,i,s)=>-Math.atan2(t*s-e*i,t*i+e*s),this.calculatePlaneGeometryUVMappings=(t,e,i,s,n)=>{let o,a=t.getAttribute("uv"),r=t.getAttribute("position"),l=new Vh.Vector3;for(let h=0;h<a.count;h++)l.fromBufferAttribute(r,h),o=n(l,e,i,s),a.setXY(h,o.x,o.y);a.needsUpdate=!0},this.createLights=(t,e,i,s)=>{const n=new Vh.DirectionalLight(16777215,.8);n.position.set(e.x,e.y,e.z),n.castShadow=!0,n.shadow.mapSize.width=1024,n.shadow.mapSize.height=1024,n.shadow.focus=1,n.shadow.bias=-1e-4,n.shadowDarkness=.2,n.shadow.camera.left=this.props.boxWallCoordinates.width*this.scaleFactor,n.shadow.camera.bottom=this.props.boxWallCoordinates.height*this.scaleFactor,n.shadow.camera.right=-this.props.boxWallCoordinates.width*this.scaleFactor,n.shadow.camera.top=-this.props.boxWallCoordinates.height*this.scaleFactor,n.shadow.camera.near=this.calculateDistance3D({x:i.x,y:0,z:(this.props.boxWallCoordinates.maxY-s.z+60)*this.scaleFactor},e),n.shadow.camera.far=this.calculateDistance3D({x:i.x,y:0,z:(this.props.boxWallCoordinates.minY-s.z-60)*this.scaleFactor},e),n.target.position.set(i.x,0,i.z),t.add(n),t.add(n.target);const o=n.clone(),a=new Vh.Vector3(0,0,e.z-2*i.z);a.applyAxisAngle(new Vh.Vector3(0,1,0),Math.PI),a.add(new Vh.Vector3(e.x,e.y,0)),o.position.set(a.x,a.y,a.z),t.add(o),t.add(o.target);const r=n.clone(),l=new Vh.Vector3(i.x+i.z-e.z,e.y,i.z);r.position.set(l.x,l.y,l.z),t.add(r),t.add(r.target);const h=n.clone(),p=new Vh.Vector3(i.x+e.z-i.z,e.y,i.z);h.position.set(p.x,p.y,p.z),t.add(h),t.add(h.target)},this.centerCamera=()=>{const t=Pt(this.floorplanBoundingBoxCoordinates,this.scaleFactor);this.floorplanCenterVector=new Vh.Vector3(t.x,this.cameraYOffset,t.y),this.controls.target=this.floorplanCenterVector.clone(),this.YZDistanceFromFloorplanCenter=1.5*(this.floorplanBoundingBoxCoordinates.maxY-this.floorplanBoundingBoxCoordinates.minY)*this.scaleFactor,this.floorplan3DViewCamera.position.copy(this.floorplanCenterVector.clone().add(new Vh.Vector3(0,this.YZDistanceFromFloorplanCenter,this.YZDistanceFromFloorplanCenter))),this.controls.update()},this.adjustCameraYPosition=t=>{let e=0;for(let i=this.floorsHeatmapOptionsBindings.length-1;i>=0;i--)if(this.floorsHeatmapOptionsBindings[i].floorHeatmapOptions.find((t=>!0===t.checked))){e=this.floorsHeatmapOptionsBindings[i].floorNumber;break}t.position.set(t.position.x,this.cameraYOffset+this.YZDistanceFromFloorplanCenter+e*this.wallHeight,t.position.z),this.controls.update()},this.loadObjMtlWindowObject=()=>{let t=this.loadingCallbacksStatuses.length;this.loadingCallbacksStatuses.push(!1),this.materialLoader.load("items3D/window.mtl",(e=>{this.loadingCallbacksStatuses[t]=!0,this.objLoader.setMaterials(e),t=this.loadingCallbacksStatuses.length,this.loadingCallbacksStatuses.push(!1),this.objLoader.load("/items3D/window.obj",(e=>{this.loadingCallbacksStatuses[t]=!0,this.setFloorplanItemShadow(e);const i=new Vh.Vector3;(new Vh.Box3).setFromObject(e).getSize(i),this.windowObject3D={object:e,sizeVector:i},this.drawFloorplanFloorsWallObjects(),this.isInitialLoadingFinished()}))}))},this.drawFloorplanWallObjMtlItems=()=>{let t=this.props.OBJDATA.filter((t=>"doorWindow"===t.class&&"simple"===t.type)),e=this.props.OBJDATA.filter((t=>"doorWindow"===t.class&&"fix"===t.type));if((t.length>0&&this.doorObject3D||0===t.length)&&(e.length>0&&this.windowObject3D||0===e.length))(t.length>0||e.length>0)&&this.drawFloorplanFloorsWallObjects();else if(t.length>0){let t=this.loadingCallbacksStatuses.length;this.loadingCallbacksStatuses.push(!1),this.materialLoader.load("/items3D/door.mtl",(i=>{this.loadingCallbacksStatuses[t]=!0,i.preload(),this.objLoader.setMaterials(i),t=this.loadingCallbacksStatuses.length,this.loadingCallbacksStatuses.push(!1),this.objLoader.load("/items3D/door.obj",(i=>{this.loadingCallbacksStatuses[t]=!0,this.setFloorplanItemShadow(i);const s=new Vh.Vector3;(new Vh.Box3).setFromObject(i).getSize(s),this.doorObject3D={object:i,sizeVector:s},e.length>0?this.loadObjMtlWindowObject():(this.drawFloorplanFloorsWallObjects(),this.isInitialLoadingFinished())}))}))}else e.length>0&&this.loadObjMtlWindowObject()},this.drawFloorplanFloorsHeatmap2D=async t=>{let e=this.heatmapTypes.find((t=>"heatmap2D"===t.name));e.object&&e.object.parent.remove(e.object),e.object=new Vh.Group,e.object.name=e.name;let i=[];for(let n=0;n<this.floorplanFloors.length;n++)null!==this.floorplanFloors[n].heatmapOptionIndex&&i.push(this.floorplanFloors[n]);try{for(let t of i.map((t=>i=>this.drawFloorHeatmap2D(e.object,t.heatmapOptionIndex,t.floorNumber,null,i)))){let e=this.loadingCallbacksStatuses.length;this.loadingCallbacksStatuses.push(!1),await t(e)}t.getObjectByName(e.object.name)||t.add(e.object),this.isInitialLoadingFinished()}catch(s){wt(this.props.mainComponentThis.generateHeatmapErrorModal.current,this.props.mainComponentThis.modalTimeout)}},this.drawFloorHeatmap2D=(t,e,i,s,n)=>new Promise(((o,a)=>{const r=this.props.mainComponentThis.calculateHeatmapOptionRenderedPositions(this.props.mainComponentThis.heatmapOptions[e],!1).map((t=>(delete t.graph,t)));this.props.mainComponentThis.generateHeatmap(!1,!1,r,e).then((e=>{if(e){const a=this.floorplanFloors.find((t=>t.floorNumber===i));a.heatmap2DCanvas=e,a.heatmapOptionRenderedPositions=r;const l=1e4,h=Math.ceil(this.props.boxWallCoordinates.width*this.scaleFactor/l),p=Math.ceil(this.props.boxWallCoordinates.height*this.scaleFactor/l),d=Math.ceil(this.props.boxWallCoordinates.width/h),c=Math.ceil(this.props.boxWallCoordinates.height/p),m=new Vh.Group;let u=[];for(let r=0;r<h;r++)for(let a=0;a<p;a++){const l={x:r*d,y:a*c},h=e.getContext("2d").getImageData(l.x,l.y,d,c);let p=document.createElement("canvas");p.width=d,p.height=c,p.getContext("2d").putImageData(h,0,0);let g=document.createElement("canvas");g.width=d*this.scaleFactor,g.height=c*this.scaleFactor;let x=g.getContext("2d");x.fillStyle="#ffffff";for(let t=0;t<this.props.ROOMS.length;t++){x.beginPath();for(let e=0;e<this.props.ROOMS[t].coordsInsideWithOrphans.length;e++){const i=(this.props.ROOMS[t].coordsInsideWithOrphans[e].x-this.props.boxWallCoordinates.minX-l.x)*this.scaleFactor,s=(this.props.ROOMS[t].coordsInsideWithOrphans[e].y-this.props.boxWallCoordinates.minY-l.y)*this.scaleFactor;0===e?x.moveTo(i,s):x.lineTo(i,s)}x.closePath(),x.fill()}let A=new Image,f=u.length;u.push(!1),A.onload=()=>{x.scale(this.scaleFactor,this.scaleFactor),x.drawImage(A,0,0);let e=new Vh.DataTexture(x.getImageData(0,0,d*this.scaleFactor,c*this.scaleFactor).data,d*this.scaleFactor,c*this.scaleFactor);e.needsUpdate=!0;const a=new Vh.MeshBasicMaterial({color:16777215,side:Vh.BackSide,alphaTest:1e-5,map:e});let r=new Vh.Vector2(this.props.boxWallCoordinates.minX+l.x,this.props.boxWallCoordinates.minY+l.y).multiplyScalar(this.scaleFactor);const h=[r,new Vh.Vector2(this.props.boxWallCoordinates.minX+l.x,this.props.boxWallCoordinates.minY+l.y+c).multiplyScalar(this.scaleFactor),new Vh.Vector2(this.props.boxWallCoordinates.minX+l.x+d,this.props.boxWallCoordinates.minY+l.y+c).multiplyScalar(this.scaleFactor),new Vh.Vector2(this.props.boxWallCoordinates.minX+l.x+d,this.props.boxWallCoordinates.minY+l.y).multiplyScalar(this.scaleFactor)];Fp.log(h);let p=new Vh.Shape(h),g=new Vh.ShapeGeometry(p),C=r.clone();this.calculatePlaneGeometryUVMappings(g,C,d,c,((t,e,i,s)=>{const n=ie({x:e.x,y:0},{x:t.x,y:0})/(i*this.scaleFactor),o=(t.y-e.y)/(s*this.scaleFactor);return Fp.log(n+" "+o),new Vh.Vector2(n,o)})),Fp.log("pOSITION SHAPE GEOMETRY CALLED"),m.add(new Vh.Mesh(g,a)),u[f]=!0,ke(u)&&(m.rotation.set(Math.PI/2,0,0),m.position.y=i*this.wallHeight,m.name="Floor "+i,t.add(m),n&&(this.loadingCallbacksStatuses[n]=!0),s&&s(),o(!0))},A.src=p.toDataURL()}}else o(!0)})).catch((t=>{n&&(this.loadingCallbacksStatuses[n]=!0),a(t)}))})),this.drawFloorplanFloorsHeatmap3D=function(e){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=t.heatmapTypes.find((t=>"heatmap3D"===t.name));s.object&&s.object.parent.remove(s.object),s.object=new Vh.Group,s.object.name=s.name;for(let n=0;n<t.floorplanFloors.length;n++)null!==t.floorplanFloors[n].heatmapOptionIndex&&t.drawFloorHeatmap3D(s.object,t.floorplanFloors[n].floorNumber);i||(s.object.visible=!1),e.add(s.object)},this.drawFloorHeatmap3D=(t,e)=>{const i=this.floorplanFloors.find((t=>t.floorNumber===e)).heatmap2DCanvas;if(i){const s=new Vh.Group,n=new Vh.PlaneGeometry(this.props.boxWallCoordinates.width*this.scaleFactor,this.props.boxWallCoordinates.height*this.scaleFactor,1e3,1e3);n.rotateX(-Math.PI/2);const o=new Vh.ShaderMaterial({uniforms:{heatmap:{value:new Vh.CanvasTexture(i)},colorPalette:{value:new Vh.CanvasTexture(this.props.heatmapPaletteCanvas)},heightFactor:{value:10*this.heightFactorRef.current.getHeightFactor()}},vertexShader:this.heatmap3DVertexShader,fragmentShader:this.heatmap3DFragmentShader,transparent:!0}),a=new Vh.Mesh(n,o);a.position.set(this.floorplanCenterVector.x,0,this.floorplanCenterVector.z),s.add(a),s.position.y=e*this.wallHeight,s.name="Floor "+e,this.heatmap3DBarsShowFloorRef.current.getHeatmap3dBarsShowFloorStatus()&&this.drawFloorRoomFloors(s,this.floorplanFloors.find((t=>t.floorNumber===e)),!0),t.add(s)}},this.drawFloorplanFloorsHeatmapBars=function(e){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=t.heatmapTypes.find((t=>"heatmapBars"===t.name));s.object&&s.object.parent.remove(s.object),s.object=new Vh.Group,s.object.name=s.name;for(let n=0;n<t.floorplanFloors.length;n++)null!==t.floorplanFloors[n].heatmapOptionIndex&&t.drawFloorHeatmapBars(s.object,t.floorplanFloors[n].heatmapOptionIndex,t.floorplanFloors[n].floorNumber);i||(s.object.visible=!1),e.add(s.object)},this.drawFloorHeatmapBars=(t,e,i)=>{const s=new Vh.Group,n=this.props.mainComponentThis.heatmapOptions[e],o=this.floorplanFloors.find((t=>t.floorNumber===i)).heatmapOptionRenderedPositions;if(o){const e=me(o,this.props.mainComponentThis.heatmapPositionStandardRadius);for(let t=0;t<o.length;t++){let i=Yt(o[t],n.heatmapPositionDataSelectedOption,n.rssiColorMin,n.rssiColorMax,n.gatewaysColorMax,n.gatewaysColorMin);const a=4*Math.floor(255*i),r="#"+ht[a].toString(16).padStart(2,"0")+ht[a+1].toString(16).padStart(2,"0")+ht[a+2].toString(16).padStart(2,"0"),l=i*this.heightFactorRef.current.getHeightFactor()*10,h=new Vh.CylinderGeometry(e[t]*this.scaleFactor/2,e[t]*this.scaleFactor/2,l,50),p=new Vh.MeshBasicMaterial({color:r,transparent:100===this.wallsOpacityRef.current.getWallsOpacityValue(),opacity:100===this.wallsOpacityRef.current.getWallsOpacityValue()?.7:1}),d=new Vh.Mesh(h,p);d.position.set(o[t].x*this.scaleFactor,l/2,o[t].y*this.scaleFactor),s.add(d)}s.position.y=i*this.wallHeight,s.name="Floor "+i,this.heatmap3DBarsShowFloorRef.current.getHeatmap3dBarsShowFloorStatus()&&this.drawFloorRoomFloors(s,this.floorplanFloors.find((t=>t.floorNumber===i)),!0),t.add(s)}},this.heatmapHeightFactorRedraw=()=>{const t=this.heatmapDisplayOptionsRef.current.getHeatmapSelectedType();if(this.drawFloorplanFloorsHeatmapBars(this.floorplan3DViewScene,"Bars"===t),this.drawFloorplanFloorsHeatmap3D(this.floorplan3DViewScene,"3D"===t),this.showMapLayer3DInputRef.current.getCheckedStatus()){const e=this.floorplan3DOnMapScene.getObjectByName("heatmapBars");e&&this.floorplan3DOnMapScene.remove(e);const i=this.floorplan3DOnMapScene.getObjectByName("heatmap3D");i&&this.floorplan3DOnMapScene.remove(i);const s=this.heatmapTypes.find((t=>"heatmapBars"===t.name)).object.clone();s.visible="Bars"===t;const n=this.heatmapTypes.find((t=>"heatmap3D"===t.name)).object.clone();n.visible="3D"===t,this.floorplan3DOnMapScene.add(s),this.floorplan3DOnMapScene.add(n)}},this.getHeatmapOptionGateways=t=>this.props.mainComponentThis.currentHeatmapOptionIndex===t?this.props.OBJDATA.filter((t=>"gateway"===t.type)):this.props.mainComponentThis.heatmapOptions[t].renderedGateways,this.drawFloorGateways=(t,e,i,s)=>{const n=this.getHeatmapOptionGateways(e),o=i*this.wallHeight,a=90,r=30,l=new Vh.MeshPhongMaterial({color:5921370}),h=new Vh.MeshPhongMaterial({color:12632256}),p=new Vh.MeshPhongMaterial({color:65793}),d=new Vh.MeshPhongMaterial({color:2829099});for(let c=0;c<n.length;c++){let e=new Vh.Group;const i=new Vh.CylinderGeometry(12,12,1,30),m=new Vh.Mesh(i,l);m.position.set(n[c].x,o+.5,n[c].y),e.add(m);const u=new Vh.CylinderGeometry(1,1,a,30),g=new Vh.Mesh(u,l);g.position.set(n[c].x,o+45+1,n[c].y),e.add(g);const x=new Vh.BoxGeometry(6,r,5),A=new Vh.Mesh(x,h);A.position.set(n[c].x,o+15+1+a,n[c].y),e.add(A);const f=new Vh.Group,C=new Vh.Group,b=new Vh.CylinderGeometry(.2,.2,20,30),y=new Vh.CylinderGeometry(.4,.4,50,30),w=new Vh.Mesh(b,p);w.position.set(n[c].x,o+10+1+a+r,n[c].y);const v=new Vh.Mesh(y,d);v.position.set(n[c].x,o+10+1+a+r,n[c].y);const S=new Vh.SphereGeometry(.2,50,30,0,2*Math.PI,0,Math.PI/2),T=new Vh.Mesh(S,h);T.position.set(n[c].x,o+1+a+r+20,n[c].y),f.add(w),f.add(T),f.translateX(-1.5),e.add(f),C.add(v),C.add(T.clone()),C.translateX(1.5),e.add(C);const P=new Zh.M("LoRa",{font:this.gatewayFont,size:5,height:.1,curveSegments:5});P.computeBoundingBox();let I=[new Vh.MeshPhongMaterial({color:255,flatShading:!0}),new Vh.MeshPhongMaterial({color:16777215})],j=new Vh.Mesh(P,I);j.position.x=n[c].x-3,j.position.y=o+15+1+a+0,j.position.z=n[c].y+2.5,j.scale.set(.4,1,1),e.add(j);let R=j.clone();R.rotation.y=Math.PI,R.position.x=n[c].x+3,R.position.y=o+15+1+a+0,R.position.z=n[c].y-2.5,e.add(R),this.setFloorplanItemShadow(e),e.scale.set(this.scaleFactor,1,this.scaleFactor),e.name=n[c].baseStationOptions.gtw_id,s.push(e),t.add(e)}},this.drawFloorTables=(t,e,i,s)=>{const n=i*this.wallHeight,o=70,a=140,r=new Vh.MeshPhongMaterial({color:11383485}),l=new Vh.MeshPhongMaterial({color:12632256}),h=new Vh.MeshPhongMaterial({color:11725567,opacity:.2,transparent:!0}),p=new Vh.MeshPhongMaterial({color:16777215});for(let d=0;d<e.length;d++){const c=new Vh.Group,m=new Vh.BoxGeometry(50,o,a),u=new Vh.Mesh(m,r);u.position.set(e[d].x,n+35,e[d].y),c.add(u);const g=new Vh.BoxGeometry(25,1,15),x=new Vh.Mesh(g,p);x.position.set(e[d].x,n+o,e[d].y-40),x.rotation.set(0,Math.PI/6,0),c.add(x);const A=new Vh.Mesh(g,new Vh.MeshPhongMaterial({color:16769714}));A.position.set(e[d].x,n+o,e[d].y-20),c.add(A);const f=new Vh.BoxGeometry(1,50,15),C=new Vh.Mesh(f,new Vh.MeshPhongMaterial({color:16728899}));C.position.set(e[d].x-25,n+o-30,e[d].y-30),c.add(C);const b=new Vh.Mesh(f,new Vh.MeshPhongMaterial({color:16777215}));b.position.set(e[d].x-25,n+o-30,e[d].y),c.add(b);const y=new Vh.Mesh(f,new Vh.MeshPhongMaterial({color:4424447}));y.position.set(e[d].x-25,n+o-30,e[d].y+30),c.add(y);const w=new Vh.BoxGeometry(5,180,5),v=new Vh.Mesh(w,l);v.position.set(e[d].x,n+90,e[d].y);const S=v.clone();v.translateZ(-67.4),S.translateZ(67.4),c.add(v),c.add(S);const T=new Vh.BoxGeometry(8,a,80),P=new Vh.Mesh(T,r);P.position.set(e[d].x,n+4+o+180-40,e[d].y),P.rotation.set(Math.PI/2,0,0),c.add(P);const I=new Vh.BoxGeometry(200,1,200),j=new Vh.Mesh(I,h);j.position.set(e[d].x,n,e[d].y),c.add(j),this.setFloorplanItemShadow(c),c.scale.set(this.scaleFactor,1,this.scaleFactor),c.floorNumber=i,s.push(c),t.add(c)}},this.drawFloorplan=t=>{this.drawFloorplanFloorsTables(t),this.drawFloorplanRoomFloors(t);let e=!1,i=!1,s=!1;for(let l=0;l<this.floorplanFloors.length;l++){for(let t=0;t<this.floorplanFloors[l].wallData.length;t++)this.floorplanWallMaterials.find((e=>e.name===this.floorplanFloors[l].wallData[t].material))||this.floorplanWallMaterials.push({name:this.floorplanFloors[l].wallData[t].material,materialTexture:null});if(e||(e=this.floorplanFloors[l].objData.filter((t=>"doorWindow"===t.class&&"simple"===t.type)).length>0),i||(i=this.floorplanFloors[l].objData.filter((t=>"doorWindow"===t.class&&"fix"===t.type)).length>0),this.props.isHeatmap&&!s){s=!!this.floorsHeatmapOptionsBindings.find((t=>t.floorNumber===this.floorplanFloors[l].floorNumber)).floorHeatmapOptions.find((t=>this.getHeatmapOptionGateways(t.heatmapOptionIndex).length>0))}}const n=this.floorplanWallMaterials.find((t=>!t.materialTexture)),o=e&&!this.doorObject3D,a=i&&!this.windowObject3D,r=s&&!this.gatewayFont;if(n)for(let l=0;l<this.floorplanWallMaterials.length;l++){let e=this.loadingCallbacksStatuses.length;this.loadingCallbacksStatuses.push(!1);let i=this.loadingWallMaterialsStatuses.length;this.loadingWallMaterialsStatuses.push(!1),this.textureLoader.load(this.props.wallMaterials.find((t=>t.title===this.floorplanWallMaterials[l].name)).href,(s=>{this.loadingCallbacksStatuses[e]=!0,this.floorplanWallMaterials[l].materialTexture=s,this.loadingWallMaterialsStatuses[i]=!0;const n=ke(this.loadingWallMaterialsStatuses);n&&this.drawFloorplanFloorsWalls(t),n&&ke(this.loadingWallObjectsStatuses)&&this.drawFloorplanFloorsWallObjects(),this.isInitialLoadingFinished()}),null,(t=>{Fp.error("Error while loading wall texture materials"),Fp.error(t)}))}if(o){let t=this.loadingCallbacksStatuses.length;this.loadingCallbacksStatuses.push(!1);let e=this.loadingWallObjectsStatuses.length;this.loadingWallObjectsStatuses.push(!1),this.gltfLoader.load("/items3D/door.glb",(i=>{this.loadingCallbacksStatuses[t]=!0,this.loadingWallObjectsStatuses[e]=!0;let s=i.scene;this.setFloorplanItemShadow(s);const n=new Vh.Vector3;(new Vh.Box3).setFromObject(s).getSize(n),this.doorObject3D={object:s,sizeVector:n},ke(this.loadingWallMaterialsStatuses)&&ke(this.loadingWallObjectsStatuses)&&this.drawFloorplanFloorsWallObjects(),this.isInitialLoadingFinished()}))}if(a){let t=this.loadingCallbacksStatuses.length;this.loadingCallbacksStatuses.push(!1);let e=this.loadingWallObjectsStatuses.length;this.loadingWallObjectsStatuses.push(!1),this.gltfLoader.load("/items3D/window.glb",(i=>{this.loadingCallbacksStatuses[t]=!0,this.loadingWallObjectsStatuses[e]=!0;let s=i.scene;this.setFloorplanItemShadow(s);const n=new Vh.Vector3;(new Vh.Box3).setFromObject(s).getSize(n),this.windowObject3D={object:s,sizeVector:n},ke(this.loadingWallMaterialsStatuses)&&ke(this.loadingWallObjectsStatuses)&&this.drawFloorplanFloorsWallObjects(),this.isInitialLoadingFinished()}))}if(r){let e=this.loadingCallbacksStatuses.length;this.loadingCallbacksStatuses.push(!1),this.fontLoader.load("https://cdn.jsdelivr.net/gh/mrdoob/three.js@master/examples/fonts/droid/droid_sans_regular.typeface.json",(i=>{this.gatewayFont=i,this.loadingCallbacksStatuses[e]=!0,this.drawFloorplanFloorsGateways(t),this.isInitialLoadingFinished()}))}n||this.drawFloorplanFloorsWalls(t),o||a||this.drawFloorplanFloorsWallObjects(),r||this.drawFloorplanFloorsGateways(t)},this.drawFloorplanFloorsWalls=t=>{this.currentWalls3D=[];for(let e=0;e<this.floorplanFloors.length;e++)this.props.isHeatmap&&null===this.floorplanFloors[e].heatmapOptionIndex||this.drawFloorWalls(t,this.floorplanFloors[e].wallData,this.floorplanFloors[e].floorNumber,this.currentWalls3D)},this.drawFloorplanFloorsGateways=t=>{this.currentGateways=[];for(let e=0;e<this.floorplanFloors.length;e++)this.props.isHeatmap&&null!==this.floorplanFloors[e].heatmapOptionIndex&&this.drawFloorGateways(t,this.floorplanFloors[e].heatmapOptionIndex,this.floorplanFloors[e].floorNumber,this.currentGateways)},this.drawFloorplanFloorsTables=t=>{this.currentTables=[];for(let e=0;e<this.floorplanFloors.length;e++)this.props.isHeatmap&&null===this.floorplanFloors[e].heatmapOptionIndex||this.drawFloorTables(t,this.floorplanFloors[e].objData.filter((t=>"table"===t.type)),this.floorplanFloors[e].floorNumber,this.currentTables)},this.drawFloorplanFloorsWallObjects=()=>{for(let t=0;t<this.currentWalls3D.length;t++)this.currentWalls3D[t].drawWallObjects()},this.drawFloorWalls=function(e,i,s,n){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];for(let a=0;a<i.length;a++){const r=new $h(t,Vh,e,i[a],t.props.editor.objFromWall(i[a]),s);o&&r.drawWallObjects(),n.push(r)}100!==t.wallsOpacityRef.current.getWallsOpacityValue()&&t.changeWallMaterialOpacity(n,t.wallsOpacityRef.current.getWallsOpacityValue()),!t.wallsVisibilityOptionsRef.current.getShowWallSwitchState()&&t.wallsVisibilityOptionsRef.current.hideFloorplanWalls(n),t.wallsVisibilityOptionsRef.current.getFrontWallsSwitchState()&&t.wallsVisibilityOptionsRef.current.showFrontFloorplanWalls(n)},this.drawFloorplanRoomFloors=t=>{if(!this.props.isHeatmap){this.currentRoomFloors=[];for(let e=0;e<this.floorplanFloors.length;e++)this.drawFloorRoomFloors(t,this.floorplanFloors[e],!1,this.currentRoomFloors)}},this.drawFloorRoomFloors=(t,e,i,s)=>{for(let n=0;n<e.roomData.length;n++){let o=[];for(let t=0;t<e.roomData[n].coordsInsideWithOrphans.length;t++)o.push(new Vh.Vector2(e.roomData[n].coordsInsideWithOrphans[t].x,e.roomData[n].coordsInsideWithOrphans[t].y).multiplyScalar(this.scaleFactor));let a=new Vh.Shape(o),r=new Vh.ShapeGeometry(a),l=new Vh.MeshPhongMaterial({side:Vh.BackSide,color:15658734}),h=new Vh.Mesh(r,l);h.rotation.set(Math.PI/2,0,0),i||(h.translateZ(-e.floorNumber*this.wallHeight),s.push(h)),h.receiveShadow=!0,h.castShadow=!1,h.name="Room floor",h.floorNumber=e.floorNumber,t.add(h)}},this.removeFloorplanFloor=t=>{this.removeFloorplanFloorItems(this.floorplan3DViewScene,t,this.floorplanViewWalls3D,this.floorplanViewRoomFloors,this.floorplanViewTables),this.showMapLayer3DInputRef.current.getCheckedStatus()?this.removeFloorplanFloorItems(this.floorplan3DOnMapScene,t,this.currentWalls3D,this.currentRoomFloors,this.currentTables):this.setCurrentFromFloorplanArrays()},this.removeFloorplanFloorItems=(t,e,i,s,n)=>{i=i.filter((t=>t.floorNumber!==e||(t.removeWall(),!1))),s=s.filter((i=>i.floorNumber!==e||(t.remove(i),!1))),n=n.filter((i=>i.floorNumber!==e||(t.remove(i),!1)))},this.addFloorplanFloor=t=>{this.addFloorplanFloorItems(this.floorplan3DViewScene,t,this.floorplanViewWalls3D,this.floorplanViewRoomFloors,this.floorplanViewTables),this.showMapLayer3DInputRef.current.getCheckedStatus()?this.addFloorplanFloorItems(this.floorplan3DOnMapScene,t,this.currentWalls3D,this.currentRoomFloors,this.currentTables):this.setCurrentFromFloorplanArrays()},this.addFloorplanFloorItems=(t,e,i,s,n)=>{this.drawFloorWalls(t,e.wallData,e.floorNumber,i,!0),this.drawFloorTables(t,e.objData.filter((t=>"table"===t.type)),e.floorNumber,n),!this.props.isHeatmap&&this.drawFloorRoomFloors(t,e,!1,s)},this.setCurrentFromFloorplanArrays=()=>{this.currentWalls3D=[...this.floorplanViewWalls3D],this.currentRoomFloors=[...this.floorplanViewRoomFloors],this.currentTables=[...this.floorplanViewTables]},this.backTo2D=()=>{vt(this.props.container,this.props.othersTimeout,(()=>{window.addEventListener("keydown",this.props.handleKeyDown2D,{capture:!0}),n.unmountComponentAtNode(this.props.container)}),!1)},this.changeWallMaterialOpacity=(t,e)=>{const i=e/100,s=100!==e;this.wallTopPlaneMaterial.opacity=i,this.wallTopPlaneMaterial.transparent=s,this.wallTopPlaneMaterial.needsUpdate=!0,this.wallStartEndPlanesMaterial.opacity=i,this.wallStartEndPlanesMaterial.transparent=s,this.wallStartEndPlanesMaterial.needsUpdate=!0;for(let n=0;n<t.length;n++)t[n].variableVisiblityPlanes.length>0&&(t[n].variableVisiblityPlanes[0].material.opacity=i,t[n].variableVisiblityPlanes[0].material.transparent=s,t[n].variableVisiblityPlanes[0].material.needsUpdate=!0,t[n].variableVisiblityPlanes[1].material.opacity=i,t[n].variableVisiblityPlanes[1].material.transparent=s,t[n].variableVisiblityPlanes[1].material.needsUpdate=!0);if(this.props.isHeatmap){const t=this.heatmapTypes.find((t=>"heatmapBars"===t.name)).object;if(t)for(let e=0;e<t.children.length;e++)for(let i=0;i<t.children[e].children.length;i++)t.children[e].children[i].material.transparent=!s,t.children[e].children[i].material.opacity=s?1:.7,t.children[e].children[i].material.needsUpdate=!0}},this.show3DFloorplanOnMap=function(e){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t._map=e,e.setMaxZoom(22);const s=[t.props.mainComponentThis.floorplanGeneral.gps_longitude,t.props.mainComponentThis.floorplanGeneral.gps_latitude],n=t.props.mainComponentThis.floorplanGeneral.floorplan_bearing||0,o=[Math.PI/2,0,0],a=qh().MercatorCoordinate.fromLngLat(s,0),r={translateX:a.x,translateY:a.y,translateZ:a.z,rotateX:o[0],rotateY:o[1],rotateZ:o[2],scale:a.meterInMercatorCoordinateUnits()/(t.scaleFactor*t.props.mainComponentThis.meter)},l=t,h={id:"floorplan-3d-model",type:"custom",renderingMode:"3d",onAdd:function(t,e){this.showFloorplan3DOnMapCamera=new Vh.PerspectiveCamera(45,l.canvasRef.current.offsetWidth/l.canvasRef.current.offsetHeight,1,5e4),l.floorplan3DOnMapCamera=this.showFloorplan3DOnMapCamera,l.floorplan3DOnMapCameraPosition=this.showFloorplan3DOnMapCamera.position.clone(),this.showFloorplan3DOnMapScene=new Vh.Scene,l.floorplan3DOnMapScene=this.showFloorplan3DOnMapScene,this.map=t,this.showFloorplan3DOnMapCameraRenderer=new Vh.WebGLRenderer({canvas:t.getCanvas(),context:e,antialias:!0,preserveDrawingBuffer:!0}),l.floorplan3DOnMapCameraRenderer=this.showFloorplan3DOnMapCameraRenderer,this.showFloorplan3DOnMapCameraRenderer.setClearColor(16777215,1),this.showFloorplan3DOnMapCameraRenderer.setPixelRatio(window.devicePixelRatio),this.showFloorplan3DOnMapCameraRenderer.setSize(l.canvasRef.current.offsetWidth,l.canvasRef.current.offsetHeight),this.showFloorplan3DOnMapCameraRenderer.autoClear=!1,this.showFloorplan3DOnMapCameraRenderer.shadowMap.enabled=!0,this.showFloorplan3DOnMapCameraRenderer.shadowMap.type=Vh.PCFSoftShadowMap;const s=new Vh.Vector3(l.floorplanCenterVector.x,l.floorplanCenterVector.y,l.floorplanCenterVector.z);l.createLights(this.showFloorplan3DOnMapScene,s.clone().add(new Vh.Vector3(0,l.YZDistanceFromFloorplanCenter,l.YZDistanceFromFloorplanCenter)),s,new Vh.Vector3(0,0,0)),l.drawFloorplan(this.showFloorplan3DOnMapScene),l.props.isHeatmap&&this.showFloorplan3DOnMapScene.add(l.heatmapTypes.find((t=>t.name==="heatmap".concat(l.heatmapDisplayOptionsRef.current.getHeatmapSelectedType()))).object.clone());const o=new Vh.Vector3(l.props.boxWallCoordinates.minX,0,l.props.boxWallCoordinates.minY).multiplyScalar(l.scaleFactor);this.showFloorplan3DOnMapScene.translateX(-o.x),this.showFloorplan3DOnMapScene.translateZ(-o.z),l.rotateAroundPoint(this.showFloorplan3DOnMapScene,new Vh.Vector3(0,0,0),new Vh.Vector3(0,1,0),-n*(Math.PI/180),!1),i&&Xt(t,Ut(l.props.mainComponentThis.floorplanGeneral.gps_latitude,l.props.mainComponentThis.floorplanGeneral.gps_longitude,l.props.boxWallCoordinates.width/l.props.mainComponentThis.meter,l.props.boxWallCoordinates.height/l.props.mainComponentThis.meter,n),n,20)},render:function(t,e){const i=(new Vh.Matrix4).makeRotationAxis(new Vh.Vector3(1,0,0),r.rotateX),s=(new Vh.Matrix4).makeRotationAxis(new Vh.Vector3(0,1,0),r.rotateY),n=(new Vh.Matrix4).makeRotationAxis(new Vh.Vector3(0,0,1),r.rotateZ),o=(new Vh.Matrix4).fromArray(e),a=(new Vh.Matrix4).makeTranslation(r.translateX,r.translateY,r.translateZ).scale(new Vh.Vector3(r.scale,-r.scale,r.scale)).multiply(i).multiply(s).multiply(n);this.showFloorplan3DOnMapCamera.projectionMatrix=o.multiply(a);const h=(new Vh.Vector3).applyMatrix4(this.showFloorplan3DOnMapCamera.projectionMatrix.clone().invert());h.equals(l.floorplan3DOnMapCameraPosition)||(l.floorplan3DOnMapCameraPosition.copy(h),l.onCameraMoved()),this.showFloorplan3DOnMapCameraRenderer.resetState(),this.showFloorplan3DOnMapCameraRenderer.render(this.showFloorplan3DOnMapScene,this.showFloorplan3DOnMapCamera),this.map.triggerRepaint()}};e.getStyle().layers.find((t=>"waterway-label"===t.id))?e.addLayer(h,"waterway-label"):e.addLayer(h)},this.onShowOnMapLayer3DClick=()=>{this.showMapLayer3DInputRef.current.getCheckedStatus()?(this.mapLayer3DContainerRef.current.classList.remove("active"),this.showMapLayer3DInputRef.current.setCheckedStatus(!1,this.onCameraMoved),this.setCurrentFromFloorplanArrays(),this.currentGateways=[...this.floorplanViewGateways],n.unmountComponentAtNode(this.mapLayer3DContainerRef.current)):b.get.call(this,"/plans?planId=".concat(this.props.mainComponentThis.getFloorplanID()),(t=>{t&&t.length>0?R(t[0].plan_general.gps_latitude)&&R(t[0].plan_general.gps_longitude)?(this.mapLayer3DContainerRef.current.classList.remove("active"),this.showMapLayer3DInputRef.current.setCheckedStatus(!1),this.props.mainComponentThis.onFloorplanGpsCoordsClick()):(this.mapLayer3DContainerRef.current.classList.add("active"),this.props.mainComponentThis.floorplanGeneral=t[0].plan_general,this.showMapLayer3DInputRef.current.setCheckedStatus(!0),n.render((0,u.jsx)(Dp,{is3D:!0,isHeatmap:this.props.mainComponentThis.props.isHeatmap,heatmapVersion:this.props.mainComponentThis.props.isHeatmap?this.props.mainComponentThis.heatmapGeneral?this.props.mainComponentThis.heatmapGeneral.version:"1.1":null,center:[t[0].plan_general.gps_longitude,t[0].plan_general.gps_latitude],floorplanGpsCoords:[t[0].plan_general.gps_longitude,t[0].plan_general.gps_latitude],onMapContextLoadedCallback:this.show3DFloorplanOnMap,heatmapGateways:this.props.mainComponentThis.getGatewaysData(),preserveDrawingBuffer:!0,mainComponentThis:this.props.mainComponentThis}),this.mapLayer3DContainerRef.current)):(this.mapLayer3DContainerRef.current.classList.remove("active"),this.showMapLayer3DInputRef.current.setCheckedStatus(!1),this.boxInfo.current.innerHTML="There is no floorplan with specified id")}))},this.heatmapRedrawOnFloorHeatmapOptionChange=async(t,e)=>{let i=[];for(let n=0;n<this.floorsHeatmapOptionsBindings.length;n++){const t=this.floorsHeatmapOptionsBindings[n].floorHeatmapOptions.find((t=>!0===t.checked)),s=e[n].floorHeatmapOptions.find((t=>!0===t.checked));if((t||s)&&(t&&t.heatmapOptionIndex)!==(s&&s.heatmapOptionIndex)){this.floorplanFloors[n].heatmapOptionIndex=s?s.heatmapOptionIndex:null;const e="Floor ".concat(this.floorsHeatmapOptionsBindings[n].floorNumber);if(s){const o=this.heatmapTypes.find((t=>"heatmap2D"===t.name));o.object.getObjectByName(e)?this.removeFloorHeatmapObjects(e,t.heatmapOptionIndex):this.addFloorplanFloor(this.floorplanFloors[n]),i.push((()=>this.drawFloorHeatmap2D(o.object,s.heatmapOptionIndex,this.floorsHeatmapOptionsBindings[n].floorNumber,(()=>{this.addFloorHeatmapObjectOnMap(o,e),this.heatmapTypes.filter((t=>"heatmap2D"!==t.name)).forEach((t=>{const i=t.object;i&&("heatmap3D"===t.name?this.drawFloorHeatmap3D(i,this.floorsHeatmapOptionsBindings[n].floorNumber):this.drawFloorHeatmapBars(i,s.heatmapOptionIndex,this.floorsHeatmapOptionsBindings[n].floorNumber),this.addFloorHeatmapObjectOnMap(t,e))})),this.drawFloorGateways(this.floorplan3DViewScene,s.heatmapOptionIndex,this.floorsHeatmapOptionsBindings[n].floorNumber,this.floorplanViewGateways),this.showMapLayer3DInputRef.current.getCheckedStatus()?this.drawFloorGateways(this.floorplan3DOnMapScene,s.heatmapOptionIndex,this.floorsHeatmapOptionsBindings[n].floorNumber,this.currentGateways):this.currentGateways=[...this.floorplanViewGateways]}))))}else this.removeFloorplanFloor(this.floorsHeatmapOptionsBindings[n].floorNumber),this.removeFloorHeatmapObjects(e,t.heatmapOptionIndex)}}try{for(let t of i)await t();this.props.mainComponentThis.heatmapGeneral=t,this.floorsHeatmapOptionsBindings=e,this.adjustCameraYPosition(this.floorplan3DViewCamera),n.unmountComponentAtNode(this.props.loadingComponentContainer)}catch(s){wt(this.props.mainComponentThis.generateHeatmapErrorModal.current,this.props.mainComponentThis.modalTimeout),n.unmountComponentAtNode(this.props.loadingComponentContainer)}},this.addFloorHeatmapObjectOnMap=(t,e)=>{if(this.showMapLayer3DInputRef.current.getCheckedStatus()){const i=this.floorplan3DOnMapScene.getObjectByName(t.name);i&&i.add(t.object.getObjectByName(e).clone())}},this.removeFloorHeatmapObjects=(t,e)=>{for(let s=0;s<this.heatmapTypes.length;s++){const e=this.heatmapTypes[s].object;if(e&&(e.remove(e.getObjectByName(t)),this.showMapLayer3DInputRef.current.getCheckedStatus())){const e=this.floorplan3DOnMapScene.getObjectByName(this.heatmapTypes[s].name);e&&e.remove(e.getObjectByName(t))}}const i=this.getHeatmapOptionGateways(e);for(let s=0;s<i.length;s++)this.floorplanViewGateways.splice(this.floorplanViewGateways.findIndex((t=>t.name===i[s].baseStationOptions.gtw_id)),1),this.floorplan3DViewScene.remove(this.floorplan3DViewScene.getObjectByName(i[s].baseStationOptions.gtw_id)),this.showMapLayer3DInputRef.current.getCheckedStatus()&&(this.currentGateways.splice(this.currentGateways.findIndex((t=>t.name===i[s].baseStationOptions.gtw_id)),1),this.floorplan3DOnMapScene.remove(this.floorplan3DOnMapScene.getObjectByName(i[s].baseStationOptions.gtw_id)));this.showMapLayer3DInputRef.current.getCheckedStatus()||(this.currentGateways=[...this.floorplanViewGateways])},this.getFloorplanHeatmapObjectsForHeatmap3DBarsRoomFloors=()=>{let t=this.heatmapTypes.filter((t=>"heatmap3D"===t.name||"heatmapBars"===t.name)).map((t=>t.object));return this.showMapLayer3DInputRef.current.getCheckedStatus()&&(t.push(this.floorplan3DOnMapScene.getObjectByName("heatmap3D")),t.push(this.floorplan3DOnMapScene.getObjectByName("heatmapBars"))),t},this.drawHeatmap3DBarsFloors=()=>{this.getFloorplanHeatmapObjectsForHeatmap3DBarsRoomFloors().forEach((t=>{if(t)for(let e=0;e<t.children.length;e++)this.drawFloorRoomFloors(t.children[e],this.floorplanFloors.find((i=>i.floorNumber===parseInt(t.children[e].name.split(" ")[1]))),!0)}))},this.removeHeatmap3DBarsFloors=()=>{this.getFloorplanHeatmapObjectsForHeatmap3DBarsRoomFloors().forEach((t=>{if(t)for(let e=0;e<t.children.length;e++){const i=t.children[e].getObjectsByProperty("name","Room floor");for(let s=0;s<i.length;s++)t.children[e].remove(i[s])}}))},this.checkCurrentHeatmapOptionOnFloor=t=>{const e=ue(t[this.props.mainComponentThis.currentHeatmapOptionIndex]);this.floorsHeatmapOptionsBindings.find((t=>t.floorNumber===e)).floorHeatmapOptions.forEach((t=>{t.heatmapOptionIndex===this.props.mainComponentThis.currentHeatmapOptionIndex?t.checked=!0:t.checked=!1}))},this.state={floorHeatmapOptionsBindingLoading:!0},this.canvasRef=s.createRef(),this.panel=s.createRef(),this.panelControl=s.createRef(),this.panelInfoExplanationBox=s.createRef(),this.heightFactorRef=s.createRef(),this.heatmapDisplayOptionsRef=s.createRef(),this.wallsOpacityRef=s.createRef(),this.mapLayer3DContainerRef=s.createRef(),this.showMapLayer3DInputRef=s.createRef(),this.wallsVisibilityOptionsRef=s.createRef(),this.heatmap3DBarsShowFloorRef=s.createRef(),this.timeIntervalBetweenFrames=50,this.floorsHeatmapOptionsBindings=null,this.floorplan3DViewRenderer=null,this.floorplan3DViewCamera=null,this.YZDistanceFromFloorplanCenter=null,this.floorplan3DViewScene=null,this.controls=null,this.exportPngResolutionScale=4,this.wallHeight=250,this.doorHeight=180,this.windowHeight=100,this.isPointOnWallDecimalPrecision=8,this.scaleFactor=3,this.panelWidth=220,this.cameraYOffset=150,this.floorplanBoundingBoxCoordinates=null,this.floorplanCenterVector=null,this.defaultHeatmapType="2D",this.wallStartEndPlanesColor=13421772,this.wallTopBottomPlanesColor=14540253,this.wallStartEndPlanesMaterial=null,this.wallBottomPlaneMaterial=null,this.wallTopPlaneMaterial=null,this.textureLoader=new Vh.TextureLoader,this.objLoader=new Uh.L,this.materialLoader=new Jh.v,this.gltfLoader=new Yh.E,this.fontLoader=new Xh.J,this.mounted=!1,this.floorplanWallMaterials=[],this.loadingWallMaterialsStatuses=[],this.loadingCallbacksStatuses=[],this.loadingWallObjectsStatuses=[],this.floorplanViewWalls3D=[],this.currentWalls3D=[],this.floorplanViewRoomFloors=[],this.currentRoomFloors=[],this.floorplanViewGateways=[],this.currentGateways=[],this.floorplanViewTables=[],this.currentTables=[],this.gatewayFont=null,this.doorObject3D=null,this.windowObject3D=null,this.floorplan3DOnMapScene=null,this.floorplan3DOnMapCameraPosition=null,this.floorplan3DOnMapCamera=null,this.floorplan3DOnMapCameraRenderer=null,this._map=null,this.floorplanFloors=[],this.wallStartEndPlanesMaterial=new Vh.MeshBasicMaterial({color:this.wallStartEndPlanesColor,side:Vh.DoubleSide}),this.wallBottomPlaneMaterial=new Vh.MeshBasicMaterial({color:this.wallTopBottomPlanesColor,side:Vh.BackSide}),this.wallTopPlaneMaterial=new Vh.MeshBasicMaterial({color:this.wallTopBottomPlanesColor,side:Vh.DoubleSide}),this.heatmapTypes=[{name:"heatmap2D",drawingMethod:this.drawFloorplanFloorsHeatmap2D},{name:"heatmap3D",drawingMethod:this.drawFloorplanFloorsHeatmap3D},{name:"heatmapBars",drawingMethod:this.drawFloorplanFloorsHeatmapBars}],this.heatmap3DVertexShader="\n      uniform sampler2D heatmap;\n      uniform float heightFactor;\n      varying vec2 vertexUV;\n      varying float heightValue;\n      void main() {\n        vertexUV = uv;\n        vec3 pos = position;\n        //KOD CRTANJA HEATMAPE KORISTIMO CANVAS ZA MIJE\u0160ANJE VRIJEDNOSTI OPACITY-A HEATMAPE PREMA KOJEM SE KASNIJE ODREDUJE POZICIJA U PALETI BOJE I R,G,B VRIJEDNOSTI\n        //VE\u0106I OPACITY -> BLI\u017dE SMO CRVENOJ BOJI)(JER JE TAKO POSTAVLJEN LINERANI GRADIJENT PALETE, CRVENA JE NA KRAJU) -> JA\u010cI SIGNAL -> VE\u0106A VISINA\n        //SVE r,g,b I alpha(a) VRIJEDNOSTI SU NORMALIZIRANE U RASPONU [0-1]\n        //OPACITY PIKSELA S HEATMAPE DEFINIRA ZAPRAVO ISTOVREMENO NJEGOVU BOJU PA TIME I VISINU\n        //PIKSELI HEATMAPE KOJI NISU ISCRTANI IMAJU OPACITY 0 PA \u0106E TIME IMAT VISINU 0 A I OPACITY 0 KASNIJE U FRAGMENT SHADERU\n        //KOD WebGl 2.0. POSTOJI texture() METODA\n        //PROBLEM -> MAPBOX KORISTI 1.0 U KOJEM TA METODA SHADERA NIJE PODRZANA PA ZA NJEGA KORISTIMO texture2D() KOJA JE PODRZANA I ZA 2.0\n        heightValue = texture2D(heatmap, vertexUV).a;\n        pos.y = heightValue * heightFactor;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(pos,1.0);\n      }\n    ",this.heatmap3DFragmentShader="\n      varying float heightValue;\n      //PROBLEMI U GLSL SA sampler1D JAVLJA ERRORE -> DOBIJEMO 1D SA 2D TAKO DA PO Y OSI POSTAVIMO 1 JER IMAMO SAMO 1 PIKSEL VERTIKALNO\n      uniform sampler2D colorPalette;\n      vec3 heatmapGradient2(float t) {\n        //UZMI VRIJEDNOST SA 1D CANVASA, t JE NORMALIZIRAN NA [0-1] PA GA NE TREBA PREBACIVAT, SAMPLER OCEKUJE UV KOORDINATE KOJE MORAJU BIT U RASPONU [0-1]\n        //KOD WebGl 2.0. POSTOJI texture() METODA\n        //PROBLEM -> MAPBOX KORISTI 1.0 U KOJEM TA METODA SHADERA NIJE PODRZANA PA ZA NJEGA KORISTIMO texture2D() KOJA JE PODRZANA I ZA 2.0\n        vec4 color = texture2D(colorPalette, vec2(t, 1));\n        //VRATI r,g,b OPACITY SE ODRE\u0110UJE U main() FUNKCIJI\n        vec3 colorRGB = vec3(color.r, color.g, color.b);\n        return colorRGB;\n      }\n      void main() {\n        //TO\u010cKE KOJE IMAJU NISKI hValue IMAT \u0106E v BLIZU 1 A OPACITY PRIBLI\u017dNO 0 \u2192 NISKE TO\u010cKE NE\u0106E UOP\u0106E BIT PRIKAZANE NA HEATMAPI\n        float v = abs(heightValue - 1.);\n        gl_FragColor = vec4(heatmapGradient2(heightValue), 1. - v * v) ;\n      }\n    ",this.backTo2D=this.backTo2D.bind(this),this.floorplan3DViewAnimate=this.floorplan3DViewAnimate.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.createLights=this.createLights.bind(this),this.centerCamera=this.centerCamera.bind(this),this.drawFloorplan=this.drawFloorplan.bind(this),this.onInitialFloorplanDrawingFinishedCallback=this.onInitialFloorplanDrawingFinishedCallback.bind(this),this.drawFloorplanFloorsWalls=this.drawFloorplanFloorsWalls.bind(this),this.drawFloorplanFloorsTables=this.drawFloorplanFloorsTables.bind(this),this.drawFloorplanFloorsGateways=this.drawFloorplanFloorsGateways.bind(this),this.drawFloorplanRoomFloors=this.drawFloorplanRoomFloors.bind(this),this.drawFloorRoomFloors=this.drawFloorRoomFloors.bind(this),this.drawFloorWalls=this.drawFloorWalls.bind(this),this.drawFloorplanFloorsWallObjects=this.drawFloorplanFloorsWallObjects.bind(this),this.drawFloorTables=this.drawFloorTables.bind(this),this.drawFloorGateways=this.drawFloorGateways.bind(this),this.loadObjMtlWindowObject=this.loadObjMtlWindowObject.bind(this),this.drawFloorplanWallObjMtlItems=this.drawFloorplanWallObjMtlItems.bind(this),this.calculateDistance3D=this.calculateDistance3D.bind(this),this.calculatePlaneGeometryUVMappings=this.calculatePlaneGeometryUVMappings.bind(this),this.calculateAngleBetween2DVectors=this.calculateAngleBetween2DVectors.bind(this),this.drawFloorplanFloorsHeatmap2D=this.drawFloorplanFloorsHeatmap2D.bind(this),this.drawFloorHeatmap2D=this.drawFloorHeatmap2D.bind(this),this.drawFloorplanFloorsHeatmap3D=this.drawFloorplanFloorsHeatmap3D.bind(this),this.drawFloorHeatmap3D=this.drawFloorHeatmap3D.bind(this),this.drawFloorplanFloorsHeatmapBars=this.drawFloorplanFloorsHeatmapBars.bind(this),this.drawFloorHeatmapBars=this.drawFloorHeatmapBars.bind(this),this.heatmapHeightFactorRedraw=this.heatmapHeightFactorRedraw.bind(this),this.isInitialLoadingFinished=this.isInitialLoadingFinished.bind(this),this.rotateAroundPoint=this.rotateAroundPoint.bind(this),this.translateObjectInWorld=this.translateObjectInWorld.bind(this),this.createMeshFromObject=this.createMeshFromObject.bind(this),this.onCameraMoved=this.onCameraMoved.bind(this),this.setFloorplanItemShadow=this.setFloorplanItemShadow.bind(this),this.onPanelControlClick=this.onPanelControlClick.bind(this),this.onExportPngClick=this.onExportPngClick.bind(this),this.changeWallMaterialOpacity=this.changeWallMaterialOpacity.bind(this),this.show3DFloorplanOnMap=this.show3DFloorplanOnMap.bind(this),this.onShowOnMapLayer3DClick=this.onShowOnMapLayer3DClick.bind(this),this.heatmapRedrawOnFloorHeatmapOptionChange=this.heatmapRedrawOnFloorHeatmapOptionChange.bind(this),this.removeFloorHeatmapObjects=this.removeFloorHeatmapObjects.bind(this),this.removeFloorplanFloor=this.removeFloorplanFloor.bind(this),this.removeFloorplanFloorItems=this.removeFloorplanFloorItems.bind(this),this.addFloorHeatmapObjectOnMap=this.addFloorHeatmapObjectOnMap.bind(this),this.addFloorplanFloor=this.addFloorplanFloor.bind(this),this.addFloorplanFloorItems=this.addFloorplanFloorItems.bind(this),this.adjustCameraYPosition=this.adjustCameraYPosition.bind(this),this.drawHeatmap3DBarsFloors=this.drawHeatmap3DBarsFloors.bind(this),this.removeHeatmap3DBarsFloors=this.removeHeatmap3DBarsFloors.bind(this),this.getFloorplanHeatmapObjectsForHeatmap3DBarsRoomFloors=this.getFloorplanHeatmapObjectsForHeatmap3DBarsRoomFloors.bind(this),this.getHeatmapOptionGateways=this.getHeatmapOptionGateways.bind(this),this.setCurrentFromFloorplanArrays=this.setCurrentFromFloorplanArrays.bind(this),this.checkCurrentHeatmapOptionOnFloor=this.checkCurrentHeatmapOptionOnFloor.bind(this),this.hidePanel=this.hidePanel.bind(this)}componentDidMount(){if(this.mounted=!0,this.floorplan3DViewScene=new Vh.Scene,this.floorplan3DViewRenderer=new Vh.WebGLRenderer({antialias:!0,canvas:this.canvasRef.current,preserveDrawingBuffer:!0}),this.floorplan3DViewRenderer.setClearColor(16777215,1),this.floorplan3DViewRenderer.setPixelRatio(window.devicePixelRatio),this.floorplan3DViewRenderer.setSize(this.canvasRef.current.offsetWidth,this.canvasRef.current.offsetHeight),this.floorplan3DViewRenderer.autoClear=!1,this.floorplan3DViewRenderer.shadowMap.enabled=!0,this.floorplan3DViewRenderer.shadowMap.type=Vh.PCFSoftShadowMap,this.floorplan3DViewCamera=new Vh.PerspectiveCamera(45,this.floorplan3DViewRenderer.domElement.offsetWidth/this.floorplan3DViewRenderer.domElement.offsetHeight,1,5e4),this.floorplanBoundingBoxCoordinates=Tt(this.props.WALLS),this.controls=new _h(this.floorplan3DViewCamera,this.floorplan3DViewRenderer.domElement),this.centerCamera(),this.createLights(this.floorplan3DViewScene,this.floorplan3DViewCamera.position,this.floorplanCenterVector,new Vh.Vector3(0,0,0)),this.props.isHeatmap){const t=[this.props.mainComponentThis.currentRouteID];let e=this.loadingCallbacksStatuses.length;this.loadingCallbacksStatuses.push(!1),b.get.call(this,"/heatmaps?heatmapId=".concat(t[t.length-1]),(t=>{if(this.loadingCallbacksStatuses[e]=!0,t[0].heatmapgeneral.floorsHeatmapOptionsBindings){let e;this.floorsHeatmapOptionsBindings=t[0].heatmapgeneral.floorsHeatmapOptionsBindings;for(let s=0;s<t[0].heatmapoption.length;s++){const i=ue(t[0].heatmapoption[s]);(e=this.floorsHeatmapOptionsBindings.find((t=>t.floorNumber===i)))?e.floorHeatmapOptions.find((t=>t.heatmapOptionIndex===s))||e.floorHeatmapOptions.push({heatmapOptionIndex:s,checked:!1}):this.floorsHeatmapOptionsBindings.push({floorNumber:i,floorHeatmapOptions:[{heatmapOptionIndex:s,checked:!0}]})}let i=[];for(let s=0;s<this.floorsHeatmapOptionsBindings.length;s++){let e=[];for(let i=0;i<this.floorsHeatmapOptionsBindings[s].floorHeatmapOptions.length;i++)t[0].heatmapoption[this.floorsHeatmapOptionsBindings[s].floorHeatmapOptions[i].heatmapOptionIndex]&&ue(t[0].heatmapoption[this.floorsHeatmapOptionsBindings[s].floorHeatmapOptions[i].heatmapOptionIndex])===this.floorsHeatmapOptionsBindings[s].floorNumber||e.push(i);for(let t=e.length-1;t>=0;t--)this.floorsHeatmapOptionsBindings[s].floorHeatmapOptions.splice(e[t],1);0===this.floorsHeatmapOptionsBindings[s].floorHeatmapOptions.length&&i.push(s)}for(let t=i.length-1;t>=0;t--)this.floorsHeatmapOptionsBindings.splice(i[t],1)}else{let e;this.floorsHeatmapOptionsBindings=[];for(let i=0;i<t[0].heatmapoption.length;i++){const s=ue(t[0].heatmapoption[i]);(e=this.floorsHeatmapOptionsBindings.find((t=>t.floorNumber===s)))?e.floorHeatmapOptions.push({heatmapOptionIndex:i,checked:!1}):this.floorsHeatmapOptionsBindings.push({floorNumber:s,floorHeatmapOptions:[{heatmapOptionIndex:i,checked:!0}]})}this.checkCurrentHeatmapOptionOnFloor(t[0].heatmapoption)}this.floorsHeatmapOptionsBindings.sort(((t,e)=>t.floorNumber-e.floorNumber)),this.floorsHeatmapOptionsBindings.forEach((t=>t.floorHeatmapOptions.sort(((t,e)=>t.heatmapOptionIndex-e.heatmapOptionIndex)))),this.checkCurrentHeatmapOptionOnFloor(t[0].heatmapoption);for(let e=0;e<this.floorsHeatmapOptionsBindings.length;e++){const t=this.floorsHeatmapOptionsBindings[e].floorHeatmapOptions.find((t=>!0===t.checked));this.floorplanFloors.push({wallData:this.props.WALLS,objData:this.props.OBJDATA,roomData:this.props.ROOMS,floorNumber:this.floorsHeatmapOptionsBindings[e].floorNumber,heatmapOptionIndex:t?t.heatmapOptionIndex:null,heatmap2DCanvas:null,heatmapOptionRenderedPositions:null})}this.setState({floorHeatmapOptionsBindingLoading:!1}),this.adjustCameraYPosition(this.floorplan3DViewCamera),this.drawFloorplan(this.floorplan3DViewScene),this.drawFloorplanFloorsHeatmap2D(this.floorplan3DViewScene)}))}else this.floorplanFloors=[{wallData:this.props.WALLS,objData:this.props.OBJDATA,roomData:this.props.ROOMS,floorNumber:0}],this.drawFloorplan(this.floorplan3DViewScene);this.floorplan3DViewAnimate(),this.floorplan3DViewRenderer.domElement.addEventListener("cameraMoved",this.onCameraMoved)}componentWillUnmount(){this.mounted=!1}render(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("canvas",{className:"full-height",ref:this.canvasRef}),(0,u.jsx)("div",{ref:this.mapLayer3DContainerRef,className:"map-layer-container floorplan3d"}),(0,u.jsxs)(Ti.Z,{theme:Bs,children:[(0,u.jsx)("div",{ref:this.panelInfoExplanationBox,className:"panel-info-explanation-box",style:{width:"auto",maxWidth:200}}),(0,u.jsxs)(Vo,{panelRef:this.panel,panelControlRef:this.panelControl,onPanelMouseMove:null,onPanelControlClick:this.onPanelControlClick,panelWidth:this.panelWidth,children:[(0,u.jsx)("div",{className:"button-centered-container",children:(0,u.jsx)(Ue,{type:"blue",onClick:this.backTo2D,children:"Back to 2D"})}),(0,u.jsx)("br",{}),(0,u.jsx)(ep,{ref:this.wallsVisibilityOptionsRef,panelInfoExplanationBox:this.panelInfoExplanationBox,mainComponentThis:this}),(0,u.jsx)(hp,{ref:this.wallsOpacityRef,mainComponentThis:this}),this.props.isHeatmap?(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("br",{}),(0,u.jsx)("li",{children:(0,u.jsx)(np,{ref:this.heatmapDisplayOptionsRef,heightFactorComponentRef:this.heightFactorRef,heatmap3DBarsShowFloorRef:this.heatmap3DBarsShowFloorRef,heatmapTypes:this.heatmapTypes,defaultHeatmapType:"2D",mainComponentThis:this})}),(0,u.jsx)(rp,{ref:this.heightFactorRef,defaultHeatmapType:"2D",heatmapRedraw:this.heatmapHeightFactorRedraw}),(0,u.jsx)(Op,{ref:this.heatmap3DBarsShowFloorRef,defaultHeatmapType:"2D",drawHeatmapFloors:this.drawHeatmap3DBarsFloors,removeHeatmapFloors:this.removeHeatmap3DBarsFloors})]}):null,(0,u.jsx)("br",{}),(0,u.jsx)("li",{children:(0,u.jsxs)("button",{className:"btn btn-default fully panel-icon-button-container",title:"Export as PNG",onClick:this.onExportPngClick,children:[(0,u.jsx)(Ln.Z,{}),(0,u.jsx)("p",{children:"EXPORT PNG"})]})}),(0,u.jsx)("br",{}),(0,u.jsx)("li",{children:(0,u.jsx)(lr,{ref:this.showMapLayer3DInputRef,isHeatmap:this.props.mainComponentThis.isHeatmap,onChangeCallback:this.onShowOnMapLayer3DClick})}),this.props.isHeatmap&&(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("br",{}),(0,u.jsx)("li",{children:!this.state.floorHeatmapOptionsBindingLoading&&(0,u.jsx)(Np,{floorsHeatmapOptionsBindings:this.floorsHeatmapOptionsBindings,heatmapGeneral:this.props.mainComponentThis.heatmapGeneral,heatmapRedrawMethod:this.heatmapRedrawOnFloorHeatmapOptionChange,loadingComponentContainer:this.props.loadingComponentContainer,heatmapOptions:this.props.mainComponentThis.heatmapOptions,panelInfoExplanationBox:this.panelInfoExplanationBox,setResponseError:this.props.setResponseError,mainComponentThis:this.props.mainComponentThis})})]})]})]})]})}}const Hp=Wp;class Gp extends s.Component{render(){return(0,u.jsx)("svg",{fill:"#000000",viewBox:"0 0 492.589 492.589",children:(0,u.jsxs)("g",{children:[(0,u.jsx)("path",{d:"M468.467,222.168h-28.329c-9.712-89.679-80.46-161.18-169.71-172.258V24.135c0-13.338-10.791-24.134-24.134-24.134\r\nc-13.311,0-24.117,10.796-24.117,24.134V49.91C132.924,60.988,62.177,132.488,52.482,222.168H24.153\r\nC10.806,222.168,0,232.964,0,246.286c0,13.336,10.806,24.132,24.153,24.132h29.228c12.192,86.816,81.551,155.4,168.797,166.229\r\nv31.804c0,13.336,10.806,24.135,24.117,24.135c13.343,0,24.134-10.799,24.134-24.135v-31.804\r\nc87.228-10.829,156.607-79.413,168.775-166.229h29.264c13.33,0,24.122-10.796,24.122-24.132\r\nC492.589,232.964,481.797,222.168,468.467,222.168z M246.294,398.093c-85.345,0-154.804-69.453-154.804-154.813\r\nc0-85.363,69.459-154.813,154.804-154.813c85.376,0,154.823,69.45,154.823,154.813\r\nC401.117,328.639,331.671,398.093,246.294,398.093z"}),(0,u.jsx)("path",{d:"M246.294,176.93c-36.628,0-66.34,29.704-66.34,66.349c0,36.635,29.711,66.349,66.34,66.349\r\nc36.66,0,66.34-29.713,66.34-66.349C312.634,206.635,282.955,176.93,246.294,176.93z"})]})})}}const Ep=Gp;var Vp=i(1317);class zp extends s.Component{constructor(t){var e;super(t),e=this,this.addBaseStationsLayer=()=>{this.getBaseStations=!0,this._map.loadImage(Rp,((t,e)=>{t&&this.setState({error:t.message}),!this._map.hasImage("base_icon")&&this._map.addImage("base_icon",e);let i=[];for(let s=0;s<this.props.heatmapGateways.length;s++)!R(this.props.heatmapGateways[s].gtw_long)&&!R(this.props.heatmapGateways[s].gtw_lat)&&i.push({type:"Feature",properties:{description:this.props.heatmapGateways[s].name,id:this.props.heatmapGateways[s].gtw_id},geometry:{type:"Point",coordinates:[this.props.heatmapGateways[s].gtw_long,this.props.heatmapGateways[s].gtw_lat]}});this._map.addSource("base_stations",{type:"geojson",data:{type:"FeatureCollection",features:i}}),this._map.addLayer({id:"base_stations_unclustered",source:"base_stations",type:"symbol",layout:{"icon-image":"base_icon","icon-size":As[this.zoomRange],"icon-allow-overlap":!0,"icon-ignore-placement":!0,"text-allow-overlap":!0}}),this._map.on("click","base_stations_unclustered",(t=>{const e=t.features[0].geometry.coordinates.slice(),i=t.features[0].properties.description,s=t.features[0].properties.id;for(;Math.abs(t.lngLat.lng-e[0])>180;)e[0]+=t.lngLat.lng>e[0]?360:-360;this._zoom<10&&(this._zoom=10.2),this.mounted&&this.setState({tooltip:{type:"base_station",description:{id:s,name:i},popupCenter:e},mapCenter:e})}))}))},this.addFloorplanImageLayer=t=>{this.currentFloorplanImageCanvasCoordinates=this.calculateFloorplanImageCanvasCoordinatesForBearing(this.state.edit.find((t=>"bearing_angle"===t.field)).value),this._map.addSource("floorplan-image-source",{type:"canvas",canvas:this.floorplanCanvas,coordinates:this.currentFloorplanImageCanvasCoordinates,animate:!1}),this._map.addLayer({id:"floorplan-image-layer",type:"raster",source:"floorplan-image-source"}),t&&this.setState({floorplanImageLayerAdded:!0},(()=>this.focusFloorplanImageCanvas(!1)))},this.focusFloorplanImageCanvas=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!e.floorplanImageCanvasCurrentBearingPolygon||t&&!e.isStyleChangeAllowed()||e.setState({mapCenter:(0,pp.Z)(e.floorplanImageCanvasCurrentBearingPolygon).geometry.coordinates},(()=>{Xt(e._map,e.currentFloorplanImageCanvasCoordinates,Number(e.floorplanBearingSliderRef.current.value))}))},this.closeShowFloorplanOnMapModal=(t,e,i)=>{t&&this.props.mainComponentThis.showMapLayer2DInputRef.current.getCheckedStatus()&&n.unmountComponentAtNode(this.props.mainComponentThis.mapLayer2DContainerRef.current),vt(this.props.containerRef.current,200,(()=>{n.unmountComponentAtNode(this.props.containerRef.current),t&&this.props.mainComponentThis.showMapLayer2DInputRef.current.getCheckedStatus()&&n.render((0,u.jsx)(Dp,{ref:this.props.mainComponentThis.showMapLayer2D3DRef,is3D:!1,isHeatmap:this.props.isHeatmap,heatmapVersion:this.props.isHeatmap?this.props.mainComponentThis.heatmapGeneral?this.props.mainComponentThis.heatmapGeneral.version:"1.1":null,center:[16.8557,44.0462],floorplanGpsCoords:[e,i],onMapContextLoadedCallback:this.props.mainComponentThis.onMapContextLoadedCallback2D,heatmapGateways:this.props.mainComponentThis.getGatewaysData(),preserveDrawingBuffer:!1,mapStylesChangeRef:this.props.mainComponentThis.mapStylesChangeRef,mainComponentThis:this.props.mainComponentThis}),this.props.mainComponentThis.mapLayer2DContainerRef.current)}),!1)},this.onSave=()=>{if(this.state.needsSave){const t=st(this.state.edit,(e=>{this.setState({edit:e},(()=>{if(t){let t={planGeneral:{...this.floorplanGeneral,gps_latitude:parseFloat(this.state.edit.find((t=>"gps_lat"===t.field)).value),gps_longitude:parseFloat(this.state.edit.find((t=>"gps_long"===t.field)).value),floorplan_bearing:this.state.edit.find((t=>"bearing_angle"===t.field)).value}};b.post.call(this,"/plans/".concat(this.props.floorplanID),t,(()=>{this.mounted&&(this.props.mainComponentThis.floorplanGeneral=t.planGeneral,this.closeShowFloorplanOnMapModal(!0,parseFloat(this.state.edit.find((t=>"gps_long"===t.field)).value),parseFloat(this.state.edit.find((t=>"gps_lat"===t.field)).value)))}))}}))}))}},this.onMapZoom=()=>{this._map&&(this._zoom=this._map.getZoom(),this.isStyleChangeAllowed()&&this._map.getStyle().layers.find((t=>"base_stations_unclustered"===t.id))&&q.call(this))},this.onMapClick=(t,e)=>{if(this._map&&this.state.changeTopLeftGpsCoordinatesEnabled){const t=this.state.edit.map((t=>"gps_lat"===t.field?{...t,value:e.lngLat.lat.toString()}:"gps_long"===t.field?{...t,value:e.lngLat.lng.toString()}:{...t}));this.setState({edit:t,needsSave:nt(t,this.state.originalData)},(()=>this.handleFloorplanImageCanvasCoordinateChange(e.lngLat.lng,e.lngLat.lat)))}},this.onGpsCoordinatesInputChange=t=>e=>{let{target:{value:i}}=e;Vp.log(i);const s=this.state.edit.map((e=>e.field===t.field?{...e,value:i}:{...e})),n=parseFloat(s.find((t=>"gps_long"===t.field)).value),o=parseFloat(s.find((t=>"gps_lat"===t.field)).value),a=!it.isGpsCoordinate(n,"gps_long")&&!it.isGpsCoordinate(o,"gps_lat");Vp.log(a),Vp.log(n+" , "+o),this.setState({edit:s,needsSave:nt(s,this.state.originalData)},(()=>{a&&this.handleFloorplanImageCanvasCoordinateChange(n,o)}))},this.switchLayer=t=>()=>{if(this._map&&this.isStyleChangeAllowed()&&this.state.selectedMapStyle!==t&&this.mounted){let e=this.state.selectedMapStyle;this.setState({selectedMapStyle:t,mapStyleLoaded:!1},(()=>{this._map.getStyle().layers.forEach((t=>{this._map.removeLayer(t.id)}));const{callback:i,newStyle:s}=((t,e,i)=>{let s=null,n="mapbox/"+t;return"TERRAIN"!==t&&"TERRAIN"===e&&(i.setTerrain(null),i.removeSource("mapbox-dem")),"TERRAIN"===t&&(n="mapbox-map-design/ckhqrf2tz0dt119ny6azh975y",s=()=>{i.addSource("mapbox-dem",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),i.setTerrain({source:"mapbox-dem",exaggeration:1.5}),i.addLayer({id:"sky",type:"sky",paint:{"sky-type":"atmosphere","sky-atmosphere-sun":[0,0],"sky-atmosphere-sun-intensity":15}})}),"BUILDINGS"===t&&(n="mapbox/light-v10",s=()=>{const t=i.getStyle().layers;let e;for(let i=0;i<t.length;i++)if("symbol"===t[i].type&&t[i].layout["text-field"]){e=t[i].id;break}i.addLayer({id:"3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.6}},e)}),{callback:s,newStyle:n}})(t,e,this._map);this._map.setStyle("mapbox://styles/"+s,{diff:!1}),this._map.once("idle",(()=>{this.mounted&&this.setState({mapStyleLoaded:!0},(()=>{i&&i(),this.state.floorplanImageLayerAdded&&this.addFloorplanImageLayer(!1),this.props.isHeatmap&&"1.1"===this.props.heatmapVersion&&this.addBaseStationsLayer()}))}))}))}},this.isStyleChangeAllowed=()=>{if(this.state.mapStyleLoaded){const t=this._map.getStyle();let e=t&&t.layers;return e?!this.props.isHeatmap||"1.1"!==this.props.heatmapVersion||e.find((t=>"base_stations_unclustered"===t.id))&&this._map.hasImage("base_icon")?this.state.floorplanImageLayerAdded&&!e.find((t=>"floorplan-image-layer"===t.id))?(Vp.log("False, nema floorplanImageCanvas layera"),!1):"BUILDINGS"!==this.state.selectedMapStyle||"BUILDINGS"===this.state.selectedMapStyle&&e.find((t=>"3d-buildings"===t.id))?"TERRAIN"!==this.state.selectedMapStyle||"TERRAIN"===this.state.selectedMapStyle&&e.find((t=>"sky"===t.id))&&t.sources["mapbox-dem"]?(Vp.log("Omogucena promjena stila"),!0):(Vp.log("False. nema terrain layera"),!1):(Vp.log("False. nema buildings layera"),!1):(Vp.log("False. Nema base station layera"),!1):(Vp.log("Nema layera"),!1)}return Vp.log("Vanjski if. Nije loadan stil"),!1},this.onFloorplanBearingInputChange=t=>{const e=this.state.edit.map((e=>"bearing_angle"===e.field?{...e,value:Number(t)}:{...e}));this.setState({edit:e,needsSave:this.state.floorplanNoInitialBearing||nt(e,this.state.originalData)})},this.onFloorplanBearingChangeFinished=()=>{this.currentFloorplanImageCanvasCoordinates=this.calculateFloorplanImageCanvasCoordinatesForBearing(Number(this.floorplanBearingSliderRef.current.value)),this._map.getSource("floorplan-image-source").setCoordinates(this.currentFloorplanImageCanvasCoordinates)},this.calculateFloorplanImageCanvasCoordinatesForBearing=t=>{const e={pivot:[this.state.edit.find((t=>"gps_long"===t.field)).value,this.state.edit.find((t=>"gps_lat"===t.field)).value]};return this.floorplanImageCanvasCurrentBearingPolygon=(0,cp.Z)(this.floorplanImageCanvasZeroBearingPolygon,t,e),this.floorplanImageCanvasCurrentBearingPolygon.geometry.coordinates[0].slice(0,-1)},this.onChangeBearingAngleSwitchChange=()=>{this.setState({changeBearingAngleEnabled:!this.state.changeBearingAngleEnabled,changeTopLeftGpsCoordinatesEnabled:!1})},this.onChangeTopLeftGpsCoordsSwitchChange=()=>{this.setState({changeTopLeftGpsCoordinatesEnabled:!this.state.changeTopLeftGpsCoordinatesEnabled,changeBearingAngleEnabled:!1})},this.handleFloorplanImageCanvasCoordinateChange=(t,e)=>{this.state.floorplanBearingAngleMechanismDisabled?this.createFloorplanImageCanvas(t,e,{floorplanBearingAngleMechanismDisabled:!1}):this.translateFloorplanImageCanvas(t,e)},this.createFloorplanImageCanvas=function(t,i){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;e.floorplanImageCanvasZeroBearingPolygon.geometry.coordinates=[[...Ut(i,t,e.floorplanDimensions.width,e.floorplanDimensions.height),[t,i]]],e.props.mainComponentThis.downloadSvg(e.props.isHeatmap,!1,!1,!0,!e.state.showFloorplanImageBackground).then((t=>{let i=new Image;i.onload=()=>{e.state.showFloorplanImageBackground?e.floorplanWhiteBgImage=i:e.floorplanTransparentBgImage=i,e.floorplanCanvas.width=i.width,e.floorplanCanvas.height=i.height,e.floorplanCanvas.getContext("2d").drawImage(i,0,0),e.setState({...s,floorplanImageLoaded:!0,loading:!1,mapCenter:(0,pp.Z)(e.floorplanImageCanvasZeroBearingPolygon).geometry.coordinates},(()=>!!n&&n()))},i.onerror=t=>{e.setState({error:t,visibleErrorPopup:!0,loading:!1,mapCenter:(0,pp.Z)(e.floorplanImageCanvasZeroBearingPolygon).geometry.coordinates})},i.src=t}))},this.translateFloorplanImageCanvas=(t,e)=>{const i=k()(this.floorplanImageCanvasCurrentBearingPolygon.geometry.coordinates[0][0]),s=k()([t,e]),n=(0,mp.Z)(i,s),o=(0,up.Z)(i,s);this.floorplanImageCanvasZeroBearingPolygon=(0,dp.Z)(this.floorplanImageCanvasZeroBearingPolygon,o,n),this.floorplanImageCanvasCurrentBearingPolygon=(0,dp.Z)(this.floorplanImageCanvasCurrentBearingPolygon,o,n),this.currentFloorplanImageCanvasCoordinates=this.floorplanImageCanvasCurrentBearingPolygon.geometry.coordinates[0].slice(0,-1),this._map.getSource("floorplan-image-source").setCoordinates(this.currentFloorplanImageCanvasCoordinates)},this.getTooltip=t=>{let{type:e,description:i}=t;return"base_station"===e?(U("base-station"),(0,u.jsx)(Rs,{name:i.name,id:i.id})):null},this.closeModal=()=>{this.mounted&&this.setState({tooltip:null})},this.changeFloorplanImageCanvasImage=t=>{this._map.removeLayer("floorplan-image-layer"),this._map.removeSource("floorplan-image-source"),this.floorplanCanvas.width=t.width,this.floorplanCanvas.height=t.height,this.floorplanCanvas.getContext("2d").drawImage(t,0,0),this.addFloorplanImageLayer()},this.onChangeFloorplanImageCanvasBackgroundOptionClick=()=>{if(this.isStyleChangeAllowed()){let t=!0,e=!this.state.showFloorplanImageBackground;e?this.floorplanWhiteBgImage&&(t=!1):this.floorplanTransparentBgImage&&(t=!1),t?this.props.mainComponentThis.downloadSvg(this.props.isHeatmap,!1,!1,!0,!e).then((t=>{let i=new Image;i.onload=()=>{e?this.floorplanWhiteBgImage=i:this.floorplanTransparentBgImage=i,this.changeFloorplanImageCanvasImage(i),this.setState({showFloorplanImageBackground:e})},i.onerror=t=>{this.setState({error:t,visibleErrorPopup:!0})},i.src=t})):(this.changeFloorplanImageCanvasImage(e?this.floorplanWhiteBgImage:this.floorplanTransparentBgImage),this.setState({showFloorplanImageBackground:e}))}},this.state={edit:null,originalData:{},needsSave:!1,floorplanImageLoaded:!1,floorplanImageLayerAdded:!1,floorplanNoInitialBearing:!1,loading:!0,error:null,floorplanLoadingError:null,tooltip:null,visibleErrorPopup:!1,mapCenter:[],selectedMapStyle:"light-v8",mapStyleLoaded:!0,changeTopLeftGpsCoordinatesEnabled:!1,changeBearingAngleEnabled:!1,floorplanGpsCoordinatesMechanismDisabled:!1,floorplanBearingAngleMechanismDisabled:!1,showFloorplanImageBackground:!0},this._map=null,this.zoomRange=4,this._zoom=9,this.mounted=!1,this.floorplanDimensions={width:0,height:0},this.floorplanImageCanvasZeroBearingPolygon={type:"Feature",geometry:{type:"Polygon",coordinates:[]},properties:{}},this.getBaseStations=!1,this.floorplanGeneral=null,this.floorplanImageCanvasCurrentBearingPolygon=null,this.currentFloorplanImageCanvasCoordinates=null,this.floorplanBearingNumberSliderInput=s.createRef(),this.floorplanBearingSliderRef=s.createRef(),this.floorplanCanvas=document.createElement("canvas"),this.floorplanWhiteBgImage=null,this.floorplanTransparentBgImage=null,this.addBaseStationsLayer=this.addBaseStationsLayer.bind(this),this.addFloorplanImageLayer=this.addFloorplanImageLayer.bind(this),this.closeShowFloorplanOnMapModal=this.closeShowFloorplanOnMapModal.bind(this),this.onMapZoom=this.onMapZoom.bind(this),this.onMapClick=this.onMapClick.bind(this),this.switchLayer=this.switchLayer.bind(this),this.getTooltip=this.getTooltip.bind(this),this.closeModal=this.closeModal.bind(this),this.isStyleChangeAllowed=this.isStyleChangeAllowed.bind(this),this.onSave=this.onSave.bind(this),this.onFloorplanBearingInputChange=this.onFloorplanBearingInputChange.bind(this),this.calculateFloorplanImageCanvasCoordinatesForBearing=this.calculateFloorplanImageCanvasCoordinatesForBearing.bind(this),this.focusFloorplanImageCanvas=this.focusFloorplanImageCanvas.bind(this),this.onGpsCoordinatesInputChange=this.onGpsCoordinatesInputChange.bind(this),this.onChangeBearingAngleSwitchChange=this.onChangeBearingAngleSwitchChange.bind(this),this.onChangeTopLeftGpsCoordsSwitchChange=this.onChangeTopLeftGpsCoordsSwitchChange.bind(this),this.handleFloorplanImageCanvasCoordinateChange=this.handleFloorplanImageCanvasCoordinateChange.bind(this),this.createFloorplanImageCanvas=this.createFloorplanImageCanvas.bind(this),this.translateFloorplanImageCanvas=this.translateFloorplanImageCanvas.bind(this),this.changeFloorplanImageCanvasImage=this.changeFloorplanImageCanvasImage.bind(this),this.onChangeFloorplanImageCanvasBackgroundOptionClick=this.onChangeFloorplanImageCanvasBackgroundOptionClick.bind(this)}componentWillUnmount(){this.mounted=!1}componentDidMount(){this.mounted=!0,this.props.floorplanID&&!this.props.isNewHeatmap?b.get.call(this,"/plans?planId=".concat(this.props.floorplanID),(t=>{const e=!(t&&t.length>0)&&this.props.isHeatmap&&this.props.heatmapFloorplanGeneral;if(t&&t.length>0||e){this.floorplanGeneral=e?this.props.heatmapFloorplanGeneral:t[0].plan_general;const n=e?this.props.heatmapFloorplanGeneral.gps_longitude:t[0].plan_general.gps_longitude||t[0].gps_longitude,o=e?this.props.heatmapFloorplanGeneral.gps_latitude:t[0].plan_general.gps_latitude||t[0].gps_latitude;this.floorplanDimensions.width=T(this.props.mainComponentThis.boxWallCoordinates.width/this.props.mainComponentThis.meter,2),this.floorplanDimensions.height=T(this.props.mainComponentThis.boxWallCoordinates.height/this.props.mainComponentThis.meter,2);const a=e?this.props.heatmapFloorplanGeneral.floorplan_bearing:t[0].plan_general.floorplan_bearing||ds.find((t=>"bearing_angle"===t.field)).defaultValue,r=(i={gps_lat:o&&o.toString(),gps_long:n&&n.toString(),bearing_angle:a},s=ds,Object.entries(i).map((t=>{let[e,i]=t;return{...s.find((t=>t.field===e)),value:void 0!==i&&null!==i?i:""}})));R(o)&&R(n)?e?this.setState({loading:!1,floorplanLoadingError:"Heatmap floorplan couldn't be found. Please check if floorplan may have been deleted."}):J.call(this,"mapCenter",this.props.setResponseError,(()=>{this.setState({edit:r,originalData:r,loading:!1,floorplanNoInitialBearing:!0,needsSave:!0,floorplanBearingAngleMechanismDisabled:!0},(()=>{this.floorplanBearingSliderRef.current.value=a,this.floorplanBearingNumberSliderInput.current.setNumberInputInitialValues(a)}))})):this.createFloorplanImageCanvas(n,o,{edit:r,originalData:r,floorplanNoInitialBearing:!e&&(!t[0].plan_general.floorplan_bearing&&0!==t[0].plan_general.floorplan_bearing),needsSave:!e&&(!t[0].plan_general.floorplan_bearing&&0!==t[0].plan_general.floorplan_bearing),floorplanGpsCoordinatesMechanismDisabled:e,floorplanBearingAngleMechanismDisabled:e},(()=>{this.floorplanBearingSliderRef.current.value=a,this.floorplanBearingNumberSliderInput.current.setNumberInputInitialValues(a)}))}else this.setState({loading:!1,floorplanLoadingError:"Heatmap floorplan couldn't be found. Please check if floorplan may have been deleted."});var i,s})):this.setState({loading:!1,floorplanLoadingError:this.props.floorplanID?"Please save heatmap first in order to show it on map.":"Floorplan couldn't be found. Please save it first then try again."})}render(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(li,{onCloseModalClick:()=>this.closeShowFloorplanOnMapModal(!1),children:(0,u.jsx)("div",{className:"layout__section",style:{height:"auto",maxHeight:"85vh"},children:(()=>this.state.loading?(0,u.jsx)(Ai,{center:!0}):this.state.floorplanLoadingError?(0,u.jsx)("p",{className:"show-floorplan-on-map-error",children:this.state.floorplanLoadingError}):(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("section",{className:"show-floorplan-on-map-form-controls-container",children:this.state.edit&&(0,u.jsxs)(s.Fragment,{children:[(0,u.jsxs)("div",{className:"form-controls-container",children:[(0,u.jsx)("div",{className:"form-container",children:this.state.edit.slice(0,2).map((t=>(0,u.jsx)(pi,{label:t.label,placeholder:t.placeholder,disabled:!this.state.changeTopLeftGpsCoordinatesEnabled,item:t,value:t.value||"",type:t.type,onChange:this.onGpsCoordinatesInputChange,error:t.error},t.label)))}),(0,u.jsx)(Ti.Z,{theme:Bs,children:(0,u.jsx)("div",{title:"Change floorplan coordinates",children:(0,u.jsx)(Ms.Z,{disabled:this.state.floorplanGpsCoordinatesMechanismDisabled,checked:this.state.changeTopLeftGpsCoordinatesEnabled,onChange:this.onChangeTopLeftGpsCoordsSwitchChange})})})]}),(0,u.jsxs)("div",{className:"form-controls-container",children:[(0,u.jsx)("div",{className:"form-container",children:(0,u.jsx)(ar,{ref:this.floorplanBearingNumberSliderInput,sliderInputRef:this.floorplanBearingSliderRef,valueLabelText:ds.find((t=>"bearing_angle"===t.field)).label,disabled:!this.state.changeBearingAngleEnabled,sliderStep:1,minValue:0,maxValue:359,defaultValue:ds.find((t=>"bearing_angle"===t.field)).defaultValue,onSliderValueChanged:this.onFloorplanBearingInputChange,onSliderChangeFinished:this.onFloorplanBearingChangeFinished})}),(0,u.jsx)(Ti.Z,{theme:Bs,children:(0,u.jsx)("div",{title:"Change floorplan bearing",children:(0,u.jsx)(Ms.Z,{disabled:this.state.floorplanBearingAngleMechanismDisabled,checked:this.state.changeBearingAngleEnabled,onChange:this.onChangeBearingAngleSwitchChange})})})]})]})}),(this.state.changeTopLeftGpsCoordinatesEnabled||this.state.changeBearingAngleEnabled)&&(0,u.jsx)("p",{className:"above-map-note",children:this.state.changeTopLeftGpsCoordinatesEnabled?"Select coordinates of the top left corner of your floorplan":"Rotate floorplan around the top left corner"}),(0,u.jsxs)("section",{className:"layout__section map",children:[(0,u.jsx)("div",{className:"layer-change show-floorplan-on-map map-feature-icon svg-center-inside-container"}),(0,u.jsx)("div",{className:"layer-dropdown",style:{top:105},children:(0,u.jsx)(Ls,{mapStyles:fs,switchLayer:this.switchLayer,selectedMapStyle:this.state.selectedMapStyle})}),this.state.floorplanImageLayerAdded&&(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{className:"last-point-center show-floorplan-on-map map-feature-icon svg-center-inside-container",onClick:this.focusFloorplanImageCanvas,children:(0,u.jsx)(Ep,{})}),(0,u.jsx)("div",{className:"feature-info",children:(0,u.jsx)("div",{children:"Focus floorplan image"})}),(0,u.jsx)("div",{className:"floorplan-image-background-option map-feature-icon svg-center-inside-container",onClick:this.onChangeFloorplanImageCanvasBackgroundOptionClick,children:this.state.showFloorplanImageBackground?(0,u.jsx)("svg",{viewBox:"0 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet",children:(0,u.jsx)("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none",children:(0,u.jsx)("path",{d:"M2448 4784 c-97 -23 -157 -60 -248 -153 -116 -119 -245 -286 -415\r -541 -564 -845 -870 -1711 -817 -2305 45 -495 297 -921 710 -1198 164 -110\r 377 -198 585 -239 160 -32 434 -32 593 0 579 116 1039 517 1223 1070 58 175\r 76 294 75 512 0 154 -5 222 -22 324 -93 545 -363 1176 -767 1796 -158 243\r -378 526 -488 627 -113 104 -276 145 -429 107z m178 -320 c65 -31 283 -302\r 471 -584 296 -443 562 -1006 663 -1400 6 -25 13 -53 16 -62 5 -17 -58 -18\r -1215 -18 -672 0 -1221 1 -1221 3 0 2 15 57 34 123 119 418 342 886 633 1329\r 192 291 418 575 484 608 43 21 92 21 135 1z"})})}):(0,u.jsx)("svg",{viewBox:"0 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet",children:(0,u.jsx)("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none",children:(0,u.jsx)("path",{d:"M2448 4784 c-97 -23 -157 -60 -248 -153 -116 -119 -245 -286 -415\r\n-541 -564 -845 -870 -1711 -817 -2305 65 -721 582 -1295 1295 -1437 160 -32\r\n434 -32 593 0 579 116 1039 517 1223 1070 58 175 76 294 75 512 0 154 -5 222\r\n-22 324 -93 545 -363 1176 -767 1796 -158 243 -378 526 -488 627 -113 104\r\n-276 145 -429 107z m178 -320 c65 -31 283 -302 471 -584 296 -443 562 -1006\r\n663 -1400 6 -25 13 -53 16 -62 5 -17 -58 -18 -1215 -18 -672 0 -1221 1 -1221\r\n3 0 2 15 57 34 123 119 418 342 886 633 1329 192 291 418 575 484 608 43 21\r\n92 21 135 1z m1210 -2431 c11 -71 -4 -287 -25 -383 -99 -438 -410 -789 -831\r\n-938 -152 -53 -237 -67 -425 -66 -137 0 -187 5 -261 22 -260 61 -452 168 -635\r\n351 -188 188 -297 386 -350 636 -22 107 -35 288 -25 368 l7 57 1269 0 1269 0\r\n7 -47z"})})})}),(0,u.jsx)("div",{className:"feature-info",style:{width:this.state.showFloorplanImageBackground?150:180},children:(0,u.jsx)("div",{children:this.state.showFloorplanImageBackground?"White background":"Transparent background"})})]}),(0,u.jsx)("div",{className:"glamos-bottom-left-logo",children:(0,u.jsx)("img",{alt:"Glamos logo",src:"dark-v10"===this.state.selectedMapStyle||"satellite-v9"===this.state.selectedMapStyle||"TERRAIN"===this.state.selectedMapStyle?"data:image/png;base64,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":a})}),(0,u.jsxs)(ks,{preserveDrawingBuffer:!0,mapStyle:"mapbox://styles/mapbox/light-v8",center:this.state.mapCenter,zoom:[this._zoom],minZoom:3,maxZoom:15,onZoom:this.onMapZoom,onClick:this.onMapClick,children:[(0,u.jsx)(vs.Ly,{className:"zoom-control"}),(0,u.jsx)(vs.AI,{className:"rotation-control"}),(0,u.jsx)(vs.jf,{className:"scale-control",measurement:"metric"===this.props.mainComponentThis.context.userUnit?"km":"mi"}),this.state.tooltip&&(0,u.jsx)(Is,{closeModal:this.closeModal,popupCenter:this.state.tooltip.popupCenter,children:this.getTooltip(this.state.tooltip)}),(0,u.jsx)(vs.X$.Consumer,{children:t=>{this._map=t,this.props.isHeatmap&&"1.1"===this.props.heatmapVersion&&!this.getBaseStations&&this.addBaseStationsLayer(),this.state.floorplanImageLoaded&&!this.state.floorplanImageLayerAdded&&(this._map.setMaxZoom(22),this.addFloorplanImageLayer(!0))}})]})]}),(0,u.jsx)("div",{className:"button-centered-container",style:{marginTop:"1rem"},children:(0,u.jsx)(Ue,{type:this.state.needsSave?"primary":"dull",disabled:!this.state.needsSave,onClick:this.onSave,children:"Save changes"})})]}))()})}),(0,u.jsx)(Fs,{visible:this.state.visibleErrorPopup,loading:!1,error:this.state.error,singleButton:!0,statePropertyName:"visibleErrorPopup",setChoice:this.setState.bind(this)})]})}}const qp=zp;var Up=i(1317);function Jp(t,e){t&&(window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("keydown",this.handleKeyDown,{capture:!0})),e&&(window.addEventListener("resize",this.handleWindowResize),window.addEventListener("keydown",this.handleKeyDown,{capture:!0}))}function Xp(){let t=[this.currentRouteID];this.props.isHeatmap&&"new"===t[t.length-1]?wt(this.show3DNewHeatmap.current,this.modalTimeout):this.isFloorplanNoWalls()?wt(this.showFloorplanNoWallsErrorModal.current,this.modalTimeout):n.render((0,u.jsx)(ra,{}),this.loadingComponentContainer.current,(()=>{wt(this.floorplan3DContainerRef.current,this.othersTimeout,(()=>{window.removeEventListener("keydown",this.handleKeyDown,{capture:!0}),n.render((0,u.jsx)(Hp,{ref:this.floorplan3DComponent,container:this.floorplan3DContainerRef.current,WALLS:this.WALLS,OBJDATA:this.OBJDATA,ROOMS:this.ROOM,editor:this.editor,qSVG:this.qSVG,wallMaterials:this.wallMaterials,heatmapPaletteCanvas:this.heatmapPaletteCanvas,boxWallCoordinates:this.boxWallCoordinates,loadingComponentContainer:this.loadingComponentContainer.current,isHeatmap:this.props.isHeatmap,offset:this.offset,handleKeyDown2D:this.handleKeyDown,setResponseError:this.setState.bind(this),othersTimeout:this.othersTimeout,mainComponentThis:this}),this.floorplan3DContainerRef.current)}),"block",!1)}))}function Yp(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=this.panel.current.querySelectorAll(".panel-icon-button-container");if(t===this.smallScreenMinimizedPanelSize){!this.props.isHeatmap&&this.undoRedoContainer.current.classList.add("minimized");const t=this.panel.current.querySelectorAll(".panel-action-button > button");for(let e of t)e.classList.add("small-screen-minimized"),!this.props.isHeatmap&&e.classList.add("floorplan")}this.panel.current.classList.add("panel-small-screen-minimized"),this.panelControl.current.title="Show panel",this.boxPlanName.current.style.paddingLeft="".concat(t+30,"px"),this.boxInfo.current.style.left="".concat(t+30,"px"),this.panel.current.style.width="".concat(t,"px"),e&&(this.panelControl.current.style.transform="translateX(".concat(t,"px)")),this.panelControl.current.children[0].style.transform="rotate(180deg)",this.panel.current.addEventListener("transitionend",(()=>{this.panel.current.classList.add("panel-centered");for(let t of i)t.classList.add("panel-icon-button-no-text"),t.classList.remove("fully");this.layersListArrowRef.current.classList.add("hidden");const e=this.panel.current.querySelectorAll(".checked-input-container");for(let t of e)t.classList.add("checked-input-container-no-label");document.getElementsByClassName("show-map-switch-container")[0].classList.add("hide-label"),this.props.isHeatmap?(this.isHeatmapView&&document.querySelector(".panel-option-buttons-container").classList.add("hide-labels"),document.querySelector(".position-drawing-container").classList.add("hide-labels")):(this.wallOptionsContainer.current.classList.add("panel-minimized"),this.wallOptionsContainer.current.classList.remove("small-screen-maximized"),this.uploadImageFloorplanSettingsIconRef.current.classList.add("hide"),t===this.smallScreenMinimizedPanelSize?this.uploadFloorplanPanelButtonContainer.current.style.flexWrap="wrap":this.uploadFloorplanPanelButtonContainer.current.style.flexWrap="nowrap",t===this.smallScreenMinimizedPanelSize?this.uploadFloorplanImageStatusContainerRef.current.classList.add("small-screen-minimized"):this.uploadFloorplanImageStatusContainerRef.current.classList.remove("small-screen-minimized"),this.indoorPlanningLabelRef.current&&(this.indoorPlanningLabelRef.current.style.display="none"))}),{once:!0})}function Zp(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=this.panel.current.querySelectorAll(".panel-icon-button-container");this.isSmallScreen()&&this.hideRightBox(),this.panel.current.classList.remove("panel-small-screen-minimized");const s=this.panel.current.querySelectorAll(".panel-action-button > button");for(let n of s)n.classList.remove("small-screen-minimized"),!this.props.isHeatmap&&n.classList.remove("floorplan");this.panelControl.current.title="Hide panel",this.boxPlanName.current.style.paddingLeft="".concat(t+10,"px"),this.boxInfo.current.style.left="".concat(t+30,"px"),this.panel.current.style.width="".concat(t,"px"),this.panel.current.classList.remove("panel-centered"),e&&(this.panelControl.current.style.transform="translateX(".concat(t,"px)")),this.panelControl.current.children[0].style.transform="rotate(0deg)",this.panel.current.addEventListener("transitionend",(()=>{for(let t of i)t.classList.remove("panel-icon-button-no-text"),t.classList.add("fully");this.undoRedoContainer.current.classList.remove("minimized"),this.layersListArrowRef.current.classList.remove("hidden");const e=this.panel.current.querySelectorAll(".checked-input-container");for(let t of e)t.classList.remove("checked-input-container-no-label");document.getElementsByClassName("show-map-switch-container")[0].classList.remove("hide-label"),this.props.isHeatmap?(this.isHeatmapView&&document.querySelector(".panel-option-buttons-container").classList.remove("hide-labels"),document.querySelector(".position-drawing-container").classList.remove("hide-labels")):(this.wallOptionsContainer.current.classList.remove("panel-minimized"),t===this.smallScreenMaximizedPanelSize?this.wallOptionsContainer.current.classList.add("small-screen-maximized"):this.wallOptionsContainer.current.classList.remove("small-screen-maximized"),t!==this.smallScreenMaximizedPanelSize&&this.uploadImageFloorplanSettingsIconRef.current.classList.remove("hide"),this.uploadFloorplanPanelButtonContainer.current.style.flexWrap="nowrap",this.uploadFloorplanImageStatusContainerRef.current.classList.remove("small-screen-minimized"),this.indoorPlanningLabelRef.current&&(this.indoorPlanningLabelRef.current.style.display="block"))}),{once:!0})}function Qp(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.isPanelMaximized()){const e=this.isSmallScreen()?this.smallScreenMinimizedPanelSize:this.bigScreenMinimizedPanelSize;this.minimizePanel(e,t)}else{const e=this.isSmallScreen()?this.smallScreenMaximizedPanelSize:this.bigScreenMaximizedPanelSize;this.maximizePanel(e,t)}}function Kp(){this.isFloorplanNoWalls()?wt(this.showFloorplanNoWallsErrorModal.current,this.modalTimeout):this.generateHeatmapWithLoadingHandler()}function _p(){this.showHeatmapPositionNumbers?(this.showHeatmapPositionNumbers=!1,this.showHeatmapPositionNumbersRef.current.checked=!1):(this.showHeatmapPositionNumbers=!0,this.showHeatmapPositionNumbersRef.current.checked=!0),this.heatmapGenerated&&(this.heatmapHelperCanvasContext.clearRect(0,0,this.taille_w,this.taille_h),this.generateHeatmapPositionsGatewaysDrawing().catch((()=>Up.log("Error while changing heatmap position numbers"))))}function $p(){this.showHeatmapDeadPositions?(this.showHeatmapDeadPositions=!1,this.showHeatmapDeadPositionsRef.current.checked=!1,this.removeHeatmapDeadPositions()):(this.showHeatmapDeadPositions=!0,this.showHeatmapDeadPositionsRef.current.checked=!0,this.renderHeatmapDeadPositions())}function td(t,e){if(null===t){let e=document.getElementsByClassName("btn-active")[0];if(e){let i=e.parentElement.parentElement;t=Array.from(this.optionButtonsContainerRef.current.children).indexOf(i)}}if(null!==t){this.optionButtonsContainerRef.current.children[t].getElementsByClassName("btn-active")[0].classList.remove("btn-active")}this.optionButtonsContainerRef.current.children[e].getElementsByClassName("option-button")[0].classList.add("btn-active")}function ed(t){t!==this.currentHeatmapOptionIndex&&(this.targetHeatmapOptionIndex=t,this.isSaveNeeded()?wt(this.saveHeatmapOptionAlertModal.current,this.modalTimeout):n.render((0,u.jsx)(ra,{}),this.loadingComponentContainer.current,(()=>{this.resetHistory(),this.handleHeatmapOptionButtonInfoBoxChange(this.currentHeatmapOptionIndex,t),this.currentHeatmapOptionIndex=t;let e,i=this.heatmapOptions[t];for(Up.log("Option change"),Up.log(i);e=this.OBJDATA.find((t=>t.baseStationOptions));)e.graph.remove(),this.OBJDATA.splice(this.OBJDATA.indexOf(e),1);let s=[];for(let t=0;t<i.renderedGateways.length;t++){let e=new Zs(i.renderedGateways[t].family,i.renderedGateways[t].class,i.renderedGateways[t].type,{x:i.renderedGateways[t].x,y:i.renderedGateways[t].y},i.renderedGateways[t].angle,i.renderedGateways[t].angleSign,i.renderedGateways[t].size,i.renderedGateways[t].hinge,i.renderedGateways[t].thick,i.renderedGateways[t].value,void 0,i.renderedGateways[t].baseStationOptions,this);e.update(this),this.OBJDATA.push(e),this.boxCarpentry.current.appendChild(e.graph),s.push(this.state.gatewaysData.find((e=>e.gtw_id===i.renderedGateways[t].baseStationOptions.gtw_id)))}this.calculateHeatmapOptionRenderedPositions(i,!0),Up.log("New OBJDATA"),Up.log(this.OBJDATA),this.setOptionNoteAndHeatmapTabParameters(i);this.positionDrawingRef.current.setPositionOptions(i.positionButtonOptionsState,(()=>{this.showGatewaysSelectRef.current.setRenderedGateways(s,(()=>{this.noHeatmapNameEdit=!0,Up.log("Heatmap option click handle filter call"),this.positionsDataFilterRef.current.handleFilter(["BASE_filtered","ANTENNA_filtered","SF_filtered"],this.getHeatmapOptionPositionsDataFilterValues(i),!0,!1,(()=>{this.lastSavedObject=this.HISTORY[this.HISTORY.length-1],this.generateHeatmapWithLoadingHandler({},!1)}))}))})),this.heatmapPositionDataSelectedOption=i.heatmapPositionDataSelectedOption,this.positionDataOptionsRef.current.setSelectedPositionDataOption(i.heatmapPositionDataSelectedOption)})))}function id(){this.foncButton("select_mode"),this.boxInfo.current.innerHTML="Select mode",this.translateRightBox(this.objBoundingBox.current,200,!1)}function sd(){this.props.isHeatmap&&(this.foncButton("select_mode"),this.boxInfo.current.innerHTML="Select mode",this.showMapLayer2D3DRef.current&&this.showMapLayer2D3DRef.current.onPositionPopupClose(),this.removeSelectedBinder()),this.closeDrawingAreaPopup()}function nd(){this.multiChecked?(this.multipleWallDrawing.current.checked=!1,this.multiChecked=!1):(this.multiChecked=!0,this.multipleWallDrawing.current.checked=!0)}function od(){this.foncButton("select_mode"),this.boxInfo.current.innerHTML="Select mode",this.translateRightBox(this.wallTools.current,200,!1),this.wallMaterialDropdownMenu.current.classList.remove("show")}function ad(){this.foncButton("select_mode"),this.boxInfo.current.innerHTML="Select mode",this.translateRightBox(this.objTools.current,200,!1),this.rib()}function rd(){let t=this.wallMaterialButtonRef.current.getBoundingClientRect();this.wallMaterialListRef.current.style.top=t.top-100+"px",this.wallMaterialListRef.current.style.transform="translateX(".concat(this.panel.current.style.width,")"),this.wallMaterialListRef.current.classList.add("active")}function ld(t,e){e!==this.selectedWallMaterial&&(document.getElementsByClassName("active-wall-material")[0].classList.remove("active-wall-material"),Up.log("Material container"),Up.log(t),t.querySelector("circle").classList.add("active-wall-material"),this.selectedWallMaterial=e)}function hd(){this.action=0;let t=this.labelBox.current.value;""!==t&&vt(this.textToLayerModal.current,this.modalTimeout,(()=>{this.binder=new Zs("free","text",this.labelBox.current.style.color,this.snap,0,0,0,"normal",0,{text:t,size:this.sizePoliceInputSlider.current.value},void 0,void 0,this),this.binder.update(this),this.OBJDATA.push(this.binder),this.binder.graph.remove(),this.boxText.current.appendChild(this.OBJDATA[this.OBJDATA.length-1].graph),this.OBJDATA[this.OBJDATA.length-1].update(this),this.binder=null,this.boxInfo.current.innerHTML="Text added",this.saveNeeded=!0,this.save(!1,!1),this.labelBox.current.value="",this.labelBox.current.style.color="#333333",this.labelBox.current.style.fontSize="1em",this.sizePoliceInputSlider.current.value=15,this.sizePoliceNumberSliderInput.current.setNumberInputInitialValues(15)}))}function pd(){this.action=0,vt(this.textToLayerModal.current,this.modalTimeout)}function dd(){"line_mode"===this.mode&&1===this.action&&(this.action=0,this.removeBinder(),document.getElementById("linetemp")&&document.getElementById("linetemp").remove(),document.getElementById("line_construc")&&document.getElementById("line_construc").remove(),this.lengthTemp.remove(),this.lengthTemp=null)}function cd(){let t=this.linRef.current.getBoundingClientRect();if(this.taille_h!==t.height||this.taille_w!==t.width){Up.log("Window resize"),this.heatmapGenerated&&this.clearHeatmapCanvases(!0,!1),this.taille_w=t.width,this.taille_h=t.height,this.offset={left:t.left,top:t.top,scrollY:window.scrollY},this.determineMaxZoomInLevel(),this.showHideLeftRightBoxes(),this.handleRightControlsBoxResize(),this.width_viewbox=this.taille_w,this.height_viewbox=this.taille_h,this.ratio_viewbox=this.height_viewbox/this.width_viewbox,this.zoomFactor=1,this.heatmapCanvasZoomFactor=1,this.zoom=this.defaultZoomLevel,this.centerAndShowFloorplanAndUploadedFloorplanImage(!0),this.props.isHeatmap?(this.heatmapCanvas.current.setAttribute("width",this.taille_w),this.heatmapCanvas.current.setAttribute("height",this.taille_h),this.heatmapCanvasContext=this.heatmapCanvas.current.getContext("2d"),this.heatmapHelperCanvas.current.setAttribute("width",this.taille_w),this.heatmapHelperCanvas.current.setAttribute("height",this.taille_h),this.heatmapHelperCanvasContext=this.heatmapHelperCanvas.current.getContext("2d")):(this.simulateTestingCanvasRef.current.setAttribute("width",this.taille_w),this.simulateTestingCanvasRef.current.setAttribute("height",this.taille_h),this.simulateTestingCanvasContext=this.simulateTestingCanvasRef.current.getContext("2d"));const e=this.zoom-this.defaultZoomLevel;this.zoomToSpecificLevel(e>0?"zoomin":"zoomout",Math.abs(e)),this.drawingAreaPopupActive&&this.drawingAreaPopupZoomTranslateControl(),this.heatmapGenerated&&this.heatmapZoomTranslateControl(),"simulate_testing_mode"!==this.mode&&"select_source_location_active"!==this.mode||this.simulateTestingCanvasZoomTranslateControl(),this.setSvgViewBoxes(),this.floorplan3DComponent.current&&this.floorplan3DComponent.current.onWindowResize()}}function md(t){if("INPUT"!==t.target.nodeName&&!t.repeat)if(Up.log("Key down"),t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)"simulate_testing_mode"===this.mode||"select_source_location_active"===this.mode||"plan_testing_mode"===this.mode||"set_testing_locations_active"===this.mode||!t.ctrlKey||t.altKey||t.metaKey||t.shiftKey||(Up.log("Ctrl key combos"),"Z"===t.key||"z"===t.key?this.onUndoClick():"Y"!==t.key&&"y"!==t.key||this.onRedoClick());else if(Up.log("Single key"),"ArrowLeft"===t.key)this.onZoomButonClick("zoomleft");else if("ArrowUp"===t.key)this.onZoomButonClick("zoomtop");else if("ArrowRight"===t.key)this.onZoomButonClick("zoomright");else if("ArrowDown"===t.key)this.onZoomButonClick("zoombottom");else if("+"===t.key)this.onZoomButonClick("zoomin");else if("-"===t.key)this.onZoomButonClick("zoomout");else if("simulate_testing_mode"!==this.mode&&"select_source_location_active"!==this.mode&&"plan_testing_mode"!==this.mode&&"set_testing_locations_active"!==this.mode)if("Escape"===t.key)this.action=0,"select_mode"!==this.mode&&(this.props.isHeatmap&&"add_position"===this.mode&&this.positionDrawingRef.current.clearActiveButton(),"text_mode"===this.mode&&this.textToLayerModal.current.firstChild.classList.contains("indoor-modal-fade-in")&&this.onTextEditorCancelClick(),"line_mode"===this.mode&&(document.getElementById("linetemp")&&document.getElementById("linetemp").remove(),document.getElementById("line_construc")&&document.getElementById("line_construc").remove(),this.lengthTemp&&this.lengthTemp.remove(),this.lengthTemp=null,this.cursor("default")),Up.log("On escape binder"),Up.log(this.binder),this.removeBinder(),this.cursor("default"),this.boxInfo.current.innerHTML="Select mode",this.foncButton("select_mode")),Up.log("Escape pressed"),this.hideActiveRightBox(),this.removeSelectedBinder(),this.props.isHeatmap&&(this.closeDrawingAreaPopup(),this.showMapLayer2D3DRef.current&&this.showMapLayer2D3DRef.current.onPositionPopupClose());else if("Delete"===t.key){Up.log("delete pressed");let t=Gt();if(Up.log("Queried element"),Up.log(t),t){let e=t.querySelector(".button--type-delete");Up.log("Delete button"),Up.log(e),e.click()}}else"w"!==t.key&&"W"!==t.key||this.onLineModeClick()}function ud(t){const e=He(parseFloat(t),this.context.userUnit,"metric"===this.context.userUnit?"centimeter":"inch","meter",!0)*this.meter;this.selectedBinder.wall.thick=e,this.selectedBinder.wall.type="normal",this.editor.architect(this.WALLS);let i=this.editor.objFromWall(this.selectedBinder.wall);for(let s=0;s<i.length;s++)i[s].thick=e,i[s].update(this);this.rib(),this.wallWidthValue.current.textContent=t}function gd(){let t=parseFloat(this.wallLength.current.getValue());this.setSelectedWallBinderLength(t),this.saveNeeded=!0,this.save(!1,!0),this.editor.showScaleBox()}function xd(){this.selectedBinder.graph&&this.selectedBinder.graph.remove();let t="";const e=!("position"===this.selectedBinder.obj.type||"gateway"===this.selectedBinder.obj.type);"position"===this.selectedBinder.obj.type||"gateway"===this.selectedBinder.obj.type?(this.closeDrawingAreaPopup(),this.showMapLayer2D3DRef.current&&this.showMapLayer2D3DRef.current.onPositionPopupClose(),"position"===this.selectedBinder.obj.type?(t="Position hidden",this.positionDrawingRef.current.positionHidden(this.selectedBinder.obj.position_num)):(t="Gateway deleted",Up.log("Base station opptiomns "),Up.log(this.selectedBinder.obj.baseStationOptions),this.showGatewaysSelectRef.current.handleSelectedGatewayDelete(this.selectedBinder.obj.baseStationOptions.gtw_id,this.selectedBinder.obj.baseStationOptions.index-1))):(this.selectedBinder.obj.graph.remove(),this.OBJDATA.splice(this.OBJDATA.indexOf(this.selectedBinder.obj),1),this.translateRightBox(this.objBoundingBox.current,200,!1),t="Text deleted"),this.removeSelectedBinder(),this.foncButton("select_mode","dont_save"),this.boxInfo.current.innerHTML=t,this.rib(),this.saveNeeded=!0,e&&this.save(!1,!1)}function Ad(t){let e=this.selectedBinder.obj;e.angle=t,e.update(this),this.selectedBinder.angle=t,this.selectedBinder.update(this),this.bboxRotationVal.current.textContent=t}function fd(t){const e=He(parseFloat(t),this.context.userUnit,"metric"===this.context.userUnit?"centimeter":"inch","meter",!0)*this.meter;let i=this.selectedBinder.obj,s=this.editor.rayCastingWalls(i,this.WALLS);s.length>1&&(s=s[s.length-1]);let n=Ht(s.equations.base,e,i);this.qSVG.btwn(n[1].x,s.start.x,s.end.x)&&this.qSVG.btwn(n[1].y,s.start.y,s.end.y)&&this.qSVG.btwn(n[0].x,s.start.x,s.end.x)&&this.qSVG.btwn(n[0].y,s.start.y,s.end.y)&&(i.size=e,i.limit=n,i.update(this),this.selectedBinder.size=e,this.selectedBinder.limit=n,this.selectedBinder.update(this),this.doorWindowWidthVal.current.textContent=t),this.inWallRib(s)}function Cd(){let t=this.selectedBinder.obj,e=t.hinge;Up.log("Obj hinge status"),t.hinge="normal"===e?"reverse":"normal",t.update(this),Up.log("Obj target after update"),Up.log(t),this.saveNeeded=!0,this.save(!1,!0)}function bd(t){this.labelBox.current.style.fontSize=t+"px",this.textLayerModalContent.current.textContent=t}function yd(t){this.selectedBinder.obj.value.size=t,this.bboxFontSizeVal.current.textContent=t,this.selectedBinder.obj.update(this),this.selectedBinder.size=this.selectedBinder.obj.size,this.selectedBinder.thick=this.selectedBinder.obj.thick,this.selectedBinder.update(this)}function wd(){return t=>{this.selectedBinder.obj.value.text=t.target.value,this.selectedBinder.obj.update(this),this.selectedBinder.size=this.selectedBinder.obj.size,this.selectedBinder.thick=this.selectedBinder.obj.thick,this.selectedBinder.update(this),this.saveNeeded=!0,this.save(!1,!0)}}function vd(){this.showRib?(vt(this.boxScale.current,this.othersTimeout,null,!1,!0),vt(this.boxRib.current,this.othersTimeout,null,!1),this.showRibRef.current.checked=!1,this.showRib=!1):(wt(this.boxScale.current,this.othersTimeout,null,"inline",!1),wt(this.boxRib.current,this.othersTimeout,null,"inline",!1),this.showRibRef.current.checked=!0,this.showRib=!0)}function Sd(){this.showBoxGridChecked?(this.showBoxGridChecked=!1,this.showBoxGrid.current.checked=!1,vt(this.boxGridRef.current,this.othersTimeout,null,!1)):(this.showBoxGridChecked=!0,this.showBoxGrid.current.checked=!0,wt(this.boxGridRef.current,this.othersTimeout,null,"inline",!1))}function Td(){this.removeSelectedBinder(),this.closeDrawingAreaPopup(),this.showMapLayer2DInputRef.current.getCheckedStatus()?(this.showMapLayer2DInputRef.current.setCheckedStatus(!1),n.unmountComponentAtNode(this.mapLayer2DContainerRef.current)):this.isFloorplanNoWalls()?(this.showMapLayer2DInputRef.current.setCheckedStatus(!1),wt(this.showFloorplanNoWallsErrorModal.current,this.modalTimeout)):b.get.call(this,"/plans?planId=".concat(this.getFloorplanID()),(t=>{t&&t.length>0?R(t[0].plan_general.gps_latitude)&&R(t[0].plan_general.gps_longitude)?(this.showMapLayer2DInputRef.current.setCheckedStatus(!1),this.onFloorplanGpsCoordsClick()):(this.floorplanGeneral=t[0].plan_general,this.showMapLayer2DInputRef.current.setCheckedStatus(!0),n.render((0,u.jsx)(Dp,{ref:this.showMapLayer2D3DRef,is3D:!1,isHeatmap:this.props.isHeatmap,heatmapVersion:this.props.isHeatmap?this.heatmapGeneral?this.heatmapGeneral.version:"1.1":null,center:[16.8557,44.0462],floorplanGpsCoords:[t[0].plan_general.gps_longitude,t[0].plan_general.gps_latitude],onMapContextLoadedCallback:this.onMapContextLoadedCallback2D,heatmapGateways:this.state.gatewaysData,preserveDrawingBuffer:!1,mapStylesChangeRef:this.mapStylesChangeRef,mainComponentThis:this}),this.mapLayer2DContainerRef.current)):(this.showMapLayer2DInputRef.current.setCheckedStatus(!1),this.boxInfo.current.innerHTML="There is no floorplan with specified id")}))}function Pd(){this.translateRightBox(this.roomTools.current,200,!1),this.roomNameDropdownMenu.current.classList.remove("show");let t=this.ROOM.find((t=>t.id===this.selectedRoomId)),e=this.roomName.current.value;"None"===e&&(e=""),t.name=e;let i=Ge(parseFloat(this.roomSurface.current.getValue()),this.context.userUnit,"square foot","square meter",12);t.surface=i,Ot(this.boxRoom.current),Ot(this.boxSurface.current),this.editor.roomMaker(this.Rooms),this.boxInfo.current.innerHTML="Room updated",this.saveNeeded=!0,this.foncButton("select_mode")}function Id(){this.translateRightBox(this.roomTools.current,200,!1),this.roomNameDropdownMenu.current.classList.remove("show"),this.boxInfo.current.innerHTML="Select mode",this.foncButton("select_mode")}function jd(){let t=this.selectedBinder.wall,e=this.editor.objFromWall(t);for(let i=0;i<e.length;i++)e[i].graph.remove(),this.OBJDATA.splice(this.OBJDATA.indexOf(e[i]),1);for(let i in this.WALLS)Wt(this.WALLS[i].child,t)&&(this.WALLS[i].child=null),Wt(this.WALLS[i].parent,t)&&(this.WALLS[i].parent=null);this.WALLS.splice(this.WALLS.indexOf(t),1),this.translateRightBox(this.wallTools.current,200,!1),this.wallMaterialDropdownMenu.current.classList.remove("show"),t.graph.remove(),this.selectedBinder.graph.remove(),this.editor.architect(this.WALLS),this.rib(),this.editor.showScaleBox(),this.saveNeeded=!0,this.foncButton("select_mode"),this.boxInfo.current.innerHTML="Select mode"}function Rd(t){this.labelBox.current.style.color=t.target.style.color}function Md(t){this.selectedBinder.obj.type=t.target.style.color,this.selectedBinder.obj.update(this),this.saveNeeded=!0,this.save(!1,!0)}function Bd(){this.translateRightBox(this.objTools.current,200,!1);let t=this.selectedBinder.obj;t.graph.remove(),this.OBJDATA.splice(this.OBJDATA.indexOf(t),1),this.saveNeeded=!0,this.foncButton("select_mode"),this.boxInfo.current.innerHTML="Select mode",this.rib()}function Dd(t){let e=t.target.textContent;this.roomName.current.value="None"!==e?e:"",this.roomNameSelectRef.current.setValue(e)}function Ld(t,e){const i=this.wallMaterials[e];this.selectedBinder.wall.graph.setAttribute("fill",i.fill),this.selectedBinder.wall.material=i.title,this.wallMaterialSelectRef.current.setValue(i.title),this.saveNeeded=!0,this.save(!1,!0)}function Nd(t){this.zoom_maker(t,!this.showMapLayer2D3DRef.current||"zoomin"!==t&&"zoomout"!==t?this.zoomXMove:this.zoomXMoveOnMapScaleFactor*this.zoomXMove,this.zoomXView)}function kd(){if(this.isFloorplanNoWalls())wt(this.showFloorplanNoWallsErrorModal.current,this.modalTimeout);else{const t=[this.currentRouteID];wt(this.showFloorplanOnMapContainerRef.current,200,(()=>{n.render((0,u.jsx)(qp,{floorplanID:this.getFloorplanID(),heatmapFloorplanGeneral:this.props.isHeatmap?this.heatmapGeneral?this.heatmapGeneral.floorplanGeneral:this.selectedFloorplanInfo.planGeneral:null,heatmapGateways:this.state.gatewaysData,containerRef:this.showFloorplanOnMapContainerRef,setResponseError:this.setState.bind(this),isHeatmap:this.props.isHeatmap,isNewHeatmap:"new"===t[t.length-1],heatmapVersion:this.props.isHeatmap?this.heatmapGeneral?this.heatmapGeneral.version:"1.1":null,mainComponentThis:this}),this.showFloorplanOnMapContainerRef.current)}),"block",!1)}}function Od(){this.panel.current.style.transform="translateX(-100px)",this.panelControl.current.style.transform="translateX(-100px)",this.hideActiveRightBox(),this.boxPlanName.current.style.paddingLeft="30px",this.boxInfo.current.style.left="30px",this.boxInfo.current.innerHTML="",this.simulateTestingRightBoxRef.current.rightBoxControlClick.current.style.right="0px",this.simulateTestingRightBoxRef.current.onSimulateTestingRightBoxControlClick();const{min:t,max:e}=this.simulateTestingRightBoxRef.current.getSimulateTestingRssiColorValues();n.render((0,u.jsx)(Hs,{ref:this.heatmapColorLegendRef,canvasFillStyle:this.heatmapGradient,minValue:t,maxValue:e,showLabels:!0,width:256,height:this.isSmallScreen()?20:35}),this.rssiColorHeatmapLegendContainer.current),this.floorplanRoomsClippingCanvas||this.createFloorplanRoomsClippingCanvas(),this.mode="simulate_testing_mode",this.removeBinder(),this.cursor("default");const i=this.simulateTestingRightBoxRef.current.getSourceLocationInputValues();""!==i.distanceXValue&&""!==i.distanceYValue&&this.createSourceLocationSvgBinder(He(i.distanceXValue,this.context.userUnit)*this.meter+this.boxWallCoordinates.minX,He(i.distanceYValue,this.context.userUnit)*this.meter+this.boxWallCoordinates.minY),this.simulateTestingCanvasRef.current.style.zIndex=1,mt.forEach((t=>this.linRef.current.querySelector(t).style.setProperty("opacity",0,"important")));let s=this.linRef.current.querySelector("#boxCarpentry").children;for(let n of s)("text"===n.getAttribute("data-object-class")||"doorWindow"===n.getAttribute("data-object-class")&&"simple"===n.getAttribute("data-object-type"))&&(n.style.opacity=0)}function Fd(){this.panel.current.style.transform="translateX(-100px)",this.panelControl.current.style.transform="translateX(-100px)",this.hideActiveRightBox(),this.boxInfo.current.innerHTML="",this.mode="plan_testing_mode",this.planTestingLeftPanelRef.current.panelControl.current.style.left="0px",this.planTestingLeftPanelRef.current.onPlanTestingModeEnter()}function Wd(){this.restoreMainLeftPanel(),this.planTestingLeftPanelRef.current.panelControl.current.style.left="-30px",this.planTestingLeftPanelRef.current.hidePanel(!1),this.planTestingRightBoxRef.current.onCloseRightBoxClick(),this.foncButton("select_mode")}var Hd=i(1317);const Gd=299792458;function Ed(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:868e6,s=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;n.render((0,u.jsx)(ra,{}),this.loadingComponentContainer.current,(()=>{const n=Math.min(navigator.hardwareConcurrency||4,8);let a={finished:!1,calculatedData:{top_left:null,top_right:null,bottom_left:null,bottom_right:null}},r={finished:!1,calculatedData:{top_left:null,top_right:null,bottom_left:null,bottom_right:null}};const l=new Array(this.boxWallCoordinates.height);for(let t=0;t<this.boxWallCoordinates.height;t++)l[t]=new Array(this.boxWallCoordinates.width);const h=this.createWallsMaterialLossDistribution();let p=[];for(let d=0;d<Math.floor(n/2);d++)this.createDistanceAttenuationWorker(t,e,l,i,a,r,s,1,o,p),this.createWallsAttenuationWorker(t,e,l,a,r,h,s,1,p)}))}const Vd=(t,e)=>{for(const[i,s]of Object.entries(t))if(s===e)return i;return null};function zd(){const t=new Array(this.boxWallCoordinates.height);for(let e=0;e<this.boxWallCoordinates.height;e++){t[e]=new Array(this.boxWallCoordinates.width);for(let i=0;i<this.boxWallCoordinates.width;i++)t[e][i]=0}for(let e=0;e<this.WALLS.length;e++){let{minX:i,maxX:s,minY:n,maxY:o}=St(this.WALLS[e]);i=Math.max(Math.floor(i-this.boxWallCoordinates.minX),0),s=Math.min(Math.floor(s-this.boxWallCoordinates.minX),this.boxWallCoordinates.width-1),n=Math.max(Math.floor(n-this.boxWallCoordinates.minY),0),o=Math.min(Math.floor(o-this.boxWallCoordinates.minY),this.boxWallCoordinates.height-1);for(let a=n;a<=o;a++)for(let n=i;n<=s;n++)t[a][n]=ct[pt[this.WALLS[e].material]]}return t}function qd(t,e,i,s,o,a,r,l,h,p){let d=Vd(o.calculatedData,null);if(d){o.calculatedData[d]=!0;const c=new ba;p.push(c);const m=Oe(d,t,e,this.boxWallCoordinates);c.postMessage({message:"signalRayBasedSimulation",modelType:"MotelyKeenan",attenuationType:"distance",floorplanBBoxAreaWorkerParameters:m,floorplanBBoxArea:d,signalLambda:Gd/s,meterFactor:this.meter,sourcePowerdBW:h}),c.onmessage=n=>{o.calculatedData[n.data.floorplanBBoxArea]=n.data,c.terminate(),Vd(o.calculatedData,null)?this.createDistanceAttenuationWorker(t,e,i,s,o,a,r,l,h,p):Vd(o.calculatedData,!0)||(o.finished=!0,a.finished&&this.onMotelyKeenansModelWebWorkersFinishedCallback(i,t,e,o.calculatedData,a.calculatedData,r,l))},c.onerror=t=>{Hd.log("Error in distanceAttenuationWorker"),Hd.log(t),p.forEach((t=>t.terminate())),n.unmountComponentAtNode(this.loadingComponentContainer.current)}}}function Ud(t,e,i,s,o,a,r,l,h){let p=Vd(o.calculatedData,null);if(p){o.calculatedData[p]=!0;const d=new ba;h.push(d);const c=Oe(p,t,e,this.boxWallCoordinates);d.postMessage({message:"signalRayBasedSimulation",modelType:"MotelyKeenan",attenuationType:"walls",floorplanBBoxAreaWorkerParameters:c,floorplanBBoxArea:p,wallsMaterialLossDistribution:a}),d.onmessage=n=>{o.calculatedData[n.data.floorplanBBoxArea]=n.data,d.terminate(),Vd(o.calculatedData,null)?this.createWallsAttenuationWorker(t,e,i,s,o,a,r,l,h):Vd(o.calculatedData,!0)||(o.finished=!0,s.finished&&this.onMotelyKeenansModelWebWorkersFinishedCallback(i,t,e,s.calculatedData,o.calculatedData,r,l))},d.onerror=t=>{Hd.log("Error in wallsAttenuationWorker"),Hd.log(t),h.forEach((t=>t.terminate())),n.unmountComponentAtNode(this.loadingComponentContainer.current)}}}function Jd(t,e,i,s,o,a,r){const l=a[0],h=a[1];let p;["top_left","top_right","bottom_left","bottom_right"].map((t=>({floorplanBBoxAreaName:t,parameters:Oe(t,e,i,this.boxWallCoordinates)}))).forEach((e=>{for(let i=0;i<e.parameters.height;i++)for(let n=0;n<e.parameters.width;n++)p=s[e.floorplanBBoxAreaName].signalPowerMatrix[i][n]+30-o[e.floorplanBBoxAreaName].wallsAttenuationMatrix[i][n]-s[e.floorplanBBoxAreaName].distanceAttenuationMatrix[i][n],t[i+e.parameters.areaOffsetY][n+e.parameters.areaOffsetX]=p>h?h:p}));const d=document.createElement("canvas");d.width=this.boxWallCoordinates.width,d.height=this.boxWallCoordinates.height;const c=d.getContext("2d"),m=c.getImageData(0,0,this.boxWallCoordinates.width,this.boxWallCoordinates.height),u=m.data;this.simulateTestingCanvasContext.save(),this.simulateTestingCanvasContext.scale(this.heatmapCanvasZoomFactor,this.heatmapCanvasZoomFactor),this.simulateTestingCanvasContext.translate(-this.originX_viewbox,-this.originY_viewbox);for(let n=0;n<this.boxWallCoordinates.height;n++)for(let e=0;e<this.boxWallCoordinates.width;e++){const i=4*(n*this.boxWallCoordinates.width+e),s=4*T(255*r*(t[n][e]-l)/(h-l),0);void 0!==ht[s]?(u[i]=ht[s],u[i+1]=ht[s+1],u[i+2]=ht[s+2],u[i+3]=ht[s+3]):(u[i]=255,u[i+1]=255,u[i+2]=255,u[i+3]=255)}m.data.set(u),c.putImageData(m,0,0),this.floorplanRoomsClippingCanvas.getContext("2d").drawImage(d,0,0,this.boxWallCoordinates.width,this.boxWallCoordinates.height),this.simulateTestingCanvasContext.drawImage(this.floorplanRoomsClippingCanvas,this.boxWallCoordinates.minX,this.boxWallCoordinates.minY,this.boxWallCoordinates.width,this.boxWallCoordinates.height),this.simulateTestingRightBoxRef.current.onSimulateTestingCanvasDrawedCallback("static-raybased"),this.simulateTestingCanvasContext.restore(),n.unmountComponentAtNode(this.loadingComponentContainer.current)}function Xd(t,e,i,s,n,o){i-=this.boxWallCoordinates.minX,t-=this.boxWallCoordinates.minX,s-=this.boxWallCoordinates.minY,e-=this.boxWallCoordinates.minY;const a=Math.sqrt((i-t)*(i-t)+(s-e)*(s-e))/this.meter,r=20*Math.log10(4*Math.PI*1/(Gd/n))+20*Math.log10(a),l=((t,e,i,s)=>{let n=[];const o=Math.abs(e-s),a=Math.abs(t-i);let r=1,l=1;if(i<t&&(r=-1),s<e&&(l=-1),Math.abs(t-i)<Math.abs(e-s))for(let h=0;h<=o;h++)n.push([Math.floor(r*h*a/o+t),l*h+e]);else for(let h=0;h<=a;h++)n.push([r*h+t,Math.floor(l*h*o/a+e)]);return n})(t,e,i,s);let h=0,p=[];const d=this.createWallsMaterialLossDistribution();for(let c=0;c<l.length;c++){let t;(t=this.editor.rayCastingWall({x:l[c][0]+this.boxWallCoordinates.minX,y:l[c][1]+this.boxWallCoordinates.minY},!0))&&(p.find((e=>e===t))||p.push(t)),h+=d[l[c][1]][l[c][0]]}return{rssi:T(o+30-h-r,2),distance:We(a,this.context.userUnit,"meter","feet",2,!0),wallsCount:p.length}}class Yd extends s.Component{constructor(){super(),this.addOptionErrorPositions=(t,e)=>{this.setState({optionErrorPositions:[...this.state.optionErrorPositions,{optionIndex:t,errorHTML:e,modalRef:s.createRef()}]})},this.onModalCloseClick=t=>{vt(t.modalRef.current,this.props.modalTimeout,(()=>this.setState({optionErrorPositions:this.state.optionErrorPositions.filter((e=>e.optionIndex!==t.optionIndex))})))},this.state={optionErrorPositions:[]},this.addOptionErrorPositions=this.addOptionErrorPositions.bind(this),this.onModalCloseClick=this.onModalCloseClick.bind(this)}render(){return this.state.optionErrorPositions.map((t=>(0,u.jsx)(Ho,{modalRef:t.modalRef,indoorModalContainerStyle:{display:"block"},indoorModalDialogClasses:"indoor-modal-fade-in",indoorModalDialogStyle:{transitionDuration:"".concat(this.props.modalTimeout,"ms")},modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("p",{children:[(0,u.jsx)("span",{children:"Heatmap generation failed for "}),(0,u.jsx)("b",{children:"Option ".concat(t.optionIndex+1)})]}),(0,u.jsx)("p",{children:"To generate heatmap all of your positions must be inside room."}),(0,u.jsx)("p",{children:"Please change layout of following positions:"}),(0,u.jsx)("div",{dangerouslySetInnerHTML:{__html:t.errorHTML}})]}),(0,u.jsx)("div",{className:"indoor-modal-row center",children:(0,u.jsx)(Ue,{type:"primary",onClick:()=>this.onModalCloseClick(t),children:"CLOSE"})})]}),modalFooter:null},t.optionIndex)))}}const Zd=Yd;class Qd extends s.Component{constructor(){super(),this.addOptionErrorPosition=(t,e)=>{this.setState({optionsystemExceptionPositions:[...this.state.optionsystemExceptionPositions,{optionIndex:t,errorHTML:e,modalRef:s.createRef()}]})},this.onModalCloseClick=t=>{vt(t.modalRef.current,this.props.modalTimeout,(()=>this.setState({optionsystemExceptionPositions:this.state.optionsystemExceptionPositions.filter((e=>e.optionIndex!==t.optionIndex))})))},this.state={optionsystemExceptionPositions:[]},this.addOptionErrorPosition=this.addOptionErrorPosition.bind(this),this.onModalCloseClick=this.onModalCloseClick.bind(this)}render(){return this.state.optionsystemExceptionPositions.map((t=>(0,u.jsx)(Ho,{modalRef:t.modalRef,indoorModalContainerStyle:{display:"block"},indoorModalDialogClasses:"indoor-modal-fade-in",indoorModalDialogStyle:{transitionDuration:this.props.modalTimeout},modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("p",{children:[(0,u.jsx)("span",{children:"Heatmap generation failed for "}),(0,u.jsx)("b",{children:"Option ".concat(t.optionIndex+1)})]}),(0,u.jsx)("p",{children:"GLAMOS Indoor Mapping couldn't draw heatmap for following positions:"}),(0,u.jsx)("div",{dangerouslySetInnerHTML:{__html:t.errorHTML}}),(0,u.jsx)("p",{className:"indoor-paragraph-centered",children:(0,u.jsx)("b",{children:"Please change listed positions locations in order to generate heatmap for them."})})]}),(0,u.jsx)("div",{className:"indoor-modal-row center",children:(0,u.jsx)(Ue,{type:"primary",onClick:()=>this.onModalCloseClick(t),children:"CLOSE"})})]}),modalFooter:null},t.optionIndex)))}}const Kd=Qd;class _d extends s.Component{constructor(){var t;super(),t=this,this.unSelectTestPlan=()=>this.setState({selectedTestPlanIndex:null}),this.createTestPlanFromAnother=t=>({testLocations:t.testLocations.map((t=>({...t}))),testPlanNote:t.testPlanNote}),this.resetTestPlanToLastSavedState=t=>(this.props.mainComponentThis.determineBoxPlanNameValue("remove_asterisk"),{testLocations:this.lastSavedCreatedPlanTestings[t].testLocations.map((t=>({...t}))),testPlanNote:this.lastSavedCreatedPlanTestings[t].testPlanNote}),this.updateSelectedTestPlan=(t,e)=>{let i=[...this.state.createdTestPlans];i[this.state.selectedTestPlanIndex]={...i[this.state.selectedTestPlanIndex],[e]:t},this.props.rightBoxRef.current.generatePdfComponentRef.current.resetPdfReport(),this.setState({createdTestPlans:i},(()=>{this.isTestPlansSaveNeeded()&&this.props.mainComponentThis.determineBoxPlanNameValue("add_asterisk")}))},this.onPlanTestingModeEnter=()=>{this.showPanel(),this.setState({createdTestPlans:this.props.mainComponentThis.floorplanGeneral.testPlans||[],selectedTestPlanIndex:null}),this.lastSavedCreatedPlanTestings=this.props.mainComponentThis.floorplanGeneral.testPlans||[]},this.showPanel=()=>{this.panelRef.current.style.transform="translateX(200px)",this.props.mainComponentThis.boxPlanName.current.style.paddingLeft="210px",this.props.mainComponentThis.boxInfo.current.style.left="230px",this.panelControl.current.style.transform="translateX(200px)",this.panelControl.current.title="Hide panel",this.panelControl.current.children[0].style.transform="rotate(0deg)"},this.hidePanel=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.panelRef.current.style.transform="translateX(0px)",e&&(t.props.mainComponentThis.boxPlanName.current.style.paddingLeft="30px",t.props.mainComponentThis.boxInfo.current.style.left="30px"),t.panelControl.current.style.transform="translateX(0px)",t.panelControl.current.title="Show panel",t.panelControl.current.children[0].style.transform="rotate(180deg)"},this.onPanelControlClick=()=>{"translateX(200px)"===this.panelControl.current.style.transform?this.hidePanel():this.showPanel()},this.saveTestPlans=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.render((0,u.jsx)(ra,{}),t.props.mainComponentThis.loadingComponentContainer.current,(()=>{let s={planGeneral:{...t.props.mainComponentThis.floorplanGeneral,testPlans:e}};b.post.call(t,"/plans/".concat(t.props.floorplanID),s,(()=>{t.mounted&&(t.props.mainComponentThis.floorplanGeneral=s.planGeneral,t.props.mainComponentThis.determineBoxPlanNameValue("remove_asterisk"),t.lastSavedCreatedPlanTestings=e.map((t=>({testLocations:t.testLocations.map((t=>({...t}))),testPlanNote:t.testPlanNote}))),t.setState({createdTestPlans:e},(()=>!!i&&i()))),n.unmountComponentAtNode(t.props.mainComponentThis.loadingComponentContainer.current)}))}))},this.handleTestPlanChange=()=>{this.newTestPlanIndex!==this.state.selectedTestPlanIndex&&(this.props.rightBoxRef.current.showRightBoxForTestPlan(this.state.createdTestPlans[this.newTestPlanIndex]),this.setState({selectedTestPlanIndex:this.newTestPlanIndex}))},this.saveTestPlanChangesBeforeSwitch=()=>{this.saveTestPlans(this.state.createdTestPlans,this.handleTestPlanChange)},this.discardTestPlanChangesBeforeSwitch=()=>{const t=[...this.state.createdTestPlans];t[this.state.selectedTestPlanIndex]=this.resetTestPlanToLastSavedState(this.state.selectedTestPlanIndex),this.setState({createdTestPlans:t},this.handleTestPlanChange)},this.onDeleteTestPlanConfirmClick=t=>{this.saveTestPlans(this.state.createdTestPlans.filter(((e,i)=>i!==t)),(()=>{0===this.state.createdTestPlans.length?(this.props.rightBoxRef.current.closeRightBox(),this.setState({selectedTestPlanIndex:null})):(this.newTestPlanIndex=Math.min(t,this.state.createdTestPlans.length-1),this.handleTestPlanChange())}))},this.isTestPlansSaveNeeded=()=>{for(let t=0;t<this.state.createdTestPlans.length;t++){if(this.state.createdTestPlans[t].testPlanNote!==this.lastSavedCreatedPlanTestings[t].testPlanNote)return!0;if(this.state.createdTestPlans[t].testLocations.length!==this.lastSavedCreatedPlanTestings[t].testLocations.length)return!0;for(let e=0;e<this.state.createdTestPlans[t].testLocations.length;e++)if(this.state.createdTestPlans[t].testLocations[e].locationNumber!==this.lastSavedCreatedPlanTestings[t].testLocations[e].locationNumber||this.state.createdTestPlans[t].testLocations[e].locationNote!==this.lastSavedCreatedPlanTestings[t].testLocations[e].locationNote)return!0}return!1},this.createNewEmpyTestPlan=()=>{this.newTestPlanIndex=this.state.createdTestPlans.length,this.saveTestPlans([...this.state.createdTestPlans,{testLocations:[],testPlanNote:""}],this.handleTestPlanChange)},this.createNewTestPlanFromSelectedTestPlanWithChanges=()=>{this.newTestPlanIndex=this.state.createdTestPlans.length;let t=[...this.state.createdTestPlans];t.push(this.createTestPlanFromAnother(this.state.createdTestPlans[this.state.selectedTestPlanIndex])),t[this.state.selectedTestPlanIndex]=this.resetTestPlanToLastSavedState(this.state.selectedTestPlanIndex),this.saveTestPlans(t,this.handleTestPlanChange)},this.createNewTestPlanFromSelectedTestPlan=()=>{this.newTestPlanIndex=this.state.createdTestPlans.length,this.saveTestPlans([...this.state.createdTestPlans,this.createTestPlanFromAnother(this.state.createdTestPlans[this.state.selectedTestPlanIndex])],this.handleTestPlanChange)},this.onNewTestPlanClick=()=>{0===this.state.createdTestPlans.length||null===this.state.selectedTestPlanIndex?this.createNewEmpyTestPlan():this.isTestPlansSaveNeeded()?wt(this.props.mainComponentThis.createNewTestPlanUnsavedChangesModal.current,this.props.mainComponentThis.modalTimeout):wt(this.props.mainComponentThis.createNewTestPlanModal.current,this.props.mainComponentThis.modalTimeout)},this.exitPlanTestingAndSaveChanges=()=>{this.saveTestPlans(this.state.createdTestPlans,(()=>this.props.mainComponentThis.onExitPlanTesting()))},this.onExitPlanTestingClick=()=>{this.isTestPlansSaveNeeded()?wt(this.props.mainComponentThis.exitPlanTestingUnsavedChangesAlertModal.current,this.props.mainComponentThis.modalTimeout):this.props.mainComponentThis.onExitPlanTesting()},this.state={createdTestPlans:[],selectedTestPlanIndex:null},this.showPanel=this.showPanel.bind(this),this.hidePanel=this.hidePanel.bind(this),this.onPlanTestingModeEnter=this.onPlanTestingModeEnter.bind(this),this.saveTestPlans=this.saveTestPlans.bind(this),this.handleTestPlanChange=this.handleTestPlanChange.bind(this),this.saveTestPlanChangesBeforeSwitch=this.saveTestPlanChangesBeforeSwitch.bind(this),this.discardTestPlanChangesBeforeSwitch=this.discardTestPlanChangesBeforeSwitch.bind(this),this.onDeleteTestPlanConfirmClick=this.onDeleteTestPlanConfirmClick.bind(this),this.createNewEmpyTestPlan=this.createNewEmpyTestPlan.bind(this),this.createNewTestPlanFromSelectedTestPlan=this.createNewTestPlanFromSelectedTestPlan.bind(this),this.createNewTestPlanFromSelectedTestPlanWithChanges=this.createNewTestPlanFromSelectedTestPlanWithChanges.bind(this),this.isTestPlansSaveNeeded=this.isTestPlansSaveNeeded.bind(this),this.onNewTestPlanClick=this.onNewTestPlanClick.bind(this),this.updateSelectedTestPlan=this.updateSelectedTestPlan.bind(this),this.createTestPlanFromAnother=this.createTestPlanFromAnother.bind(this),this.resetTestPlanToLastSavedState=this.resetTestPlanToLastSavedState.bind(this),this.onExitPlanTestingClick=this.onExitPlanTestingClick.bind(this),this.exitPlanTestingAndSaveChanges=this.exitPlanTestingAndSaveChanges.bind(this),this.onPanelControlClick=this.onPanelControlClick.bind(this),this.unSelectTestPlan=this.unSelectTestPlan.bind(this),this.panelRef=s.createRef(),this.panelControl=s.createRef(),this.panelPlanTestExplanationBox=s.createRef(),this.lastSavedCreatedPlanTestings=[],this.newTestPlanIndex=null,this.mounted=!1}componentWillUnmount(){this.mounted=!1}componentDidMount(){this.mounted=!0}render(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{ref:this.panelPlanTestExplanationBox,className:"panel-info-explanation-box",style:{width:"auto",maxWidth:200}}),(0,u.jsxs)(Vo,{panelRef:this.panelRef,panelControlRef:this.panelControl,panelControlStyles:{left:-30},onPanelControlClick:this.onPanelControlClick,children:[(0,u.jsx)("div",{className:"exit-plan-testing-container",children:(0,u.jsx)("div",{className:"svg-center-inside-container",title:"Exit plan testing mode",onClick:this.onExitPlanTestingClick,children:(0,u.jsx)(Ss.Z,{})})}),(0,u.jsxs)("ul",{className:"list-unstyled",children:[(0,u.jsx)("div",{className:"panel-option-buttons-container",children:this.state.createdTestPlans.map(((t,e)=>(0,u.jsxs)("div",{className:"panel-option-container",children:[(0,u.jsxs)("div",{className:"option-name-note-container",children:[(0,u.jsxs)("button",{title:"Test plan ".concat(e+1),className:"option-button btn ".concat(this.state.selectedTestPlanIndex===e?"btn-active":""),style:{margin:"5px 0"},onClick:()=>{this.newTestPlanIndex=e,this.isTestPlansSaveNeeded()?wt(this.props.mainComponentThis.switchTestPlanUnsavedChangesModal.current,this.props.mainComponentThis.modalTimeout):this.handleTestPlanChange()},children:[(0,u.jsx)("span",{className:"label-span",children:"Test plan\xa0"}),(0,u.jsx)("span",{children:e+1})]}),(0,u.jsx)("div",{className:"option-info",children:(0,u.jsx)(ti,{indoorPanelExplanationBox:this.panelPlanTestExplanationBox,infoText:'<div>\n                      <div>\n                        <span style="font-weight: bold;">'.concat(t.testPlanNote||"Empty note","</span>\n                      </div>\n                      </div>")})})]}),(0,u.jsx)("button",{className:"btn btn-default indoor-icon-button",title:"Delete test plan ".concat(e+1),onClick:()=>{this.props.mainComponentThis.deleteTestPlanIndexContainer.current.innerHTML=e+1,wt(this.props.mainComponentThis.deletePlanTestModal.current,this.props.mainComponentThis.modalTimeout)},children:(0,u.jsx)(Fn.Z,{})})]},"".concat(this.state.createdTestPlans.length,"+").concat(e))))}),(0,u.jsx)("br",{}),this.state.createdTestPlans.length>0&&(0,u.jsx)("li",{className:"panel-margin",children:(0,u.jsxs)("button",{className:"btn btn-default fully panel-icon-button-container",title:"Save test plan",onClick:()=>this.isTestPlansSaveNeeded()&&this.saveTestPlans(this.state.createdTestPlans),children:[(0,u.jsx)(Dn.Z,{}),(0,u.jsx)("p",{children:"SAVE"})]})}),(0,u.jsx)("li",{children:(0,u.jsxs)("button",{className:"btn btn-default fully panel-icon-button-container",title:"Create new test plan",onClick:this.onNewTestPlanClick,children:[(0,u.jsx)(ao,{}),(0,u.jsx)("p",{children:"NEW PLAN"})]})})]})]})]})}}const $d=_d;class tc extends s.Component{render(){return(0,u.jsxs)(Mi.BB,{author:"GLAMOS",title:"Test plan report",subject:"Test plan report for floorplan ".concat(this.props.floorplanID),children:[(0,u.jsxs)(Mi.T3,{wrap:!0,style:Li.pageWrapable,children:[(0,u.jsx)(Mi.G7,{style:{...Li.pageContainer,height:"auto"},children:(0,u.jsxs)(Mi.G7,{style:Li.pageContentContainerGeneral,children:[(0,u.jsx)(Mi.Ee,{style:Li.pageGeneralLogoImage,src:a}),(0,u.jsx)(Mi.xv,{style:Li.reportTitle,children:"Test plan report"}),(0,u.jsx)(Mi.G7,{style:Li.emptyRowLarge}),(0,u.jsxs)(Mi.G7,{style:{...Li.generalInfoRow,alignItems:"flex-start"},children:[(0,u.jsxs)(Mi.G7,{style:Li.generalInfoValueContainer,children:[(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyName,children:(0,u.jsx)(Mi.xv,{style:Li.boldText,children:"Report ID:"})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyName,children:(0,u.jsx)(Mi.xv,{style:Li.boldText,children:"Date of issue:"})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyName,children:(0,u.jsx)(Mi.xv,{style:Li.boldText,children:"Floorplan:"})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyName,children:(0,u.jsx)(Mi.xv,{style:Li.boldText,children:"GPS coordinates:"})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyName,children:(0,u.jsx)(Mi.xv,{style:Li.boldText,children:"Address:"})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyName,children:(0,u.jsx)(Mi.xv,{style:Li.boldText,children:"Test plan note:"})})]}),(0,u.jsxs)(Mi.G7,{style:Li.generalInfoValueContainer,children:[(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyValue,children:(0,u.jsx)(Mi.xv,{children:this.props.reportID})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyValue,children:(0,u.jsx)(Mi.xv,{children:D(new Date)})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyValue,children:(0,u.jsx)(Mi.xv,{children:this.props.floorplanName||"/"})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyValue,children:(0,u.jsx)(Mi.xv,{children:null!==this.props.floorplanGpsLatitude&&null!==this.props.floorplanGpsLongitude?"".concat(this.props.floorplanGpsLatitude,", ").concat(this.props.floorplanGpsLongitude):"/"})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoPropertyValue,children:(0,u.jsx)(Mi.xv,{children:this.props.floorplanAddress})}),(0,u.jsx)(Mi.G7,{style:{...Li.generalInfoPropertyValue,maxWidth:"80%"},children:(0,u.jsx)(Mi.xv,{style:{paddingRight:0},children:this.props.testPlanNote||"/"})})]})]})]})}),(0,u.jsxs)(Mi.G7,{style:{...Li.footerPageContainer,...Li.footerPageContainerFixed},fixed:!0,children:[(0,u.jsx)(Mi.Ee,{style:Li.footerLogo,src:a}),(0,u.jsx)(Mi.xv,{style:Li.pageNumber,render:t=>{let{pageNumber:e,totalPages:i}=t;return"Page ".concat(e," of ").concat(i)}})]})]}),this.props.testPlanLocations.length>0&&(0,u.jsxs)(Mi.T3,{wrap:!0,style:Li.pageWrapable,children:[(0,u.jsx)(Mi.G7,{style:{...Li.pageContainer,height:"auto"},children:(0,u.jsxs)(Mi.G7,{style:Li.pageContentContainer,children:[(0,u.jsx)(Mi.G7,{style:{...Li.generalInfoRow,...Li.fullWidth,paddingLeft:40},children:(0,u.jsx)(Mi.xv,{style:Li.boldText,children:"Testing locations:"})}),(0,u.jsx)(Mi.G7,{style:Li.generalInfoRow,children:(0,u.jsx)(Mi.G7,{style:Li.tableContainer,children:(0,u.jsxs)(Mi.G7,{style:Li.tableSubContainer,children:[(0,u.jsxs)(Mi.G7,{style:Li.tableHeaderRow,children:[(0,u.jsx)(Mi.G7,{style:{...Li.tableColumnHeader,...Li.boldText},children:(0,u.jsx)(Mi.xv,{children:"Location number"})}),(0,u.jsx)(Mi.G7,{style:{...Li.tableColumnHeader,...Li.boldText},children:(0,u.jsx)(Mi.xv,{children:"Location note"})})]}),(0,u.jsx)(Mi.G7,{children:this.props.testPlanLocations.map(((t,e)=>(0,u.jsxs)(Mi.G7,{style:Li.tableRow,children:[(0,u.jsx)(Mi.G7,{style:Li.tableColumnHeader,children:(0,u.jsx)(Mi.xv,{children:t.locationNumber})}),(0,u.jsx)(Mi.G7,{style:Li.tableColumnHeader,children:(0,u.jsx)(Mi.xv,{children:t.locationNote||"/"})})]},e)))})]})})})]})}),(0,u.jsxs)(Mi.G7,{style:{...Li.footerPageContainer,...Li.footerPageContainerFixed},fixed:!0,children:[(0,u.jsx)(Mi.Ee,{style:Li.footerLogo,src:a}),(0,u.jsx)(Mi.xv,{style:Li.pageNumber,render:t=>{let{pageNumber:e,totalPages:i}=t;return"Page ".concat(e," of ").concat(i)}})]})]}),(0,u.jsx)(Mi.T3,{children:(0,u.jsxs)(Mi.G7,{style:Li.pageContainer,children:[(0,u.jsxs)(Mi.G7,{style:{...Li.pageContentContainer,maxHeight:"95%"},children:[(0,u.jsx)(Mi.G7,{style:{...Li.reportSubTitle,marginTop:10},children:(0,u.jsx)(Mi.xv,{children:"Test plan"})}),(0,u.jsx)(Mi.G7,{children:(0,u.jsx)(Mi.Ee,{style:{marginTop:2,width:"100%",height:"auto",objectFit:"contain"},src:this.props.planTestImageDataURI})})]}),(0,u.jsxs)(Mi.G7,{style:{...Li.footerPageContainer,...Li.footerPageContainerFixed},children:[(0,u.jsx)(Mi.Ee,{style:Li.footerLogo,src:a}),(0,u.jsx)(Mi.xv,{style:Li.pageNumber,render:t=>{let{pageNumber:e,totalPages:i}=t;return"Page ".concat(e," of ").concat(i)}})]})]})})]})}}const ec=tc;var ic=i(7254),sc=i(1317);class nc extends s.Component{constructor(){super(),this.resetPdfReport=()=>{this.pdfDoc=null,this.setState({pdfReportReady:!1})},this.generatePdfReportTestPlanImage=(t,e,i)=>{this.props.mainComponentThis.downloadSvg(!1,!1,!1,!1,!1,!1,!0).then((s=>{this.pdfDoc=(0,u.jsx)(ec,{floorplanID:this.props.mainComponentThis.getFloorplanID(),reportID:(0,ic.DO)(),floorplanName:this.props.mainComponentThis.getFloorplanName(),floorplanGpsLatitude:t,floorplanGpsLongitude:e,floorplanAddress:i||"/",testPlanNote:this.props.testPlanNote,planTestImageDataURI:s,testPlanLocations:this.props.testPlanLocations}),this.setState({pdfReportReady:!0})})).catch((t=>{sc.log(t),n.unmountComponentAtNode(this.props.mainComponentThis.loadingComponentContainer.current),this.props.mainComponentThis.boxInfo.current.innerHTML="Ooops. An error happened during pdf report preparation."}))},this.generatePdfReport=()=>{this.state.pdfReportReady||n.render((0,u.jsx)(ra,{whiteSpinnerBackground:!0}),this.props.mainComponentThis.loadingComponentContainer.current,(()=>{this.setState({pdfReportReady:!1},(()=>{const t=R(this.props.mainComponentThis.floorplanGeneral.gps_latitude)?null:this.props.mainComponentThis.floorplanGeneral.gps_latitude,e=R(this.props.mainComponentThis.floorplanGeneral.gps_longitude)?null:this.props.mainComponentThis.floorplanGeneral.gps_longitude;null!==t&&null!==e?z.call(this,t,e,null).then((i=>{this.generatePdfReportTestPlanImage(t,e,i)})).catch((t=>{sc.log(t),n.unmountComponentAtNode(this.props.mainComponentThis.loadingComponentContainer.current)})):this.generatePdfReportTestPlanImage(t,e,"")}))}))},this.state={pdfReportReady:!1},this.pdfDoc=null,this.mounted=!1,this.generatePdfReport=this.generatePdfReport.bind(this),this.generatePdfReportTestPlanImage=this.generatePdfReportTestPlanImage.bind(this),this.resetPdfReport=this.resetPdfReport.bind(this)}componentWillUnmount(){this.mounted=!1}componentDidMount(){this.mounted=!0}render(){return(0,u.jsx)("div",{className:"button-centered-container",children:(0,u.jsx)(Ue,{type:"primary",onClick:this.generatePdfReport,children:this.state.pdfReportReady?(0,u.jsx)(Mi.WD,{style:{color:"#ffffff"},document:this.pdfDoc,fileName:"GLAMOS_test_plan_".concat("".concat((new Date).getDate().toString().padStart(2,"0"),"_").concat(((new Date).getMonth()+1).toString().padStart(2,"0"),"_").concat((new Date).getFullYear()),".pdf"),children:t=>{let{blob:e,url:i,loading:s,error:o}=t;return o?(setTimeout((()=>{n.unmountComponentAtNode(this.props.mainComponentThis.loadingComponentContainer.current)}),0),"Can't generate report"):!s&&e&&i?!s&&!o&&e&&i?(setTimeout((()=>{n.unmountComponentAtNode(this.props.mainComponentThis.loadingComponentContainer.current)}),0),"Download PDF report!"):void 0:"Loading report..."}}):"Generate PDF report"})})}}const oc=nc;class ac extends s.Component{constructor(){super(),this.showRightBoxForTestPlan=t=>{Ot(this.props.mainComponentThis.testPlanLocationsBox.current),this.props.mainComponentThis.removeBinder(),this.state.addTestingLocationsMode&&this.exitSetLocationsModeActions(),this.rightBoxControlClick.current.style.right="0px",this.showRightBox();for(let e=0;e<t.testLocations.length;e++)this.props.mainComponentThis.createTestingLocationObject(t.testLocations[e].x,t.testLocations[e].y,t.testLocations[e].locationNumber,this.props.mainComponentThis.testPlanLocationsBox);this.generatePdfComponentRef.current.resetPdfReport(),this.setState({testPlanLocations:t.testLocations,testPlanNote:t.testPlanNote,addTestingLocationsMode:!1})},this.showRightBox=()=>{this.props.mainComponentThis.translateRightBox(this.containerRef.current,-250,!0),this.rightBoxControlClick.current.style.transform="translateX(-250px)",this.rightBoxControlClick.current.title="Hide test plan",this.rightBoxControlClick.current.children[0].style.transform="rotate(180deg)"},this.hideRightBox=()=>{this.props.mainComponentThis.translateRightBox(this.containerRef.current,0,!1),this.rightBoxControlClick.current.style.transform="translateX(0px)",this.rightBoxControlClick.current.title="Show test plan",this.rightBoxControlClick.current.children[0].style.transform="rotate(0deg)"},this.closeRightBox=()=>{this.rightBoxControlClick.current.style.right="-30px",this.hideRightBox()},this.onCloseRightBoxClick=()=>{this.closeRightBox(),this.props.leftPanelRef.current.unSelectTestPlan(),this.props.mainComponentThis.removeBinder(),Ot(this.props.mainComponentThis.testPlanLocationsBox.current),this.state.addTestingLocationsMode&&(this.exitSetLocationsModeActions(),this.setState({addTestingLocationsMode:!1}))},this.onRightBoxControlClick=()=>{"translateX(-250px)"===this.rightBoxControlClick.current.style.transform?this.hideRightBox():this.showRightBox()},this.handleTestPlanLocationInputChange=(t,e)=>{const i=this.state.testPlanLocations.map(((i,s)=>s===e?{...i,locationNote:t}:i));this.setState({testPlanLocations:i},(()=>this.props.leftPanelRef.current.updateSelectedTestPlan(i,"testLocations")))},this.handleTestPlanNoteInputChange=t=>{const e=t.target.value;this.setState({testPlanNote:e},(()=>this.props.leftPanelRef.current.updateSelectedTestPlan(e,"testPlanNote")))},this.onRemoveTestLocationClick=t=>{const e=this.state.testPlanLocations[t].locationNumber;let i=[...this.state.testPlanLocations];for(let o=0;o<i.length;o++)o>t&&i[o].locationNumber--;i.splice(t,1);const s=this.props.mainComponentThis.testPlanLocationsBox.current.children;let n;for(let o of s)parseInt(o.textContent)===e?n=o:parseInt(o.textContent)>e&&(o.textContent=parseInt(o.textContent)-1);n.remove(),this.setState({testPlanLocations:i},(()=>this.props.leftPanelRef.current.updateSelectedTestPlan(i,"testLocations")))},this.exitSetLocationsModeActions=()=>{this.props.mainComponentThis.removeBinder(),Ot(this.props.mainComponentThis.indoorPlanningCorrectAreaBox.current),this.props.mainComponentThis.mode="plan_testing_mode"},this.onSetLocationsButtonClick=()=>{this.state.addTestingLocationsMode?this.exitSetLocationsModeActions():(this.props.mainComponentThis.createIndoorPlanningCorrectArea(),this.props.mainComponentThis.mode="set_testing_locations_active"),this.setState({addTestingLocationsMode:!this.state.addTestingLocationsMode})},this.onTestLocationAddedHandler=(t,e,i)=>{const s=[...this.state.testPlanLocations,{x:e,y:i,locationNumber:t,locationNote:""}];this.setState({testPlanLocations:s},(()=>this.props.leftPanelRef.current.updateSelectedTestPlan(s,"testLocations")))},this.state={testPlanLocations:[],testPlanNote:"",addTestingLocationsMode:!1},this.showRightBoxForTestPlan=this.showRightBoxForTestPlan.bind(this),this.closeRightBox=this.closeRightBox.bind(this),this.showRightBox=this.showRightBox.bind(this),this.hideRightBox=this.hideRightBox.bind(this),this.handleTestPlanLocationInputChange=this.handleTestPlanLocationInputChange.bind(this),this.handleTestPlanNoteInputChange=this.handleTestPlanNoteInputChange.bind(this),this.onRemoveTestLocationClick=this.onRemoveTestLocationClick.bind(this),this.onSetLocationsButtonClick=this.onSetLocationsButtonClick.bind(this),this.exitSetLocationsModeActions=this.exitSetLocationsModeActions.bind(this),this.onTestLocationAddedHandler=this.onTestLocationAddedHandler.bind(this),this.onCloseRightBoxClick=this.onCloseRightBoxClick.bind(this),this.onRightBoxControlClick=this.onRightBoxControlClick.bind(this),this.containerRef=s.createRef(),this.rightBoxControlClick=s.createRef(),this.generatePdfComponentRef=s.createRef()}render(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsxs)(Ba,{containerRef:this.containerRef,containerClasses:"plan-testing-right-box-container",onCloseRightBox:this.onCloseRightBoxClick,children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"info-tab-title",children:"TESTING LOCATIONS"}),this.state.testPlanLocations.length>0?(0,u.jsxs)("table",{className:"table",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"#"}),(0,u.jsx)("th",{children:"Note"})]})}),(0,u.jsx)("tbody",{children:this.state.testPlanLocations.map(((t,e)=>(0,u.jsxs)("tr",{className:"location-table-row",children:[(0,u.jsx)("td",{className:"position-number",children:t.locationNumber}),(0,u.jsxs)("td",{children:[(0,u.jsx)("div",{className:"text-area-container",children:(0,u.jsx)("textarea",{rows:1,style:{fontFamily:"inherit"},placeholder:"Insert location notes",className:"form-control input",value:t.locationNote,type:"text",onChange:t=>this.handleTestPlanLocationInputChange(t.target.value,e)})}),(0,u.jsx)("div",{className:"svg-center-inside-container remove-location-icon-container",title:"Remove testing location ".concat(t.locationNumber),onClick:()=>this.onRemoveTestLocationClick(e),children:(0,u.jsx)(Fn.Z,{className:"remove-location-icon"})})]})]},"".concat(this.state.testPlanLocations.length,"+").concat(e))))})]}):(0,u.jsx)("br",{}),(0,u.jsx)("div",{className:"button-centered-container",children:(0,u.jsx)(Ue,{type:this.state.addTestingLocationsMode?"blue":"light-blue",onClick:this.onSetLocationsButtonClick,children:this.state.addTestingLocationsMode?"Done":"Add locations"})})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"info-tab-title",children:"TEST NOTE"}),(0,u.jsx)("div",{className:"data-row",children:(0,u.jsx)("textarea",{style:{fontFamily:"inherit"},placeholder:"Insert plan test notes",className:"form-control input",value:this.state.testPlanNote,type:"text",onChange:this.handleTestPlanNoteInputChange})})]}),(0,u.jsx)("br",{}),(0,u.jsx)(oc,{ref:this.generatePdfComponentRef,testPlanNote:this.state.testPlanNote,testPlanLocations:this.state.testPlanLocations,mainComponentThis:this.props.mainComponentThis,setResponseError:this.props.setResponseError})]}),(0,u.jsx)("div",{ref:this.rightBoxControlClick,title:"Hide test plan",className:"panel-control-container right-box-control right-box-transition svg-center-inside-container",style:{right:-30},onClick:this.onRightBoxControlClick,children:(0,u.jsx)(Go.Z,{className:"right-box-transition"})})]})}}const rc=ac;var lc=i(1317);class hc extends s.Component{constructor(t,e){super(t),this.getGatewaysData=()=>this.state.gatewaysData,this.state={responseError:null,gatewaysData:[]},this.mounted=!1,this.useGenerateHMWebWorkers="undefined"!==typeof Worker&&"undefined"!==typeof OffscreenCanvas,this.currentRouteID=t.routeID,this.WALLS=[],this.ORPHANWALLS=[],this.OBJDATA=[],this.ROOM=[],this.HISTORY=[],this.wallIdCounter=0,this.roomIdCounter=0,this.drag="off",this.action=0,this.magnetic=0,this.construc=0,this.wallDrawingStartClick=!1,this.nearWallNodeRange=10,this.Rcircle=4,this.wallBinderBallsRadius=4,this.wallBinderPulsingBallRadius=5,this.nearWallBinderRadius=6,this.nearWallConstrucRadius=12,this.wallThicknessMinValue="metric"===e.userUnit?3:1,this.wallThicknessMaxValue="metric"===e.userUnit?50:20,this.wallWidthInputStep=.1,this.wallWidthDecimalPrecision=-Math.log10(this.wallWidthInputStep),this.wallLengthInputStep="metric"===e.userUnit?.01:.1,this.wallLengthDecimalPrecision=-Math.log10(this.wallLengthInputStep),this.doorWidthMinValue="metric"===e.userUnit?40:15,this.doorWidthMaxValue="metric"===e.userUnit?120:50,this.windowWidthMinValue="metric"===e.userUnit?30:10,this.windowWidthMaxValue="metric"===e.userUnit?300:120,this.doorWindowWidthInputStep="metric"===e.userUnit?1:.1,this.doorWindowWidthDecimalPrecision=-Math.log10(this.doorWindowWidthInputStep),this.roomSurfaceInputStep=.1,this.roomSurfaceDecimalPrecision=-Math.log10(this.roomSurfaceInputStep),this.mode="select_mode",this.modeOption=void 0,this.taille_w=null,this.taille_h=null,this.offset=null,this.grid=20,this.showRib=!0,this.meter=30,this.imperialSystemSquareFeetSize=3,this.wallThicknessDefaultValue="metric"===e.userUnit?16:6,this.wallSize=He(this.wallThicknessDefaultValue,e.userUnit,"metric"===e.userUnit?"centimeter":"inch","meter",!0)*this.meter,this.doorSize=.7*this.meter,this.windowSize=.8*this.meter,this.grid_snap="off",this.colorWall="#666",this.pox=0,this.poy=0,this.touchZoomDollyStartDistance=null,this.touchZoomDollyEndDistance=null,this.touchStartPageCoordinates=null,this.touchZoomTouches=[],this.zoomTouchFocusPoint=null,this.wallStartX=0,this.wallStartY=0,this.smallScreenPixelSize=600,this.smallScreenMinimizedPanelSize=t.isHeatmap?90:50,this.smallScreenMaximizedPanelSize=150,this.bigScreenMinimizedPanelSize=100,this.bigScreenMaximizedPanelSize=200,this.width_viewbox=null,this.height_viewbox=null,this.ratio_viewbox=null,this.originX_viewbox=0,this.originY_viewbox=0,this.defaultZoomLevel=9,this.zoom=this.defaultZoomLevel,this.zoomXMove=200,this.zoomXMoveOnMapScaleFactor=20,this.zoomXView=50,this.maxZoomOutLevel=-1/0,this.maxZoomInLevelDefaultValue=15,this.maxZoomInLevel=this.maxZoomInLevelDefaultValue,this.zoomFactor=1,this.save_and_create_new=!1,this.saveNeeded=!1,this.globalArea=null,this.snap=null,this.lineIntersectionP=null,this.sizeText=[],this.showAllSizeStatus=0,this.editor=null,this.qSVG=null,this.binder=null,this.selectedBinder=null,this.selectedRoomId=null,this.equation1=null,this.equation2=null,this.equation3=null,this.Rooms=null,this.wallEndConstruc=!1,this.lengthTemp=null,this.wallListRun=[],this.wallListObj=[],this.equationFollowers=[],this.equationsObj=[],this.x=void 0,this.y=void 0,this.distX=null,this.distY=null,this.multiChecked=!0,this.showBoxGridChecked=!0,this.decimalPrecision=12,this.boxWallCoordinates=null,this.exportPngShowGrid=!1,this.exportPngShowMeasures=!1,this.lastSavedObject=null,this.exportPngResolutionScale=4,this.selectedWallMaterial="Unknown",this.wallMaterials=rt,this.modalTimeout=500,this.othersTimeout=200,this.floorplanGeneral=null,this.floorplanLastSavedTopLeftSvgCoords=null,this.simulateTestingCanvasContext=null,this.testLocationNumberDefaultSizes={radius:this.meter/2,fontSize:15},this.simulateTestingAnimationMaxFloorplanSurface="metric"===e.userUnit?70:750,this.positionsData=[],this.currentHeatmap2DViewRenderedPositions=[],this.positionsWidgetData=[],this.gatewaysTableData=[],this.positionsPopupParameters=[],this.selectedFloorplanInfo=null,this.heatmapParams=null,this.infoTabData=null,this.heatmapGenerated=!1,this.generatedHeatmapParameters={},this.heatmapCanvasZoomFactor=1,this.heatmapCanvasContext=null,this.heatmapHelperCanvasContext=null,this.heatmapPaletteCanvas=null,this.heatmapGradient=null,this.currentHeatmap2DViewColoredCanvas=null,this.heatmapHelperCanvasImage=null,this.heatmapPositionStandardRadius=1.2*this.meter,this.heatmapRssiColorMin=-135,this.heatmapRssiColorMax=-75,this.heatmapRssiColorRangeMin=-140,this.heatmapRssiColorRangeMax=-20,this.heatmapGatewaysPerMessageColorMin=1,this.heatmapGatewaysPerMessageColorMax=null,this.heatmapGatewaysPerMessageRangeColorMin=1,this.heatmapGatewaysPerMessageRangeColorMax=1,this.heatmapPositionMinRadius=30,this.doublePI=2*Math.PI,this.drawShapeLine=!1,this.drawShapeColor=!0,this.gatewayBinderOptions={},this.positionBinderNumber=null,this.selectedPositionDataGateways=[],this.selectedPositionDataAntennas=[],this.selectedPositionDataSfs=[],this.heatmapPositionDataSelectedOption="Max RSSI",this.heatmapOptionPositionDrawingOptions=[],this.heatmapOptionNote="",this.heatmapOptionFloorNumber="",this.allPositionsObjData=[],this.heatmapOptions=[],this.currentHeatmapOptionIndex=0,this.targetHeatmapOptionIndex=0,this.noHeatmapNameEdit=!1,this.showHeatmapPositionNumbers=!0,this.showHeatmapDeadPositions=!1,this.svgPositionsHidden=!1,this.isHeatmapView=!1,this.deleteHeatmapOptionIndex=null,this.drawingAreaPopupActive=null,this.heatmapGeneral=null,this.filteredMessagesCount=0,this.stayOnOlderHeatmapFloorplanCallback=null,this.updateHeatmapFloorplanCallback=null,this.hideDrawingAreaPopup=!1,this._map=null,this.mapCornersGpsCoords=[],this.mapCornerCoordsDebug=!1,this.generateHeatmapInProcess=!1,this.floorplanRoomsClippingCanvas=null,this.simulateTestingSourceLocationIsValid=!1,this.showHeatmapPositionsArrangeOption=!1,this.linRef=s.createRef(),this.gridSvgElementRef=s.createRef(),this.mapLayer2DContainerRef=s.createRef(),this.floorplan3DContainerRef=s.createRef(),this.showFloorplanOnMapContainerRef=s.createRef(),this.wallTurnCWSystemExceptionModal=s.createRef(),this.floorplan3DComponent=s.createRef(),this.recoverRef=s.createRef(),this.initialModal=s.createRef(),this.boxPlanName=s.createRef(),this.undoButton=s.createRef(),this.redoButton=s.createRef(),this.undoRedoContainer=s.createRef(),this.boxFloorplanImage=s.createRef(),this.boxSurface=s.createRef(),this.boxRoom=s.createRef(),this.boxWall=s.createRef(),this.boxArea=s.createRef(),this.boxText=s.createRef(),this.boxDebug=s.createRef(),this.indoorPlanningCorrectAreaBox=s.createRef(),this.testPlanLocationsBox=s.createRef(),this.boxCarpentry=s.createRef(),this.boxGridRef=s.createRef(),this.boxScale=s.createRef(),this.boxRib=s.createRef(),this.boxBind=s.createRef(),this.uploadFloorplanPanelButtonContainer=s.createRef(),this.newFloorplanModalWithSave=s.createRef(),this.newFloorplanModalNoSave=s.createRef(),this.saveFloorplanModal=s.createRef(),this.textToLayerModal=s.createRef(),this.floorplanNameInput=s.createRef(),this.boxInfo=s.createRef(),this.wallWidthValue=s.createRef(),this.wallLengthValue=s.createRef(),this.objBoundingBox=s.createRef(),this.bboxRotationVal=s.createRef(),this.bboxFontSizeVal=s.createRef(),this.doorWindowWidthVal=s.createRef(),this.labelBox=s.createRef(),this.textLayerModalContent=s.createRef(),this.showFloorplanNoWallsErrorModal=s.createRef(),this.show3DNewHeatmap=s.createRef(),this.panel=s.createRef(),this.sizePoliceInputSlider=s.createRef(),this.showRibRef=s.createRef(),this.showBoxGrid=s.createRef(),this.showMapLayer2DInputRef=s.createRef(),this.roomTools=s.createRef(),this.wallTools=s.createRef(),this.simulateTestingOptionsRef=s.createRef(),this.wallButtonContainer=s.createRef(),this.roomName=s.createRef(),this.objTools=s.createRef(),this.roomNameSelectRef=s.createRef(),this.wallMaterialSelectRef=s.createRef(),this.scaleVal=s.createRef(),this.selectMode=s.createRef(),this.lineMode=s.createRef(),this.textMode=s.createRef(),this.doorMode=s.createRef(),this.windowMode=s.createRef(),this.tableMode=s.createRef(),this.roomMode=s.createRef(),this.layerMode=s.createRef(),this.layerList=s.createRef(),this.gridMode=s.createRef(),this.floorplanImageTools=s.createRef(),this.floorplanImagePattern=s.createRef(),this.floorplanImage=s.createRef(),this.areaValue=s.createRef(),this.roomSurface=s.createRef(),this.objToolsHinge=s.createRef(),this.wallLength=s.createRef(),this.objBoundingBoxTextContent=s.createRef(),this.objBoundingBoxColor=s.createRef(),this.doorWindowWidthScale=s.createRef(),this.multipleWallDrawing=s.createRef(),this.wallWidth=s.createRef(),this.doorWindowWidth=s.createRef(),this.modifyFontSizeSlider=s.createRef(),this.modifyTextContent=s.createRef(),this.bboxRotation=s.createRef(),this.rightControlsBox=s.createRef(),this.panelControl=s.createRef(),this.objToolsTitleRef=s.createRef(),this.objToolsDeleteButtonText=s.createRef(),this.roomNameDropdownMenu=s.createRef(),this.wallMaterialDropdownMenu=s.createRef(),this.uploadFloorplanImageMode=s.createRef(),this.loadingComponentContainer=s.createRef(),this.uploadImageFloorplanSettingsIconRef=s.createRef(),this.uploadFloorplanImageStatusContainerRef=s.createRef(),this.uploadImageFloorplanHideRef=s.createRef(),this.uploadImageFloorplanShowRef=s.createRef(),this.uploadFloorplanImageErrorModal=s.createRef(),this.uploadFloorplanImageErrorMessageRef=s.createRef(),this.wallMaterialButtonRef=s.createRef(),this.wallMaterialListRef=s.createRef(),this.wallDrawingAltHint=s.createRef(),this.wallWidthNumberSliderInput=s.createRef(),this.objBoundingBoxRotationNumberSliderInput=s.createRef(),this.objBoundingBoxFontSizeNumberSliderInput=s.createRef(),this.doorWindowWidthNumberSliderInput=s.createRef(),this.sizePoliceNumberSliderInput=s.createRef(),this.wallThickness=s.createRef(),this.uploadFloorplanImageToolsRef=s.createRef(),this.simulateTestingCanvasRef=s.createRef(),this.planTestingLeftPanelRef=s.createRef(),this.planTestingRightBoxRef=s.createRef(),this.deletePlanTestModal=s.createRef(),this.deleteTestPlanIndexContainer=s.createRef(),this.createNewTestPlanUnsavedChangesModal=s.createRef(),this.createNewTestPlanModal=s.createRef(),this.switchTestPlanUnsavedChangesModal=s.createRef(),this.exitPlanTestingUnsavedChangesAlertModal=s.createRef(),this.simulateTestingAnimationLargeFloorplanAlertModal=s.createRef(),this.heatmapCanvas=s.createRef(),this.heatmapHelperCanvas=s.createRef(),this.positionOutsideRoomHeatmapErrorRef=s.createRef(),this.saveHeatmapModal=s.createRef(),this.heatmapNameInput=s.createRef(),this.objBoundingBoxInfo=s.createRef(),this.positionsDataFilterRef=s.createRef(),this.showGatewaysSelectRef=s.createRef(),this.positionDataOptionsRef=s.createRef(),this.saveHeatmapOptionAlertModal=s.createRef(),this.saveHeatmapOptionAsModal=s.createRef(),this.saveHeatmapOptionAsAlertModal=s.createRef(),this.optionButtonsContainerRef=s.createRef(),this.heatmapDeleteOptionAlertModal=s.createRef(),this.heatmapDeleteOptionModal=s.createRef(),this.deleteOptionIndexContainer=s.createRef(),this.heatmapParametersRef=s.createRef(),this.drawingAreaPopup=s.createRef(),this.popupContentRef=s.createRef(),this.showHeatmapPositionNumbersRef=s.createRef(),this.showHeatmapDeadPositionsRef=s.createRef(),this.positionDrawingRef=s.createRef(),this.objToolsBreakLine=s.createRef(),this.heatmapOptionNoteRef=s.createRef(),this.heatmapFloorNumberRef=s.createRef(),this.positionRadiusInput=s.createRef(),this.heatmapColorErrorModal=s.createRef(),this.heatmapCreateNewUnsavedAlertModal=s.createRef(),this.heatmapFloorplanNeedsUpdateModal=s.createRef(),this.panelInfoExplanationBox=s.createRef(),this.panelOptionNoteExplanationBox=s.createRef(),this.gatewaysFilterRef=s.createRef(),this.heatmapColorRangeRef=s.createRef(),this.rssiColorHeatmapLegendContainer=s.createRef(),this.positionsDataVisualizationRef=s.createRef(),this.layersListArrowRef=s.createRef(),this.positionDrawingSystemExceptionErrorRef=s.createRef(),this.heatmapExportPngErrorModal=s.createRef(),this.heatmapDownloadPdfErrorModal=s.createRef(),this.pdfReportRef=s.createRef(),this.wallOptionsContainer=s.createRef(),this.heatmapRightBoxRef=s.createRef(),this.simulateTestingRightBoxRef=s.createRef(),this.mapStylesChangeRef=s.createRef(),this.generateHeatmapErrorModal=s.createRef(),this.showMapLayer2D3DRef=s.createRef(),this.heatmapColorLegendRef=s.createRef(),this.indoorPlanningLabelRef=s.createRef(),this.arrangeHeatmapPositionsByTestPlanContainerRef=s.createRef(),this.onShow3DClick=Xp.bind(this),this.initHistory=ml.bind(this),this.resetHistory=ul.bind(this),this.save=Al.bind(this),this.isSaveNeeded=xl.bind(this),this.determineBoxPlanNameValue=gl.bind(this),this.load=fl.bind(this),this.removeSelectedBinder=Vr.bind(this),this.removeBinder=zr.bind(this),this.undoClickSetPositionOptionsCallback=Wh.bind(this),this.onUndoClick=Hh.bind(this),this.redoClickSetPositionOptionsCallback=Gh.bind(this),this.onRedoClick=Eh.bind(this),this.exportFloorplanPngOnLoadCallback=rl.bind(this),this.downloadSvg=ll.bind(this),this.onCreateNewButtonClick=yl.bind(this),this.onModalCreateNewEmptyFloorplanClick=wl.bind(this),this.onModalCreateNewFloorplanFromCurrentClick=vl.bind(this),this.onSaveFloorplan=Il.bind(this),this.clearFloorplan=jl.bind(this),this.onSaveAndCreateNewFloorplanClick=Sl.bind(this),this.onDontSaveAndCreateNewFloorplanClick=Tl.bind(this),this.onModalSaveFloorplanClick=Pl.bind(this),this.onWallWidthInputChange=ud.bind(this),this.setSelectedWallBinderLength=Er.bind(this),this.onWallLengthInputChange=gd.bind(this),this.onObjectBBoxDeleteClick=xd.bind(this),this.onBBoxRotationChange=Ad.bind(this),this.onDoorWindowWidthChange=fd.bind(this),this.onObjToolsHingeClick=Cd.bind(this),this.onSizePoliceChange=bd.bind(this),this.onModifyFontSizeChange=yd.bind(this),this.onModifyTextContentChange=wd.bind(this),this.onShowBoxGridClick=Sd.bind(this),this.onShowOnMapLayer2DClick=Td.bind(this),this.onApplySurfaceClick=Pd.bind(this),this.onShowRibClick=vd.bind(this),this.onResetRoomToolsClick=Id.bind(this),this.onWallTrashClick=jd.bind(this),this.onTextEditorColorButtonClick=Rd.bind(this),this.onModifyTextColorButonClick=Md.bind(this),this.onZoomButonClick=Nd.bind(this),this.onFloorplanGpsCoordsClick=kd.bind(this),this.onSimulateTestingClick=Od.bind(this),this.onPlanTestingClick=Fd.bind(this),this.onExitPlanTesting=Wd.bind(this),this.onObjTrashButtonClick=Bd.bind(this),this.onRoomNameItemClick=Dd.bind(this),this.zoom_maker=Ir.bind(this),this.handleMouseMove=ln.bind(this),this.handleMouseDown=Pn.bind(this),this.handleMouseUp=Sn.bind(this),this.handleMouseWheel=In.bind(this),this.handleTouchStart=jn.bind(this),this.handleTouchMove=Mn.bind(this),this.handleTouchEnd=Bn.bind(this),this.heatmapObjectBinderCreation=Ks.bind(this),this.textAndUploadFloorplanImageBinderCreation=_s.bind(this),this.roomModeBinderCreation=$s.bind(this),this.tableModeBinderCreation=tn.bind(this),this.doorModeBinderCreation=en.bind(this),this.selectModeObj2DWallNodeWallSegmentBinderCreation=sn.bind(this),this.lineModeNearWallHleperBinderCreation=nn.bind(this),this.indoorPlanningBinderCreation=on.bind(this),this.centerAndShowWholeFloorplan=vr.bind(this),this.centerAndShowFloorplanAndUploadedFloorplanImage=Dr.bind(this),this.isOverMaxZoomIn=Lr.bind(this),this.isOverMaxZoomOut=Nr.bind(this),this.determineMaxZoomInLevel=kr.bind(this),this.setScaleValueWidth=Or.bind(this),this.centerAndShowWholeBoxOperations=wr.bind(this),this.showWholeBoxZoom=yr.bind(this),this.setZoomParameters=Pr.bind(this),this.zoomToSpecificLevel=Tr.bind(this),this.calcul_snap=Xl.bind(this),this.calcul_snap_inverse=Yl.bind(this),this.minMoveGrid=Zl.bind(this),this.intersectionOff=Mh.bind(this),this.intersection=Bh.bind(this),this.hideAllSize=Ih.bind(this),this.inWallRib=jh.bind(this),this.rib=Rh.bind(this),this.cursor=Ql.bind(this),this.razButton=il.bind(this),this.foncButton=sl.bind(this),this.onLayerModeClick=Ur.bind(this),this.onRoomModeClick=Jr.bind(this),this.onSelectModeClick=Xr.bind(this),this.onLineModeClick=Yr.bind(this),this.onDoorModeClick=Zr.bind(this),this.onWindowModeClick=Kr.bind(this),this.onTableModeClick=Qr.bind(this),this.onTextModeClick=_r.bind(this),this.onUploadFloorplanImageClick=tl.bind(this),this.handleKeyDown=md.bind(this),this.handleWindowResize=cd.bind(this),this.hideRightBox=th.bind(this),this.showHideLeftRightBoxes=eh.bind(this),this.isSmallScreen=nh.bind(this),this.isPanelMaximized=sh.bind(this),this.onPanelMouseMove=dd.bind(this),this.onWallToolsCloseClick=od.bind(this),this.onDoorWindowCloseClick=ad.bind(this),this.onRecoverDrafPlanClick=pl.bind(this),this.onCreateEmptyPlanClick=dl.bind(this),this.onSaveFloorplanModalCancel=cl.bind(this),this.onTextEditorApplyClick=hd.bind(this),this.onTextEditorCancelClick=pd.bind(this),this.onObjBoundingBoxBackButtonClick=id.bind(this),this.translateRightBox=_l.bind(this),this.onMultiChange=nd.bind(this),this.onPanelControlClick=Qp.bind(this),this.minimizePanel=Yp.bind(this),this.maximizePanel=Zp.bind(this),this.hideActiveRightBox=Kl.bind(this),this.hideSubItems=el.bind(this),this.isFloorplanEmpty=Cl.bind(this),this.isFloorplanNoWalls=bl.bind(this),this.onUploadedFloorplanImageStatusChangeClick=$r.bind(this),this.resizeAndKeyDownEventListenersControl=Jp.bind(this),this.onWallMaterialListItemClick=Ld.bind(this),this.onWallMaterialButtonHover=rd.bind(this),this.onWallMaterialClick=ld.bind(this),this.restoreSelectedBinder=Wr.bind(this),this.setWallToolsValues=Nh.bind(this),this.createRoomPath=Hr.bind(this),this.createRoomBinderPath=Gr.bind(this),this.setRoomToolsValues=Lh.bind(this),this.setDoorWindowToolsValue=Oh.bind(this),this.setTextToolsValue=kh.bind(this),this.carpentryCalc=$l.bind(this),this.onSaveHeatmap=Fl.bind(this),this.onHeatmapSaveAsClick=Ml.bind(this),this.onSaveAsHeatmapOptionConfirmClick=Bl.bind(this),this.onSaveAsHeatmapOptionCreateClick=Dl.bind(this),this.discardHeatmapOptionChanges=Ll.bind(this),this.onGenerateHeatmapClick=Kp.bind(this),this.generateHeatmap=cr.bind(this),this.generateHeatmapPositionsGatewaysDrawing=xr.bind(this),this.createHeatmapGeometryWorker=mr.bind(this),this.createPositionToAlphaCanvasWorker=ur.bind(this),this.positionsCalculateGeometryDrawToAlphaCanvasFinishedCallback=gr.bind(this),this.onSaveHeatmapButtonClick=Wl.bind(this),this.exportHeatmapPngOnLoadCallback=al.bind(this),this.getGatewaysFromPositionsData=pn.bind(this),this.drawToHeatmapCanvases=jr.bind(this),this.heatmapZoomTranslateControl=Mr.bind(this),this.simulateTestingCanvasZoomTranslateControl=Rr.bind(this),this.drawingAreaPopupZoomTranslateControl=Br.bind(this),this.loadAllPositionsObjData=El.bind(this),this.calculateFilteredPositionsData=dn.bind(this),this.loadHeatmap=kl.bind(this),this.handleHeatmapOptionClick=ed.bind(this),this.updateHeatmap=Ol.bind(this),this.deleteHeatmapOption=Nl.bind(this),this.updateHeatmapOptionNotRenderedPositions=Hl.bind(this),this.setPositionsSvgOpacity=ql.bind(this),this.setPositionSvgCircleOpacity=Ul.bind(this),this.clearHeatmapCanvases=Jl.bind(this),this.onDrawingAreaPopupCloseClick=sd.bind(this),this.onShowHeatmapPositionNumbersChange=_p.bind(this),this.onShowHeatmapDeadPositionsChange=$p.bind(this),this.showWholeBoxZoomOperations=Sr.bind(this),this.getBoxDimensionsForCurrentZoom=fr.bind(this),this.boxZoomSimulation=br.bind(this),this.boxZoomSimulationSetZoomParameters=Cr.bind(this),this.setOptionNoteAndHeatmapTabParameters=Vl.bind(this),this.loadInfoTabParameters=Gl.bind(this),this.filterHeatmapDrawingHistoryObjData=cn.bind(this),this.handleHeatmapOptionButtonInfoBoxChange=td.bind(this),this.getFloorplanID=ah.bind(this),this.getFloorplanName=rh.bind(this),this.calculateHeatmapOptionRenderedPositions=lh.bind(this),this.isLocationInsideRoomAndNotOnWalls=hh.bind(this),this.checkSimulateTestingSourceLocationIsValid=ph.bind(this),this.createSourceLocationSvgBinder=dh.bind(this),this.createTestingLocationObject=ch.bind(this),this.setSourceLocationSvgPosition=mh.bind(this),this.generateHeatmapWithLoadingHandler=uh.bind(this),this.createElementPopupSvgRectanglePolygon=gh.bind(this),this.setSvgViewBoxes=xh.bind(this),this.renderHeatmapDeadPositions=Ah.bind(this),this.removeHeatmapDeadPositions=fh.bind(this),this.recalculateTopLeftGpsCoordinates=Ch.bind(this),this.createIndoorPlanningCorrectArea=bh.bind(this),this.getHeatmapOptionPositionsDataFilterValues=yh.bind(this),this.clearHeatmapCanvasAndPopupAndSave=wh.bind(this),this.restoreMainLeftPanel=vh.bind(this),this.handleRightControlsBoxResize=ih.bind(this),this.showDrawingAreaPopup=Sh.bind(this),this.closeDrawingAreaPopup=Th.bind(this),this.setWallId=oh.bind(this),this.calculateGpsCoordinatesForNewSvgPoint=xp.bind(this),this.handleMapDrag=Cp.bind(this),this.handleMapZoomChange=bp.bind(this),this.onMapContextLoadedCallback2D=yp.bind(this),this.onMapCameraOptionsSetFinishCallback=wp.bind(this),this.calculateMapCornersCoordinatesFromTopLeftPoint=fp.bind(this),this.alignFloorplanTopLeftCornerOnMap=Ap.bind(this),this.getCurrentMapCornersGpsCoords=vp.bind(this),this.handleMapLayerWindowResize=Sp.bind(this),this.coordinateFloorplanSvgZoomWithMap=Tp.bind(this),this.getGatewaysData=this.getGatewaysData.bind(this),this.signalHeatmapStaticImage=Ta.bind(this),this.createFloorplanRoomsClippingCanvasPath=wa.bind(this),this.createFloorplanRoomsClippingCanvas=va.bind(this),this.rayBasedMotelyKeenansModel=Ed.bind(this),this.createWallsMaterialLossDistribution=zd.bind(this),this.onMotelyKeenansModelWebWorkersFinishedCallback=Jd.bind(this),this.createDistanceAttenuationWorker=qd.bind(this),this.createWallsAttenuationWorker=Ud.bind(this),this.calculateMotelyKeenansModelDataForPoint=Xd.bind(this)}componentDidMount(){this.mounted=!0,this.qSVG=new Us(this),this.editor=new Ys(this.boxWall,this.boxArea,this.panel,this.boxRoom,this.boxSurface,this.boxRib,this.areaValue,this.boxScale,this),this.linRef.current.addEventListener("wheel",(t=>{t.preventDefault(),this.handleMouseWheel(t)}),{passive:!1}),this.linRef.current.addEventListener("touchstart",(t=>{t.preventDefault(),this.handleTouchStart(t,this)}),{passive:!1}),this.linRef.current.addEventListener("touchmove",(t=>{t.preventDefault(),this.handleTouchMove(t,this)}),{passive:!1}),this.linRef.current.addEventListener("touchend",(t=>{t.preventDefault(),this.handleTouchEnd(t,this)}),{passive:!1}),document.getElementsByClassName("header-info-track")[0]&&window.addEventListener("applicationInfoHidden",(()=>{this.offset.top=this.linRef.current.getBoundingClientRect().top,this.offset.scrollY=window.scrollY})),this.resizeAndKeyDownEventListenersControl(!1,!0);let t=this.linRef.current.getBoundingClientRect();this.taille_w=t.width,this.taille_h=t.height,this.offset={left:t.left,top:t.top,scrollY:window.scrollY},this.determineMaxZoomInLevel(),this.width_viewbox=this.taille_w,this.height_viewbox=this.taille_h,this.ratio_viewbox=this.height_viewbox/this.width_viewbox,this.setSvgViewBoxes(),this.heatmapPaletteCanvas=document.createElement("canvas"),this.heatmapPaletteCanvas.width=256,this.heatmapPaletteCanvas.height=1;const e=this.heatmapPaletteCanvas.getContext("2d");this.heatmapGradient=e.createLinearGradient(0,0,256,1);let i={0:"rgb(0,0,200)",.1:"rgb(0,0,255)",.3:"rgb(0,190,255)",.5:"rgb(0,255,0)",.7:"yellow",1:"rgb(255,0,0)"};for(let s in i)this.heatmapGradient.addColorStop(s,i[s]);if(e.fillStyle=this.heatmapGradient,e.fillRect(0,0,256,1),this.props.isHeatmap){const t=()=>{this.isSmallScreen()?(this.rightControlsBox.current.style.transform="translateX(-150px)",this.heatmapRightBoxRef.current.rightBoxControlClick.current.title="Show heatmap parameters",this.heatmapRightBoxRef.current.rightBoxControlClick.current.children[0].style.transform="rotate(0deg)"):(this.translateRightBox(this.heatmapParametersRef.current,-250,!0),this.heatmapRightBoxRef.current.rightBoxControlClick.current.style.transform="translateX(-250px)",this.rightControlsBox.current.style.transform="translateX(-400px)")},e=e=>{const i=()=>requestAnimationFrame((()=>{this.panel.current.style.transform="translateX(200px)",this.panelControl.current.style.transform="translateX(".concat(this.panel.current.style.width,")"),e&&this.panel.current.addEventListener("transitionend",(()=>{t()}),{once:!0})}));this.isSmallScreen()?(this.onPanelControlClick(!1),i()):i()};this.heatmapCanvas.current.setAttribute("width",this.taille_w),this.heatmapCanvas.current.setAttribute("height",this.taille_h),this.heatmapCanvasContext=this.heatmapCanvas.current.getContext("2d"),this.heatmapHelperCanvas.current.setAttribute("width",this.taille_w),this.heatmapHelperCanvas.current.setAttribute("height",this.taille_h),this.heatmapHelperCanvasContext=this.heatmapHelperCanvas.current.getContext("2d");let i=[this.currentRouteID];lc.log(i[i.length-1]),"new"===i[i.length-1]?n.render((0,u.jsx)(ra,{}),this.loadingComponentContainer.current,(()=>{let t=JSON.parse(window.localStorage.getItem("history"));if(lc.log("Storage data added"),lc.log(t),t&&t.positionsData&&t.floorplanID&&t.heatmapParams)e(!0),window.localStorage.removeItem("history"),this.positionsData=t.positionsData,lc.log("Positions data"),lc.log(this.positionsData),this.selectedFloorplanInfo={id:t.floorplanID,name:t.floorplanName,lastUpdate:t.floorplanLastUpdate,planGeneral:t.floorplanGeneral},this.showHeatmapPositionsArrangeOption=t.floorplanGeneral.testPlans&&t.floorplanGeneral.testPlans.length>0,this.heatmapParams=t.heatmapParams,this.loadInfoTabParameters(this.heatmapParams,"encountered_antennas","encountered_sfs"),window.localStorage.setItem("heatmapData",JSON.stringify(t)),this.getGatewaysFromPositionsData((()=>{b.get.call(this,"/plans?planId=".concat(t.floorplanID),(t=>{if(t&&t.length>0){lc.log("Response data"),lc.log(t[0]),lc.log("ucitavaj");let e=t[0].plan_object;e.allPositionsObjData=[],e.selectedPositionDataGateways=this.state.gatewaysData,e.selectedPositionDataAntennas=this.infoTabData.antennas,e.selectedPositionDataSfs=this.infoTabData.sfs,e.heatmapPositionDataSelectedOption=this.heatmapPositionDataSelectedOption,e.positionStandardRadius=this.heatmapPositionStandardRadius,e.rssiColorMin=this.heatmapRssiColorMin,e.rssiColorMax=this.heatmapRssiColorMax,e.optionNote=this.heatmapOptionNote,e.floorNumber=this.heatmapOptionFloorNumber;let i=[];for(let t=0;t<this.positionsData.length;t++){let s={family:"free",class:"energy",type:"position",x:0,y:0,angle:0,angleSign:0,size:0,hinge:"normal",thick:0,value:null,position_num:this.positionsData[t].position_number};e.allPositionsObjData.push(s),i.push(T(this.positionsData[t].messages.reduce(((t,e)=>t+e.gateways.length),0)/this.positionsData[t].messages.length,0))}this.heatmapGatewaysPerMessageRangeColorMax=Math.max(...i),this.heatmapGatewaysPerMessageColorMax=this.heatmapGatewaysPerMessageRangeColorMax,e.gatewaysColorMax=this.heatmapGatewaysPerMessageColorMax,e.gatewaysColorMin=this.heatmapGatewaysPerMessageColorMin,e.gatewaysColorRangeMax=this.heatmapGatewaysPerMessageRangeColorMax,lc.log("New history data object"),lc.log(e),this.HISTORY.index=0,e.positionButtonOptionsState=[];for(let t=0;t<this.positionsData.length;t++)e.positionButtonOptionsState.push({position_number:this.positionsData[t].position_number,notRendered:!0});this.positionDrawingRef.current.setPositionOptions(e.positionButtonOptionsState,(()=>{this.load(0,!1,e),this.saveNeeded=!0,this.save(!0,!1),this.lastSavedObject=this.HISTORY[this.HISTORY.length-1],n.unmountComponentAtNode(this.loadingComponentContainer.current),this.centerAndShowWholeFloorplan()}))}else this.boxInfo.current.innerHTML="There is no floorplan with specified id",n.unmountComponentAtNode(this.loadingComponentContainer.current)}))}));else if(t&&!JSON.parse(t[t.length-1]).allPositionsObjData);else{e(!0);let t=JSON.parse(window.localStorage.getItem("heatmapData"));this.positionsData=t.positionsData,this.selectedFloorplanInfo={id:t.floorplanID,name:t.floorplanName,lastUpdate:t.floorplanLastUpdate,planGeneral:t.floorplanGeneral},this.showHeatmapPositionsArrangeOption=t.floorplanGeneral.testPlans&&t.floorplanGeneral.testPlans.length>0,this.heatmapParams=t.heatmapParams,this.loadInfoTabParameters(this.heatmapParams,"encountered_antennas","encountered_sfs"),lc.log("Recovery heatmap data"),lc.log(t),this.getGatewaysFromPositionsData((()=>{let t=JSON.parse(window.localStorage.getItem("history"));this.positionDrawingRef.current.setPositionOptions(JSON.parse(t[t.length-1]).positionButtonOptionsState,(()=>{this.saveNeeded=!0,this.initHistory("recovery"),this.lastSavedObject=this.HISTORY[this.HISTORY.length-1],n.unmountComponentAtNode(this.loadingComponentContainer.current),this.centerAndShowWholeFloorplan()}))}))}})):n.render((0,u.jsx)(ra,{}),this.loadingComponentContainer.current,(()=>{e(!1),b.get.call(this,"/heatmaps?heatmapId=".concat(i[i.length-1]),(e=>{if(e&&e.length>0){const s=()=>{b.get.call(this,"/plans?planId=".concat(e[0].heatmapgeneral.floorplanID),(i=>{i&&i.length>0?(this.showHeatmapPositionsArrangeOption=i[0].plan_general.testPlans&&i[0].plan_general.testPlans.length>0,new Date(e[0].heatmapgeneral.floorplanLastUpdate)-new Date(i[0].updated_at)<0?(lc.log("Floorplan needs update"),this.stayOnOlderHeatmapFloorplanCallback=()=>{n.render((0,u.jsx)(ra,{}),this.loadingComponentContainer.current,(()=>{vt(this.heatmapFloorplanNeedsUpdateModal.current,this.modalTimeout,(()=>{t(),this.positionDrawingRef.current.setPositionOptions(e[0].heatmapoption[0].positionButtonOptionsState,(()=>this.loadHeatmap(e,0)))}))}))},this.updateHeatmapFloorplanCallback=()=>{t(),vt(this.heatmapFloorplanNeedsUpdateModal.current,this.modalTimeout,(()=>{n.render((0,u.jsx)(ra,{}),this.loadingComponentContainer.current,(()=>{let t={heatmapGeneral:{...e[0].heatmapgeneral,floorplanName:i[0].plan_name,floorplanGeneral:i[0].plan_general,floorplanLastUpdate:i[0].updated_at},heatmapObject:{objData:i[0].plan_object.objData,wallData:i[0].plan_object.wallData,roomData:i[0].plan_object.roomData,allPositionsObjData:e[0].heatmapobject.allPositionsObjData},heatmapOption:e[0].heatmapoption},s=[this.currentRouteID];b.post.call(this,"/heatmaps/".concat(s[s.length-1]),t,(t=>{lc.log("Updated heatmap data"),lc.log(t),b.get.call(this,"/heatmaps?heatmapId=".concat(s[s.length-1]),(t=>{this.positionDrawingRef.current.setPositionOptions(t[0].heatmapoption[0].positionButtonOptionsState,(()=>this.loadHeatmap(t,0)))}))}))}))}))},n.unmountComponentAtNode(this.loadingComponentContainer.current),wt(this.heatmapFloorplanNeedsUpdateModal.current,this.modalTimeout)):(lc.log("Floorplan up to data"),t(),this.positionDrawingRef.current.setPositionOptions(e[0].heatmapoption[0].positionButtonOptionsState,(()=>this.loadHeatmap(e,0))))):(lc.log("Neam floorplana loadaj"),t(),this.positionDrawingRef.current.setPositionOptions(e[0].heatmapoption[0].positionButtonOptionsState,(()=>this.loadHeatmap(e,0))))}))};if("1.1"!==e[0].heatmapgeneral.version){lc.log("Update heatmap version");let t=e[0].heatmapgeneral.devices[0].deviceid;for(let i=1;i<e[0].heatmapgeneral.devices.length;i++)t+=","+e[0].heatmapgeneral.devices[i].deviceid;b.post.call(this,"/analytics_data/".concat(t,"/").concat(e[0].heatmapgeneral.startTimestamp,"/").concat(e[0].heatmapgeneral.stopTimestamp),{},(t=>{let{data:n}=t,o={[n[0].gtw_id]:[n[0].gtw_lat,n[0].gtw_long]};for(let e=1;e<n.length;e++)o[n[e].gtw_id]||(o[n[e].gtw_id]=[n[e].gtw_lat,n[e].gtw_long]);for(let i=0;i<e[0].heatmapdata.length;i++)for(let t=0;t<e[0].heatmapdata[i].messages.length;t++)for(let s=0;s<e[0].heatmapdata[i].messages[t].gateways.length;s++)e[0].heatmapdata[i].messages[t].gateways[s].gtw_lat=o[e[0].heatmapdata[i].messages[t].gateways[s].gtw_id][0],e[0].heatmapdata[i].messages[t].gateways[s].gtw_long=o[e[0].heatmapdata[i].messages[t].gateways[s].gtw_id][1];e[0].heatmapgeneral.version="1.1";const a={heatmapData:e[0].heatmapdata,heatmapGeneral:e[0].heatmapgeneral};b.post.call(this,"/heatmaps/".concat(i[i.length-1],"?type=5"),a,(()=>{s()}))}))}else s()}else this.boxInfo.current.innerHTML="There is no heatmap with specified id",n.unmountComponentAtNode(this.loadingComponentContainer.current)}))}))}else{this.simulateTestingCanvasRef.current.setAttribute("width",this.taille_w),this.simulateTestingCanvasRef.current.setAttribute("height",this.taille_h),this.simulateTestingCanvasContext=this.simulateTestingCanvasRef.current.getContext("2d");const t=()=>requestAnimationFrame((()=>{this.panel.current.style.transform="translateX(200px)",this.panelControl.current.style.transform="translateX(".concat(this.panel.current.style.width,")"),this.panel.current.addEventListener("transitionend",(()=>{this.rightControlsBox.current.style.transform="translateX(-150px)"}),{once:!0})}));this.isSmallScreen()?(this.onPanelControlClick(!1),t()):t(),window.localStorage.removeItem("heatmapData");let e=JSON.parse(window.localStorage.getItem("history"));e?(lc.log("History object"),lc.log(JSON.parse(e[e.length-1])),JSON.parse(e[e.length-1]).allPositionsObjData&&(window.localStorage.removeItem("history"),this.recoverRef.current.innerHTML="<p>Create new plan:</p>")):this.recoverRef.current.innerHTML="<p>Create new plan:</p>";let i=[this.currentRouteID];if("new"===i[i.length-1])wt(this.initialModal.current,this.modalTimeout);else{const t=[{plan_name:"BP5",plan_object:{objData:[{family:"inWall",class:"doorWindow",type:"simple",x:760.8102805430162,y:280.5949585633374,angle:180,angleSign:1,limit:[{x:748.8102805430162,y:280.5949585633374},{x:772.8102805430162,y:280.5949585633374}],hinge:"reverse",graph:{},scale:{x:1,y:1},value:null,size:24,thick:2.9099999999999997,width:"0.80",height:"0.10",bbox:{x:746.7999877929688,y:279.1166534423828,width:28.01666259765625,height:28.949996948242188,top:279.1166534423828,right:774.816650390625,bottom:308.066650390625,left:746.7999877929688},realBbox:[{x:772.8102805430162,y:282.0499585633374},{x:748.8102805430162,y:282.0499585633374},{x:748.8102805430162,y:279.1399585633374},{x:772.8102805430162,y:279.1399585633374}],params:{bindBox:!1,move:!1,resize:!0,resizeLimit:{width:{min:15,max:50},height:{min:!1,max:!1}},rotate:!1}},{family:"inWall",class:"doorWindow",type:"fix",x:705,y:374.5026092529297,angle:180,angleSign:0,limit:[{x:687,y:374.5026092529297},{x:723,y:374.5026092529297}],hinge:"normal",graph:{},scale:{x:1,y:1},value:null,size:36,thick:6,width:"1.20",height:"0.20",bbox:{x:685,y:369.50001525878906,width:40,height:10.01666259765625,top:369.50001525878906,right:725,bottom:379.5166778564453,left:685},realBbox:[{x:723,y:377.5026092529297},{x:687,y:377.5026092529297},{x:687,y:371.5026092529297},{x:723,y:371.5026092529297}],params:{bindBox:!1,move:!1,resize:!0,resizeLimit:{width:{min:10,max:120},height:{min:!1,max:!1}},rotate:!1}},{family:"inWall",class:"doorWindow",type:"fix",x:818.7474591047763,y:374.5026092529297,angle:180,angleSign:0,limit:[{x:803.7474591047763,y:374.5026092529297},{x:833.7474591047763,y:374.5026092529297}],hinge:"normal",graph:{},scale:{x:1,y:1},value:null,size:30,thick:6,width:"1.00",height:"0.20",bbox:{x:801.7333374023438,y:369.50001525878906,width:34.01666259765625,height:10.01666259765625,top:369.50001525878906,right:835.75,bottom:379.5166778564453,left:801.7333374023438},realBbox:[{x:833.7474591047763,y:377.5026092529297},{x:803.7474591047763,y:377.5026092529297},{x:803.7474591047763,y:371.5026092529297},{x:833.7474591047763,y:371.5026092529297}],params:{bindBox:!1,move:!1,resize:!0,resizeLimit:{width:{min:10,max:120},height:{min:!1,max:!1}},rotate:!1}},{family:"inWall",class:"doorWindow",type:"simple",x:790.3402626405165,y:374.5026092529297,angle:360,angleSign:1,limit:[{x:777.2902626405165,y:374.5026092529297},{x:803.3902626405164,y:374.5026092529297}],hinge:"normal",graph:{},scale:{x:1,y:1},value:null,size:26.1,thick:6,width:"0.87",height:"0.20",bbox:{x:775.2666625976562,y:343.38331604003906,width:30.150009155273438,height:34.133331298828125,top:343.38331604003906,right:805.4166717529297,bottom:377.5166473388672,left:775.2666625976562},realBbox:[{x:777.2902626405165,y:371.5026092529297},{x:803.3902626405164,y:371.5026092529297},{x:803.3902626405164,y:377.5026092529297},{x:777.2902626405165,y:377.5026092529297}],params:{bindBox:!1,move:!1,resize:!0,resizeLimit:{width:{min:15,max:50},height:{min:!1,max:!1}},rotate:!1}},{family:"inWall",class:"doorWindow",type:"simple",x:746.8728111565242,y:231.4389305091607,angle:450,angleSign:1,limit:[{x:746.8728111565242,y:219.4389305091607},{x:746.8728111565242,y:243.4389305091607}],hinge:"normal",graph:{},scale:{x:1,y:1},value:null,size:24,thick:6,width:"0.80",height:"0.20",bbox:{x:743.86669921875,y:217.43333435058594,width:32.01666259765625,height:28.01666259765625,top:217.43333435058594,right:775.8833618164062,bottom:245.4499969482422,left:743.86669921875},realBbox:[{x:749.8728111565242,y:219.4389305091607},{x:749.8728111565242,y:243.4389305091607},{x:743.8728111565242,y:243.4389305091607},{x:743.8728111565242,y:219.4389305091607}],params:{bindBox:!1,move:!1,resize:!0,resizeLimit:{width:{min:15,max:50},height:{min:!1,max:!1}},rotate:!1}},{family:"inWall",class:"doorWindow",type:"simple",x:728.3735530163194,y:138.72065348287447,angle:180,angleSign:1,limit:[{x:714.8735530163194,y:138.72065348287447},{x:741.8735530163194,y:138.72065348287447}],hinge:"reverse",graph:{},scale:{x:1,y:1},value:null,size:27,thick:6,width:"0.90",height:"0.20",bbox:{x:712.86669921875,y:135.7166748046875,width:31.01666259765625,height:35.01666259765625,top:135.7166748046875,right:743.8833618164062,bottom:170.73333740234375,left:712.86669921875},realBbox:[{x:741.8735530163194,y:141.72065348287447},{x:714.8735530163194,y:141.72065348287447},{x:714.8735530163194,y:135.72065348287447},{x:741.8735530163194,y:135.72065348287447}],params:{bindBox:!1,move:!1,resize:!0,resizeLimit:{width:{min:15,max:50},height:{min:!1,max:!1}},rotate:!1}},{family:"inWall",class:"doorWindow",type:"simple",x:730.6218621474648,y:280.5949585633374,angle:180,angleSign:1,limit:[{x:718.6218621474648,y:280.5949585633374},{x:742.6218621474648,y:280.5949585633374}],hinge:"normal",graph:{},scale:{x:1,y:1},value:null,size:24,thick:"6",width:"0.80",height:"0.20",bbox:{x:716.61669921875,y:277.5833282470703,width:28.01666259765625,height:32.01666259765625,top:277.5833282470703,right:744.6333618164062,bottom:309.59999084472656,left:716.61669921875},realBbox:[{x:742.6218621474648,y:283.5949585633374},{x:718.6218621474648,y:283.5949585633374},{x:718.6218621474648,y:277.5949585633374},{x:742.6218621474648,y:277.5949585633374}],params:{bindBox:!1,move:!1,resize:!0,resizeLimit:{width:{min:15,max:50},height:{min:!1,max:!1}},rotate:!1}},{family:"inWall",class:"doorWindow",type:"fix",x:723.7942226230093,y:412.75657343133327,angle:180,angleSign:0,limit:[{x:686.8942226230093,y:412.75657343133327},{x:760.6942226230093,y:412.75657343133327}],hinge:"normal",graph:{},scale:{x:1,y:1},value:null,size:73.8,thick:6,width:"2.46",height:"0.20",bbox:{x:684.86669921875,y:407.75001525878906,width:77.84999084472656,height:10.01666259765625,top:407.75001525878906,right:762.7166900634766,bottom:417.7666778564453,left:684.86669921875},realBbox:[{x:760.6942226230093,y:415.75657343133327},{x:686.8942226230093,y:415.75657343133327},{x:686.8942226230093,y:409.75657343133327},{x:760.6942226230093,y:409.75657343133327}],params:{bindBox:!1,move:!1,resize:!0,resizeLimit:{width:{min:10,max:120},height:{min:!1,max:!1}},rotate:!1}},{family:"inWall",class:"doorWindow",type:"fix",x:797.2936226043781,y:412.75657343133327,angle:360,angleSign:1,limit:[{x:764.2936226043781,y:412.75657343133327},{x:830.2936226043781,y:412.75657343133327}],hinge:"normal",graph:{},scale:{x:1,y:1},value:null,size:66,thick:6,width:"2.20",height:"0.20",bbox:{x:762.2833251953125,y:407.75001525878906,width:70.01666259765625,height:10.01666259765625,top:407.75001525878906,right:832.2999877929688,bottom:417.7666778564453,left:762.2833251953125},realBbox:[{x:764.2936226043781,y:409.75657343133327},{x:830.2936226043781,y:409.75657343133327},{x:830.2936226043781,y:415.75657343133327},{x:764.2936226043781,y:415.75657343133327}],params:{bindBox:!1,move:!1,resize:!0,resizeLimit:{width:{min:10,max:120},height:{min:!1,max:!1}},rotate:!1}},{family:"inWall",class:"doorWindow",type:"fix",x:678.1231479016742,y:393.89769870197847,angle:450,angleSign:1,limit:[{x:678.1231479016742,y:381.89769870197847},{x:678.1231479016742,y:405.89769870197847}],hinge:"normal",graph:{},scale:{x:1,y:1},value:null,size:24,thick:6,width:"0.80",height:"0.20",bbox:{x:673.11669921875,y:379.88331604003906,width:10.01666259765625,height:28.016677856445312,top:379.88331604003906,right:683.1333618164062,bottom:407.8999938964844,left:673.11669921875},realBbox:[{x:681.1231479016742,y:381.89769870197847},{x:681.1231479016742,y:405.89769870197847},{x:675.1231479016742,y:405.89769870197847},{x:675.1231479016742,y:381.89769870197847}],params:{bindBox:!1,move:!1,resize:!0,resizeLimit:{width:{min:10,max:120},height:{min:!1,max:!1}},rotate:!1}},{family:"inWall",class:"doorWindow",type:"simple",x:709.9979917743774,y:229.7723216394885,angle:270,angleSign:1,limit:[{x:709.9979917743774,y:219.2723216394885},{x:709.9979917743774,y:240.2723216394885}],hinge:"reverse",graph:{},scale:{x:1,y:1},value:null,size:21,thick:"6",width:"0.70",height:"0.20",bbox:{x:683.9833374023438,y:217.2666778564453,width:29.01666259765625,height:25.016677856445312,top:217.2666778564453,right:713,bottom:242.28335571289062,left:683.9833374023438},realBbox:[{x:706.9979917743774,y:240.2723216394885},{x:706.9979917743774,y:219.2723216394885},{x:712.9979917743774,y:219.2723216394885},{x:712.9979917743774,y:240.2723216394885}],params:{bindBox:!1,move:!1,resize:!0,resizeLimit:{width:{min:15,max:50},height:{min:!1,max:!1}},rotate:!1}},{family:"inWall",class:"doorWindow",type:"simple",x:710.1354664836625,y:179.56002104961,angle:270.22643726587785,angleSign:1,limit:[{x:710.093969794454,y:190.05993928419775},{x:710.1769631728712,y:169.06010281501221}],hinge:"reverse",graph:{},scale:{x:1,y:1},value:null,size:21,thick:"4.8",width:"0.70",height:"0.16",bbox:{x:684.7666625976562,y:166.9499969482422,width:27.816665649414062,height:25.116668701171875,top:166.9499969482422,right:712.5833282470703,bottom:192.06666564941406,left:684.7666625976562},realBbox:[{x:707.6939885380374,y:190.05045409315142},{x:707.7769819146072,y:169.05061809142404},{x:712.5769444292877,y:169.06958800606856},{x:712.4939510527179,y:190.06942400779593}],params:{bindBox:!1,move:!1,resize:!0,resizeLimit:{width:{min:15,max:50},height:{min:!1,max:!1}},rotate:!1}},{family:"free",class:"text",type:"",x:713.997805033885,y:390.1183037466012,angle:0,angleSign:0,limit:[],hinge:"normal",graph:{},scale:{x:1,y:1},value:{text:"testni",size:"15"},size:32.483333587646484,thick:16.799999237060547,width:"1.08",height:"0.56",bbox:{x:697.0833129882812,y:375.84999084472656,width:33.81666564941406,height:18.133331298828125,top:375.84999084472656,right:730.8999786376953,bottom:393.9833221435547,left:697.0833129882812},realBbox:[{x:697.0833129882812,y:375.84999084472656},{x:730.8999786376953,y:375.84999084472656},{x:730.8999786376953,y:393.9833221435547},{x:697.0833129882812,y:393.9833221435547}],params:{bindBox:!0,move:!0,resize:!1,resizeLimit:{width:{min:!1,max:!1},height:{min:!1,max:!1}},rotate:!0}}],wallData:[{thick:6,start:{x:646.2483040289712,y:138.72065348287447},end:{x:710.2968676017979,y:138.72065348287447},type:"normal",parent:10,child:24,angle:0,equations:{up:{A:"h",B:135.72065348287447},down:{A:"h",B:141.72065348287447},base:{A:"h",B:138.72065348287447}},coords:[{x:643.2483040289712,y:135.72065348287447},{x:649.2483040289712,y:141.72065348287447},{x:707.884992569748,y:141.72065348287447},{x:712.7087426338478,y:135.72065348287447}],backUp:!1,material:"Concrete",graph:{},wallId:0},{thick:6,start:{x:710.2968676017979,y:138.72065348287447},end:{x:779.9976489065882,y:138.72065348287447},type:"normal",parent:0,child:15,angle:0,equations:{up:{A:"h",B:135.72065348287447},down:{A:"h",B:141.72065348287447},base:{A:"h",B:138.72065348287447}},coords:[{x:710.2968676017979,y:135.72065348287447},{x:710.2968676017979,y:141.72065348287447},{x:776.9976489065882,y:141.72065348287447},{x:782.9976489065882,y:135.72065348287447}],backUp:!1,material:"Concrete",graph:{},wallId:1},{thick:6,start:{x:779.9976489065882,y:138.72065348287447},end:{x:849.9973060387989,y:138.72065348287447},type:"normal",parent:1,child:3,angle:0,equations:{up:{A:"h",B:135.72065348287447},down:{A:"h",B:141.72065348287447},base:{A:"h",B:138.72065348287447}},coords:[{x:779.9976489065882,y:135.72065348287447},{x:779.9976489065882,y:141.72065348287447},{x:846.9973060387989,y:141.72065348287447},{x:852.9973060387989,y:135.72065348287447}],backUp:!1,material:"Concrete",graph:{},wallId:2},{thick:6,start:{x:849.9973060387989,y:138.72065348287447},end:{x:849.9973060387989,y:280.5949585633374},type:"normal",parent:2,child:19,angle:1.5707963267948966,equations:{up:{A:"v",B:852.9973060387989},down:{A:"v",B:846.9973060387989},base:{A:"v",B:849.9973060387989}},coords:[{x:852.9973060387989,y:135.72065348287447},{x:846.9973060387989,y:141.72065348287447},{x:846.9973060387989,y:279.1399585633374},{x:852.9973060387989,y:282.0499585633374}],backUp:!1,material:"Concrete",graph:{},wallId:3},{thick:6,start:{x:849.9973060387989,y:280.5949585633374},end:{x:849.9973060387989,y:374.5026092529297},type:"normal",parent:3,child:20,angle:1.5707963267948966,equations:{up:{A:"v",B:852.9973060387989},down:{A:"v",B:846.9973060387989},base:{A:"v",B:849.9973060387989}},coords:[{x:852.9973060387989,y:280.5949585633374},{x:846.9973060387989,y:280.5949585633374},{x:846.9973060387989,y:374.5026092529297},{x:852.9973060387989,y:374.5026092529297}],backUp:!1,material:"Concrete",graph:{},wallId:4},{thick:6,start:{x:746.8728111565242,y:374.5026092529297},end:{x:849.9973060387989,y:374.5026092529297},type:"normal",parent:11,child:null,angle:0,equations:{up:{A:"h",B:371.5026092529297},down:{A:"h",B:377.5026092529297},base:{A:"h",B:374.5026092529297}},coords:[{x:749.8728111565242,y:371.5026092529297},{x:743.8728111565242,y:377.5026092529297},{x:849.9973060387989,y:377.5026092529297},{x:849.9973060387989,y:371.5026092529297}],backUp:!1,material:"Concrete",graph:{},wallId:5},{thick:6,start:{x:746.8728111565242,y:374.5026092529297},end:{x:678.1231479016742,y:374.5026092529297},type:"normal",parent:null,child:null,angle:3.141592653589793,equations:{up:{A:"h",B:377.5026092529297},down:{A:"h",B:371.5026092529297},base:{A:"h",B:374.5026092529297}},coords:[{x:746.8728111565242,y:377.5026092529297},{x:746.8728111565242,y:371.5026092529297},{x:678.1231479016742,y:371.5026092529297},{x:678.1231479016742,y:377.5026092529297}],backUp:!1,material:"Concrete",graph:{},wallId:6},{thick:6,start:{x:678.1231479016742,y:374.5026092529297},end:{x:646.2483040289712,y:374.5026092529297},type:"normal",parent:6,child:8,angle:3.141592653589793,equations:{up:{A:"h",B:377.5026092529297},down:{A:"h",B:371.5026092529297},base:{A:"h",B:374.5026092529297}},coords:[{x:678.1231479016742,y:377.5026092529297},{x:678.1231479016742,y:371.5026092529297},{x:649.2483040289712,y:371.5026092529297},{x:643.2483040289712,y:377.5026092529297}],backUp:!1,material:"Concrete",graph:{},wallId:7},{thick:6,start:{x:646.2483040289712,y:374.5026092529297},end:{x:646.2483040289712,y:280.5949585633374},type:"normal",parent:7,child:16,angle:-1.5707963267948966,equations:{up:{A:"v",B:643.2483040289712},down:{A:"v",B:649.2483040289712},base:{A:"v",B:646.2483040289712}},coords:[{x:643.2483040289712,y:377.5026092529297},{x:649.2483040289712,y:371.5026092529297},{x:649.2483040289712,y:283.5949585633374},{x:643.2483040289712,y:277.5949585633374}],backUp:!1,material:"Concrete",graph:{},wallId:8},{thick:6,start:{x:646.2483040289712,y:280.5949585633374},end:{x:646.2483040289712,y:214.34528306320934},type:"normal",parent:8,child:17,angle:-1.5707963267948966,equations:{up:{A:"v",B:643.2483040289712},down:{A:"v",B:649.2483040289712},base:{A:"v",B:646.2483040289712}},coords:[{x:643.2483040289712,y:280.5949585633374},{x:649.2483040289712,y:280.5949585633374},{x:649.2483040289712,y:217.34528306320934},{x:643.2483040289712,y:211.34528306320934}],backUp:!1,material:"Concrete",graph:{},wallId:9},{thick:6,start:{x:646.2483040289712,y:214.34528306320934},end:{x:646.2483040289712,y:138.72065348287447},type:"normal",parent:9,child:0,angle:-1.5707963267948966,equations:{up:{A:"v",B:643.2483040289712},down:{A:"v",B:649.2483040289712},base:{A:"v",B:646.2483040289712}},coords:[{x:643.2483040289712,y:214.34528306320934},{x:649.2483040289712,y:214.34528306320934},{x:649.2483040289712,y:141.72065348287447},{x:643.2483040289712,y:135.72065348287447}],backUp:!1,material:"Concrete",graph:{},wallId:10},{thick:6,start:{x:746.8728111565242,y:280.5949585633374},end:{x:746.8728111565242,y:374.5026092529297},type:"normal",parent:23,child:5,angle:1.5707963267948966,equations:{up:{A:"v",B:749.8728111565242},down:{A:"v",B:743.8728111565242},base:{A:"v",B:746.8728111565242}},coords:[{x:749.8728111565242,y:277.5949585633374},{x:743.8728111565242,y:283.5949585633374},{x:743.8728111565242,y:377.5026092529297},{x:749.8728111565242,y:371.5026092529297}],backUp:!1,material:"Concrete",graph:{},wallId:11},{thick:6,start:{x:746.8728111565242,y:216.2202738792507},end:{x:746.8728111565242,y:280.5949585633374},type:"normal",parent:13,child:11,angle:1.5707963267948966,equations:{up:{A:"v",B:749.8728111565242},down:{A:"v",B:743.8728111565242},base:{A:"v",B:746.8728111565242}},coords:[{x:749.8728111565242,y:219.2202738792507},{x:743.8728111565242,y:213.2202738792507},{x:743.8728111565242,y:280.5949585633374},{x:749.8728111565242,y:280.5949585633374}],backUp:!1,material:"Concrete",graph:{},wallId:12},{thick:6,start:{x:779.9976489065882,y:216.2202738792507},end:{x:746.8728111565242,y:216.2202738792507},type:"normal",parent:15,child:12,angle:3.141592653589793,equations:{up:{A:"h",B:219.2202738792507},down:{A:"h",B:213.2202738792507},base:{A:"h",B:216.2202738792507}},coords:[{x:782.9976489065882,y:219.2202738792507},{x:776.9976489065882,y:213.2202738792507},{x:743.8728111565242,y:213.2202738792507},{x:749.8728111565242,y:219.2202738792507}],backUp:!1,material:"Concrete",graph:{},wallId:13},{thick:6,start:{x:779.9976489065882,y:216.2202738792507},end:{x:813.1728111565242,y:216.2202738792507},type:"normal",parent:13,child:null,angle:0,equations:{up:{A:"h",B:213.2202738792507},down:{A:"h",B:219.2202738792507},base:{A:"h",B:216.2202738792507}},coords:[{x:783,y:213.2202738792507},{x:783,y:219.2202738792507},{x:813.1728111565242,y:219.2202738792507},{x:813.1728111565242,y:213.2202738792507}],backUp:!1,material:"Concrete",graph:{},wallId:14},{thick:6,start:{x:779.9976489065882,y:138.72065348287447},end:{x:779.9976489065882,y:216.2202738792507},type:"normal",parent:null,child:13,angle:1.5707963267948966,equations:{up:{A:"v",B:782.9976489065882},down:{A:"v",B:776.9976489065882},base:{A:"v",B:779.9976489065882}},coords:[{x:782.9976489065882,y:138.72065348287447},{x:776.9976489065882,y:138.72065348287447},{x:776.9976489065882,y:213.2202738792507},{x:782.9976489065882,y:219.2202738792507}],backUp:!1,material:"Concrete",graph:{},wallId:15},{thick:6,start:{x:709.9979917743774,y:280.5949585633374},end:{x:646.2483040289712,y:280.5949585633374},type:"normal",parent:25,child:null,angle:3.141592653589793,equations:{up:{A:"h",B:283.5949585633374},down:{A:"h",B:277.5949585633374},base:{A:"h",B:280.5949585633374}},coords:[{x:712.9979917743774,y:283.5949585633374},{x:706.9979917743774,y:277.5949585633374},{x:646.2483040289712,y:277.5949585633374},{x:646.2483040289712,y:283.5949585633374}],backUp:!1,material:"Knauf",graph:{},wallId:16},{thick:6,start:{x:646.2483040289712,y:214.34528306320934},end:{x:677.7304177525263,y:214.34528306320934},type:"normal",parent:null,child:18,angle:0,equations:{up:{A:"h",B:211.34528306320934},down:{A:"h",B:217.34528306320934},base:{A:"h",B:214.34528306320934}},coords:[{x:646.2483040289712,y:211.34528306320934},{x:646.2483040289712,y:217.34528306320934},{x:677.7304177525263,y:217.34528306320934},{x:677.7304177525263,y:211.34528306320934}],backUp:!1,material:"Granite",graph:{},wallId:17},{thick:6,start:{x:677.7304177525263,y:214.34528306320934},end:{x:709.9979917743774,y:214.34528306320934},type:"normal",parent:17,child:25,angle:0,equations:{up:{A:"h",B:211.34528306320934},down:{A:"h",B:217.34528306320934},base:{A:"h",B:214.34528306320934}},coords:[{x:677.7304177525263,y:211.34528306320934},{x:677.7304177525263,y:217.34528306320934},{x:706.9979917743774,y:217.34528306320934},{x:712.9979917743774,y:211.34528306320934}],backUp:!1,material:"Granite",graph:{},wallId:18},{thick:2.91,start:{x:746.8728111565242,y:280.5949585633374},end:{x:849.9973060387989,y:280.5949585633374},type:"normal",parent:11,child:3,angle:0,equations:{up:{A:"h",B:279.1399585633374},down:{A:"h",B:282.0499585633374},base:{A:"h",B:280.5949585633374}},coords:[{x:743.8728111565242,y:279.1399585633374},{x:749.8728111565242,y:282.0499585633374},{x:852.9973060387989,y:282.0499585633374},{x:846.9973060387989,y:279.1399585633374}],backUp:!1,material:"Concrete",graph:{},wallId:19},{thick:6,start:{x:849.9973060387989,y:374.5026092529297},end:{x:849.9973060387989,y:412.75657343133327},type:"normal",parent:4,child:21,angle:1.5707963267948966,equations:{up:{A:"v",B:852.9973060387989},down:{A:"v",B:846.9973060387989},base:{A:"v",B:849.9973060387989}},coords:[{x:852.9973060387989,y:374.5026092529297},{x:846.9973060387989,y:374.5026092529297},{x:846.9973060387989,y:409.75657343133327},{x:852.9973060387989,y:415.75657343133327}],backUp:!1,material:"Concrete",graph:{},wallId:20},{thick:6,start:{x:849.9973060387989,y:412.75657343133327},end:{x:678.1231479016742,y:412.75657343133327},type:"normal",parent:20,child:22,angle:3.141592653589793,equations:{up:{A:"h",B:415.75657343133327},down:{A:"h",B:409.75657343133327},base:{A:"h",B:412.75657343133327}},coords:[{x:852.9973060387989,y:415.75657343133327},{x:846.9973060387989,y:409.75657343133327},{x:681.1231479016742,y:409.75657343133327},{x:675.1231479016742,y:415.75657343133327}],backUp:!1,material:"Unknown",graph:{},wallId:21},{thick:6,start:{x:678.1231479016742,y:412.75657343133327},end:{x:678.1231479016742,y:374.5026092529297},type:"normal",parent:21,child:6,angle:-1.5707963267948966,equations:{up:{A:"v",B:675.1231479016742},down:{A:"v",B:681.1231479016742},base:{A:"v",B:678.1231479016742}},coords:[{x:675.1231479016742,y:415.75657343133327},{x:681.1231479016742,y:409.75657343133327},{x:681.1231479016742,y:377.5026092529297},{x:675.1231479016742,y:371.5026092529297}],backUp:!1,material:"Unknown",graph:{},wallId:22},{thick:"6",start:{x:709.9979917743774,y:280.5949585633374},end:{x:746.8728111565242,y:280.5949585633374},type:"normal",parent:16,child:null,angle:0,equations:{up:{A:"h",B:277.5949585633374},down:{A:"h",B:283.5949585633374},base:{A:"h",B:280.5949585633374}},coords:[{x:709.9979917743774,y:277.5949585633374},{x:709.9979917743774,y:283.5949585633374},{x:746.8728111565242,y:283.5949585633374},{x:746.8728111565242,y:277.5949585633374}],backUp:!1,material:"Concrete",graph:{},wallId:23},{thick:"4.8",start:{x:710.2968676017979,y:138.72065348287447},end:{x:709.9979917743774,y:214.34528306320934},type:"normal",parent:null,child:18,angle:1.574748402633679,equations:{up:{A:-253.03026421718138,B:180472.6021120205},down:{A:-253.03026421718138,B:179258.0473587837},base:{A:-253.03026421718138,B:179865.3247354021}},coords:[{x:712.6968488591381,y:138.73013844020898},{x:707.8968863444576,y:138.71116852556588},{x:707.6098293208152,y:211.34528306320934},{x:712.3861542279396,y:217.34528306320934}],backUp:!1,material:"Granite",graph:{},wallId:24},{thick:"6",start:{x:709.9979917743774,y:214.34528306320934},end:{x:709.9979917743774,y:280.5949585633374},type:"normal",parent:18,child:16,angle:1.5707963267948966,equations:{up:{A:"v",B:712.9979917743774},down:{A:"v",B:706.9979917743774},base:{A:"v",B:709.9979917743774}},coords:[{x:712.9979917743774,y:211.34528306320934},{x:706.9979917743774,y:217.34528306320934},{x:706.9979917743774,y:277.5949585633374},{x:712.9979917743774,y:283.5949585633374}],backUp:!1,material:"Concrete",graph:{},wallId:25},{thick:"4.8",start:{x:677.7304177525263,y:214.34528306320934},end:{x:677.7304177525263,y:184.36710332803895},type:"normal",parent:17,child:null,angle:-1.5707963267948966,equations:{up:{A:"v",B:675.3304177525263},down:{A:"v",B:680.1304177525262},base:{A:"v",B:677.7304177525263}},coords:[{x:675.3304177525263,y:211},{x:680.1304177525262,y:211},{x:680.1304177525262,y:184.36710332803895},{x:675.3304177525263,y:184.36710332803895}],backUp:!1,material:"Granite",wallId:26,graph:{}}],roomData:[{coords:[{x:649,y:278},{x:707,y:278},{x:707,y:217},{x:678,y:217},{x:649,y:217},{x:649,y:278}],coordsOutside:[{x:643,y:284},{x:713,y:284},{x:713,y:211},{x:678,y:211},{x:643,y:211},{x:643,y:284}],coordsInside:[{x:649,y:278},{x:707,y:278},{x:707,y:217},{x:678,y:217},{x:649,y:217},{x:649,y:278}],inside:[],way:["10","9","14","16","15","10"],area:3538,surface:"",name:"",color:"gradientWhite",showSurface:!1,action:"add",roomID:5,id:0,coordsInsideWithOrphans:[{x:649,y:278},{x:707,y:278},{x:707,y:217},{x:678,y:217},{x:649,y:217},{x:649,y:278}],realRoomArea:3538},{id:1,coords:[{x:678,y:372},{x:744,y:372},{x:744,y:284},{x:710,y:284},{x:649,y:284},{x:649,y:372},{x:678,y:372}],coordsOutside:[{x:678,y:378},{x:750,y:378},{x:750,y:278},{x:710,y:278},{x:643,y:278},{x:643,y:378},{x:678,y:378}],coordsInside:[{x:678,y:372},{x:744,y:372},{x:744,y:284},{x:710,y:284},{x:649,y:284},{x:649,y:372},{x:678,y:372}],inside:[],way:["8","7","6","11","14","9","8"],area:8360,surface:9.290304,name:"",color:"gradientWhite",showSurface:!1,action:"add",coordsInsideWithOrphans:[{x:678,y:372},{x:744,y:372},{x:744,y:284},{x:710,y:284},{x:649,y:284},{x:649,y:372},{x:678,y:372}],realRoomArea:8360},{id:2,coords:[{x:649,y:211},{x:678,y:211},{x:707.6,y:211},{x:707.6,y:142},{x:649,y:142},{x:649,y:211}],coordsOutside:[{x:643,y:217},{x:678,y:217},{x:712.4,y:217},{x:712.4,y:136},{x:643,y:136},{x:643,y:217}],coordsInside:[{x:649,y:211},{x:678,y:211},{x:707.6,y:211},{x:707.6,y:142},{x:649,y:142},{x:649,y:211}],inside:[],way:["1","10","15","16","0","1"],area:4043.4,surface:"",name:"",color:"gradientWhite",showSurface:!1,action:"add",coordsInsideWithOrphans:[{x:649,y:211},{x:675.3304177525263,y:211},{x:675.3304177525263,y:184.36710332803895},{x:680.1304177525262,y:184.36710332803895},{x:680.1304177525262,y:211},{x:707.6,y:211},{x:707.6,y:142},{x:649,y:142},{x:649,y:211}],realRoomArea:4043.4},{id:3,coords:[{x:847,y:410},{x:847,y:378},{x:747,y:378},{x:681,y:378},{x:681,y:410},{x:847,y:410}],coordsOutside:[{x:853,y:416},{x:853,y:372},{x:747,y:372},{x:675,y:372},{x:675,y:416},{x:853,y:416}],coordsInside:[{x:847,y:410},{x:847,y:378},{x:747,y:378},{x:681,y:378},{x:681,y:410},{x:847,y:410}],inside:[],way:["18","17","5","6","7","18"],area:5312,surface:"",name:"",color:"gradientWhite",showSurface:!1,action:"add",coordsInsideWithOrphans:[{x:847,y:410},{x:847,y:378},{x:747,y:378},{x:681,y:378},{x:681,y:410},{x:847,y:410}],realRoomArea:5312},{id:4,coords:[{x:712.4,y:142},{x:712.4,y:214},{x:713,y:278},{x:744,y:278},{x:744,y:213},{x:777,y:213},{x:777,y:142},{x:712.4,y:142}],coordsOutside:[{x:707.6,y:136},{x:707.6,y:214},{x:707,y:284},{x:750,y:284},{x:750,y:219},{x:783,y:219},{x:783,y:136},{x:707.6,y:136}],coordsInside:[{x:712.4,y:142},{x:712.4,y:214},{x:713,y:278},{x:744,y:278},{x:744,y:213},{x:777,y:213},{x:777,y:142},{x:712.4,y:142}],inside:[],way:["2","0","16","14","11","12","13","2"],area:6621.4,surface:"",name:"",color:"gradientWhite",showSurface:!1,action:"add",coordsInsideWithOrphans:[{x:712.4,y:142},{x:712.4,y:214},{x:713,y:278},{x:744,y:278},{x:744,y:213},{x:777,y:213},{x:777,y:142},{x:712.4,y:142}],realRoomArea:6621.4},{id:5,coords:[{x:750,y:282.455},{x:750,y:372},{x:847,y:372},{x:847,y:282.455},{x:750,y:282.455}],coordsOutside:[{x:744,y:279.545},{x:744,y:378},{x:853,y:378},{x:853,y:279.545},{x:744,y:279.545}],coordsInside:[{x:750,y:282.455},{x:750,y:372},{x:847,y:372},{x:847,y:282.455},{x:750,y:282.455}],inside:[],way:["4","11","6","5","4"],area:8685.87,surface:"",name:"",color:"gradientWhite",showSurface:!1,action:"add",coordsInsideWithOrphans:[{x:750,y:282.455},{x:750,y:372},{x:847,y:372},{x:847,y:282.455},{x:750,y:282.455}],realRoomArea:8685.87},{id:6,coords:[{x:750,y:279.545},{x:847,y:279.545},{x:847,y:142},{x:783,y:142},{x:783,y:219},{x:750,y:219},{x:750,y:279.545}],coordsOutside:[{x:744,y:282.455},{x:853,y:282.455},{x:853,y:136},{x:777,y:136},{x:777,y:213},{x:744,y:213},{x:744,y:282.455}],coordsInside:[{x:750,y:279.545},{x:847,y:279.545},{x:847,y:142},{x:783,y:142},{x:783,y:219},{x:750,y:219},{x:750,y:279.545}],inside:[],way:["12","11","4","3","2","13","12"],area:10800.87,surface:"",name:"",color:"gradientWhite",showSurface:!1,action:"add",coordsInsideWithOrphans:[{x:750,y:279.545},{x:847,y:279.545},{x:847,y:142},{x:783,y:142},{x:783,y:213.2202738792507},{x:813.1728111565242,y:213.2202738792507},{x:813.1728111565242,y:219.2202738792507},{x:783,y:219.2202738792507},{x:750,y:219},{x:750,y:279.545}],realRoomArea:10800.87}]},plan_general:{version:"1.0",gps_latitude:45.80014066735085,gps_longitude:16.020899934557953,floorplan_bearing:87,testPlans:[{testLocations:[{x:834.376464277869,y:156.67913803276917,locationNumber:1,locationNote:""},{x:832.5014734618277,y:264.17861148580715,locationNumber:2,locationNote:""},{x:799.3766357117636,y:196.6789421083182,locationNumber:3,locationNote:""},{x:770.0017795937823,y:235.4287523065063,locationNumber:4,locationNote:""},{x:733.1269602116356,y:157.30413497144963,locationNumber:5,locationNote:""},{x:752.5018653107296,y:193.55395741491594,locationNumber:6,locationNote:""},{x:663.7523000181052,y:159.179125787491,locationNumber:7,locationNote:""},{x:695.002146952128,y:162.30411048089326,locationNumber:8,locationNote:""},{x:691.8771622587257,y:258.55363903768307,locationNumber:9,locationNote:""},{x:665.6272908341466,y:227.92878904234087,locationNumber:10,locationNote:""},{x:701.2521163389324,y:295.42845841982984,locationNumber:11,locationNote:""},{x:699.3771255228911,y:356.0531614718338,locationNumber:12,locationNote:""},{x:830.6264826457863,y:298.5534431132321,locationNumber:13,locationNote:""},{x:832.5014734618277,y:352.30317983975107,locationNumber:14,locationNote:""},{x:770.0017795937823,y:354.1781706557924,locationNumber:15,locationNote:""},{x:795.0016571410005,y:327.303302292533,locationNumber:16,locationNote:""},{x:782.5017183673914,y:395.4279686087024,locationNumber:17,locationNote:""}],testPlanNote:""}]}}];lc.log("Floorplan response data"),lc.log(t),lc.log("ucitavaj"),this.HISTORY.index=0,this.load(0,!1,t[0].plan_object),this.determineBoxPlanNameValue("set_name",t[0].plan_name),this.save(!0,!1),this.lastSavedObject=this.HISTORY[this.HISTORY.length-1],this.centerAndShowWholeFloorplan(),this.floorplanGeneral=t[0].plan_general,this.floorplanLastSavedTopLeftSvgCoords={x:this.boxWallCoordinates.minX,y:this.boxWallCoordinates.minY}}let s=document.querySelectorAll(".textEditorColor");for(let o=0;o<s.length;o++)s[o].addEventListener("click",this.onTextEditorColorButtonClick);let n=document.querySelectorAll(".textEditorColorModify");for(let o=0;o<n.length;o++)n[o].addEventListener("click",this.onModifyTextColorButonClick)}}componentWillUnmount(){lc.log("Component will unmount"),this.mounted=!1}render(){const{responseError:t}=this.state;this.isHeatmapView=!1;let e=[this.currentRouteID];return this.props.isHeatmap&&"new"!==e[e.length-1]&&(this.isHeatmapView=!0),(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{ref:this.loadingComponentContainer})," ",(0,u.jsx)(Qe,{responseError:t,errorMessageCheckDisabled:!0,children:(0,u.jsx)(ze,{indoorMapping:!0,responseError:t,children:(0,u.jsxs)("div",{className:"main-container full-height",style:{overflow:"hidden"},children:[(0,u.jsxs)("div",{className:"svg-canvases-container full-height",children:[(0,u.jsx)("div",{ref:this.mapLayer2DContainerRef,className:"map-layer-container"}),(0,u.jsxs)("svg",{ref:this.gridSvgElementRef,className:"grid-svg-element lin full-height",viewBox:"0 0 1100 700",preserveAspectRatio:"xMidYMin slice",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("defs",{children:(0,u.jsx)(Ro,{UserPermissionsContext:this.context,svgMeterUnits:this.meter,imperialSystemSquareFeetSize:this.imperialSystemSquareFeetSize})}),(0,u.jsx)("g",{ref:this.boxGridRef,className:"svgGrid box-grid fade-in",children:(0,u.jsx)("rect",{width:2e4,height:2e4,x:-3500,y:-2e3,fill:"url(#grid)"})})]}),(0,u.jsxs)("svg",{ref:this.linRef,viewBox:"0 0 1100 700",preserveAspectRatio:"xMidYMin slice",xmlns:"http://www.w3.org/2000/svg",className:"lin full-height",onClick:t=>t.preventDefault(),onMouseUp:t=>this.handleMouseUp(t),onMouseDown:t=>this.handleMouseDown(t),onMouseMove:t=>{P(t,(t=>{this.handleMouseMove(t)}),30)()},children:[(0,u.jsx)(ka,{wallMaterials:this.wallMaterials,floorplanImagePattern:this.floorplanImagePattern,floorplanImage:this.floorplanImage,UserPermissionsContext:this.context,svgMeterUnits:this.meter,imperialSystemSquareFeetSize:this.imperialSystemSquareFeetSize}),(0,u.jsx)("g",{className:"boxGrid",style:{opacity:0},children:(0,u.jsx)("rect",{width:2e4,height:2e4,x:-3500,y:-2e3,fill:"url(#grid)"})}),(0,u.jsx)("g",{id:"boxFloorplan",ref:this.boxFloorplanImage,className:"box-floorplan fade-in"}),(0,u.jsx)("g",{id:"boxSurface",ref:this.boxSurface}),(0,u.jsx)("g",{id:"boxRoom",ref:this.boxRoom}),(0,u.jsx)("g",{id:"boxWall",ref:this.boxWall}),(0,u.jsx)("g",{id:"boxCarpentry",ref:this.boxCarpentry}),(0,u.jsx)("g",{id:"boxSourceLocation",ref:this.indoorPlanningCorrectAreaBox}),(0,u.jsx)("g",{id:"boxTestPlanLocations",ref:this.testPlanLocationsBox}),(0,u.jsx)("g",{id:"boxBind",ref:this.boxBind}),(0,u.jsx)("g",{id:"boxArea",ref:this.boxArea}),(0,u.jsx)("g",{id:"boxRib",ref:this.boxRib,className:"box-rib fade-in"}),(0,u.jsx)("g",{id:"boxScale",ref:this.boxScale,className:"box-scale fade-in"}),(0,u.jsx)("g",{id:"boxText",ref:this.boxText}),(0,u.jsx)("g",{id:"boxDebug",ref:this.boxDebug})]}),this.props.isHeatmap?(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("canvas",{ref:this.heatmapCanvas,className:"heatmap-canvas",style:{zIndex:3}}),(0,u.jsx)("canvas",{ref:this.heatmapHelperCanvas,className:"heatmap-canvas",style:{zIndex:4}})]}):(0,u.jsx)("canvas",{ref:this.simulateTestingCanvasRef,className:"heatmap-canvas",style:{zIndex:3}})]}),(0,u.jsx)("div",{ref:this.floorplan3DContainerRef,className:"floorplan3D-container full-height hidden"}),this.props.isHeatmap&&(0,u.jsx)("div",{ref:this.arrangeHeatmapPositionsByTestPlanContainerRef,className:"indoor-modal arrange-heatmap-positions-by-test-plan-container"}),(0,u.jsx)("div",{ref:this.showFloorplanOnMapContainerRef,className:"indoor-modal show-floorplan-on-map-container"}),(0,u.jsx)("div",{ref:this.areaValue,className:"areaValue hidden"}),(0,u.jsx)(Ho,{modalRef:this.wallTurnCWSystemExceptionModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{children:(0,u.jsx)("p",{className:"indoor-paragraph-centered",children:"Nije pronaden nijedan pravi zid kod CW odredivanja zidova - roomMaker() metoda"})}),(0,u.jsx)("div",{className:"indoor-modal-row center",children:(0,u.jsx)(Ue,{type:"primary",onClick:()=>vt(this.wallTurnCWSystemExceptionModal.current,this.modalTimeout),children:"CLOSE"})})]}),modalFooter:null}),(0,u.jsxs)("div",{ref:this.drawingAreaPopup,className:"drawing-area-popup",children:[(0,u.jsx)("div",{className:"popup-tip"}),(0,u.jsx)("div",{className:"popup-content",children:(0,u.jsxs)("div",{className:"popup-content-container",children:[(0,u.jsx)("div",{className:"close-tooltip",children:(0,u.jsx)("div",{onClick:this.onDrawingAreaPopupCloseClick,children:(0,u.jsx)(Ss.Z,{})})}),(0,u.jsx)("div",{ref:this.popupContentRef,className:"content-mounting-container"})]})})]}),this.props.isHeatmap?null:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsxs)(Ba,{containerRef:this.wallTools,onCloseRightBox:this.onWallToolsCloseClick,children:[(0,u.jsx)("h3",{children:"Modify the wall"}),(0,u.jsx)(ar,{ref:this.wallWidthNumberSliderInput,sliderInputRef:this.wallWidth,valueLabelText:(0,u.jsxs)(s.Fragment,{children:["Width [",(0,u.jsx)("span",{children:"".concat(this.wallThicknessMinValue,"-").concat(this.wallThicknessMaxValue)}),"] :"," ",(0,u.jsx)("span",{ref:this.wallWidthValue})," ",(0,u.jsx)("span",{children:"".concat("metric"===this.context.userUnit?"cm":"in")})]}),sliderStep:this.wallWidthInputStep,minValue:this.wallThicknessMinValue,maxValue:this.wallThicknessMaxValue,onSliderValueChanged:this.onWallWidthInputChange,onSliderChangeFinished:()=>{this.saveNeeded=!0,this.save(!1,!0),this.editor.showScaleBox()}}),(0,u.jsx)(ui,{label:(0,u.jsxs)(s.Fragment,{children:["Length: ",(0,u.jsx)("span",{ref:this.wallLengthValue})," ",(0,u.jsx)("span",{children:"".concat("metric"===this.context.userUnit?"m":"ft")})]}),children:(0,u.jsx)(ii,{ref:this.wallLength,inputStep:this.wallLengthInputStep,inputMin:this.wallLengthInputStep,inputMax:1/0,onInputValueChanged:this.onWallLengthInputChange,checkInputValueChangeBeforeCall:!0})}),(0,u.jsx)(ui,{label:"Wall material",children:(0,u.jsx)(xi,{ref:this.wallMaterialSelectRef,dropdownMenuRef:this.wallMaterialDropdownMenu,onListItemClick:this.onWallMaterialListItemClick,listItems:this.wallMaterials.map((t=>t.title))})}),(0,u.jsx)("div",{className:"button-centered-container",children:(0,u.jsx)(Ue,{type:"delete",onClick:this.onWallTrashClick,children:"Delete wall"})})]}),(0,u.jsxs)(Ba,{containerRef:this.objBoundingBox,onCloseRightBox:this.onObjBoundingBoxBackButtonClick,children:[(0,u.jsx)("h3",{children:"Modify text"}),(0,u.jsx)(ar,{ref:this.objBoundingBoxRotationNumberSliderInput,sliderInputRef:this.bboxRotation,valueLabelText:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(Jn,{}),"Rotation : ",(0,u.jsx)("span",{ref:this.bboxRotationVal})," \xb0"]}),sliderStep:1,minValue:-180,maxValue:180,onSliderValueChanged:this.onBBoxRotationChange,onSliderChangeFinished:()=>{this.saveNeeded=!0,this.save(!1,!0)}}),(0,u.jsx)(ar,{ref:this.objBoundingBoxFontSizeNumberSliderInput,sliderInputRef:this.modifyFontSizeSlider,valueLabelText:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(Yn,{}),"Font size : ",(0,u.jsx)("span",{ref:this.bboxFontSizeVal})]}),sliderStep:.1,minValue:10,maxValue:70,onSliderValueChanged:this.onModifyFontSizeChange,onSliderChangeFinished:()=>{this.saveNeeded=!0,this.save(!1,!0)}}),(0,u.jsx)(pi,{formGroupRef:this.objBoundingBoxTextContent,label:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(Qn,{}),"Text content:"]}),labelStyle:{display:"flex",alignItems:"center"},inputRef:this.modifyTextContent,onChange:this.onModifyTextContentChange}),(0,u.jsx)(ui,{labelStyle:{display:"flex",alignItems:"center"},label:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(_n,{}),"Text color:"]}),children:(0,u.jsx)("div",{className:"color-grid-container",children:ot.map((t=>(0,u.jsx)("div",{className:"color textEditorColorModify",style:{color:t.gradientStartColor,background:"linear-gradient(30deg, ".concat(t.gradientStartColor,", ").concat(t.gradientStopColor,")")}},t.gradientStartColor)))})}),(0,u.jsx)("div",{className:"button-centered-container",children:(0,u.jsx)(Ue,{type:"delete",onClick:this.onObjectBBoxDeleteClick,children:"Delete text"})})]}),(0,u.jsx)(tr,{ref:this.uploadFloorplanImageToolsRef,mainComponentThis:this,floorplanImageTools:this.floorplanImageTools,uploadImageFloorplanSettingsIconRef:this.uploadImageFloorplanSettingsIconRef,uploadFloorplanImageStatusContainerRef:this.uploadFloorplanImageStatusContainerRef,uploadImageFloorplanHideRef:this.uploadImageFloorplanHideRef,uploadImageFloorplanShowRef:this.uploadImageFloorplanShowRef,boxFloorplanImage:this.boxFloorplanImage,uploadFloorplanImageErrorMessageRef:this.uploadFloorplanImageErrorMessageRef,uploadFloorplanImageErrorModal:this.uploadFloorplanImageErrorModal,floorplanImagePattern:this.floorplanImagePattern,floorplanImage:this.floorplanImage}),(0,u.jsxs)(Ba,{containerRef:this.objTools,onCloseRightBox:this.onDoorWindowCloseClick,children:[(0,u.jsx)("h3",{ref:this.objToolsTitleRef,children:"Modify door"}),(0,u.jsx)("div",{ref:this.objToolsHinge,children:(0,u.jsx)("div",{className:"button-centered-container",children:(0,u.jsx)(Ue,{type:"primary",onClick:this.onObjToolsHingeClick,children:"REVERSE SWING"})})}),(0,u.jsx)("br",{ref:this.objToolsBreakLine}),(0,u.jsx)(ar,{ref:this.doorWindowWidthNumberSliderInput,sliderInputRef:this.doorWindowWidth,valueLabelText:(0,u.jsxs)(s.Fragment,{children:["Width [",(0,u.jsx)("span",{ref:this.doorWindowWidthScale}),"] : ",(0,u.jsx)("span",{ref:this.doorWindowWidthVal})," ",(0,u.jsx)("span",{children:"".concat("metric"===this.context.userUnit?"cm":"in")})]}),sliderStep:this.doorWindowWidthInputStep,onSliderValueChanged:this.onDoorWindowWidthChange,onSliderChangeFinished:()=>{this.saveNeeded=!0,this.save(!1,!0)}}),(0,u.jsx)("div",{className:"button-centered-container",children:(0,u.jsx)(Ue,{type:"delete",onClick:this.onObjTrashButtonClick,children:(0,u.jsx)("span",{ref:this.objToolsDeleteButtonText,children:"Delete door"})})})]}),(0,u.jsxs)(Ba,{containerRef:this.roomTools,onCloseRightBox:this.onResetRoomToolsClick,children:[(0,u.jsx)(ui,{label:(0,u.jsxs)(s.Fragment,{children:["Estimated surface: ",(0,u.jsx)("span",{className:"size"})]})}),(0,u.jsx)(ui,{label:"If you have the actual area, you can write it(".concat("metric"===this.context.userUnit?"m\xb2":"ft\xb2",")"),children:(0,u.jsx)(ii,{ref:this.roomSurface,placeholder:"Real surface",inputStep:this.roomSurfaceInputStep,inputMin:this.roomSurfaceInputStep,inputMax:1/0,checkInputValueChangeBeforeCall:!0})}),(0,u.jsx)(pi,{label:"Type room name",inputRef:this.roomName,placeholder:"e.g. Bedroom"}),(0,u.jsx)(ui,{label:"or select it:",children:(0,u.jsx)(xi,{ref:this.roomNameSelectRef,dropdownMenuRef:this.roomNameDropdownMenu,onListItemClick:this.onRoomNameItemClick,listItems:at})}),(0,u.jsxs)("div",{children:[(0,u.jsx)(Ue,{type:"primary",onClick:this.onApplySurfaceClick,children:"Apply"}),(0,u.jsx)(Ue,{type:"border-danger",onClick:this.onResetRoomToolsClick,children:"Cancel"})]})]})]}),this.props.isHeatmap?(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{ref:this.panelInfoExplanationBox,className:"panel-info-explanation-box"}),(0,u.jsx)("div",{ref:this.panelOptionNoteExplanationBox,className:"panel-info-explanation-box",style:{width:"auto",maxWidth:200}})]}):(0,u.jsx)(s.Fragment,{children:(0,u.jsx)("div",{ref:this.wallMaterialListRef,className:"wall-materials-list",onMouseLeave:()=>this.wallMaterialListRef.current.classList.remove("active"),children:this.wallMaterials.map(((t,e)=>(0,u.jsxs)("div",{className:"list-item",onClick:e=>this.onWallMaterialClick(e.currentTarget,t.title),children:[(0,u.jsx)("div",{className:"material",title:t.title,children:(0,u.jsxs)("svg",{children:[(0,u.jsx)("rect",{rx:"5",ry:"5",fill:t.fill}),(0,u.jsx)("circle",{className:"".concat(this.selectedWallMaterial===t.title?"active-wall-material":""),cx:"20",cy:"20",r:"3"})]})},e),(0,u.jsx)("p",{children:t.title})]},e)))})}),(0,u.jsxs)(Vo,{panelRef:this.panel,panelControlRef:this.panelControl,onPanelMouseMove:this.onPanelMouseMove,onPanelControlClick:this.onPanelControlClick,children:[(0,u.jsx)("div",{className:"button-centered-container panel-action-button",children:(0,u.jsx)(Ue,{type:"blue",className:"show3d-button panel-transition",onClick:this.onShow3DClick,children:"View 3D"})}),this.isHeatmapView?(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{ref:this.optionButtonsContainerRef,className:"panel-option-buttons-container",children:this.heatmapOptions.map(((t,e)=>(0,u.jsxs)("div",{className:"panel-option-container",children:[(0,u.jsxs)("div",{className:"option-name-note-container",children:[(0,u.jsxs)("button",{title:"Option ".concat(e+1),className:"option-button btn ".concat(this.currentHeatmapOptionIndex===e?"btn-active":""),style:{margin:"5px 0"},onClick:()=>this.handleHeatmapOptionClick(e),children:[(0,u.jsx)("span",{className:"label-span",children:"Option\xa0"}),(0,u.jsx)("span",{children:e+1})]}),(0,u.jsx)("div",{className:"option-info",children:(0,u.jsx)(ti,{indoorPanelExplanationBox:this.panelOptionNoteExplanationBox,infoText:ge(t)})})]}),(0,u.jsx)("button",{className:"btn btn-default indoor-icon-button",title:"Delete option ".concat(e+1),onClick:()=>{this.heatmapOptions.length>1?(this.deleteHeatmapOptionIndex=e,this.deleteOptionIndexContainer.current.innerHTML=e+1,wt(this.heatmapDeleteOptionModal.current,this.modalTimeout)):wt(this.heatmapDeleteOptionAlertModal.current,this.modalTimeout)},children:(0,u.jsx)(Fn.Z,{})})]},"".concat(this.heatmapOptions.length,"+").concat(e))))}),(0,u.jsx)("br",{})]}):null,(0,u.jsxs)("li",{ref:this.undoRedoContainer,className:"undo-redo-container",children:[(0,u.jsx)("button",{className:"btn disabled svg-center-inside-container",ref:this.undoButton,title:"Undo",onClick:this.onUndoClick,children:(0,u.jsx)(to,{})}),(0,u.jsx)("button",{className:"btn disabled svg-center-inside-container",ref:this.redoButton,title:"Redo",onClick:this.onRedoClick,children:(0,u.jsx)(io,{})})]}),(0,u.jsx)("br",{}),(0,u.jsx)("li",{className:"panel-margin",children:(0,u.jsxs)("button",{className:"btn btn-default fully panel-icon-button-container",title:this.props.isHeatmap?"Save heatmap":"Save floorplan",onClick:()=>{this.props.isHeatmap?this.isHeatmapView?this.updateHeatmap(this.currentHeatmapOptionIndex,!1):this.onSaveHeatmap():this.onSaveFloorplan()},children:[(0,u.jsx)(Dn.Z,{}),(0,u.jsx)("p",{children:"SAVE"})]})}),!this.props.isHeatmap||this.isHeatmapView?(0,u.jsx)(s.Fragment,{children:(0,u.jsx)("li",{className:"panel-margin",children:(0,u.jsxs)("button",{className:"btn btn-default fully panel-icon-button-container",title:this.props.isHeatmap?"Create new heatmap option from current one":"Save floorplan as",onClick:()=>{this.props.isHeatmap?this.onHeatmapSaveAsClick():!this.isFloorplanEmpty()&&wt(this.saveFloorplanModal.current,this.modalTimeout)},children:[(0,u.jsxs)("div",{className:"save-as-icon-container",children:[(0,u.jsx)(Dn.Z,{}),(0,u.jsx)(qn.Z,{})]}),(0,u.jsx)("p",{children:this.isHeatmapView?"NEW OPTION":"SAVE AS..."})]})})}):null,(0,u.jsx)("li",{children:(0,u.jsxs)("button",{className:"btn btn-default fully panel-icon-button-container",title:this.props.isHeatmap?"Generate new heatmap":"Create new floorplan",onClick:this.onCreateNewButtonClick,children:[(0,u.jsx)(ao,{}),(0,u.jsx)("p",{children:"NEW"})]})}),(0,u.jsx)("br",{}),this.props.isHeatmap?(0,u.jsx)(s.Fragment,{children:(0,u.jsx)("li",{children:(0,u.jsxs)("button",{className:"btn btn-default fully panel-icon-button-container",title:"Generate heatmap",onClick:this.onGenerateHeatmapClick,children:[(0,u.jsx)(po,{}),(0,u.jsx)("p",{children:"GENERATE"})]})})}):null,!this.props.isHeatmap||this.isHeatmapView?(0,u.jsxs)(s.Fragment,{children:[this.isHeatmapView&&(0,u.jsx)("br",{}),(0,u.jsx)("li",{children:(0,u.jsxs)("button",{className:"btn btn-default fully panel-icon-button-container",title:"Export as PNG",onClick:()=>{this.isFloorplanNoWalls()?wt(this.showFloorplanNoWallsErrorModal.current,this.modalTimeout):this.downloadSvg(this.isHeatmapView,!0,!0,!1,!1)},children:[(0,u.jsx)(Ln.Z,{}),(0,u.jsx)("p",{children:"EXPORT PNG"})]})})]}):null,(0,u.jsx)("br",{}),(0,u.jsx)("li",{children:(0,u.jsxs)("button",{className:"btn btn-default fully panel-icon-button-container",title:"Edit floorplan GPS location",onClick:this.onFloorplanGpsCoordsClick,children:[(0,u.jsx)(To,{}),(0,u.jsx)("p",{children:"GPS COORDS"})]})}),(0,u.jsx)("li",{children:(0,u.jsx)(lr,{ref:this.showMapLayer2DInputRef,isHeatmap:this.props.isHeatmap,onChangeCallback:this.onShowOnMapLayer2DClick})}),this.props.isHeatmap?null:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("br",{}),(0,u.jsxs)("li",{ref:this.uploadFloorplanPanelButtonContainer,className:"upload-floorplan-panel-button-container",children:[(0,u.jsxs)("button",{className:"btn btn-default fully panel-icon-button-container",title:"Upload floorplan image",ref:this.uploadFloorplanImageMode,onClick:this.onUploadFloorplanImageClick,style:{position:"relative"},children:[(0,u.jsx)(lo,{}),(0,u.jsx)(En.Z,{className:"settings-icon hidden",ref:this.uploadImageFloorplanSettingsIconRef}),(0,u.jsx)("p",{children:"IMAGE"})]}),(0,u.jsxs)("button",{ref:this.uploadFloorplanImageStatusContainerRef,onClick:this.onUploadedFloorplanImageStatusChangeClick,className:"btn btn-default show-hide-uploaded-floorplan-image-container hidden",children:[(0,u.jsx)(Hn.Z,{ref:this.uploadImageFloorplanShowRef,style:{display:"none"}}),(0,u.jsx)(Gn.Z,{ref:this.uploadImageFloorplanHideRef,style:{display:"none"}})]})]}),(0,u.jsx)("br",{})]}),this.props.isHeatmap?null:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("li",{children:(0,u.jsxs)("button",{title:"Select mode",className:"btn btn-success fully panel-icon-button-container",ref:this.selectMode,onClick:this.onSelectModeClick,children:[(0,u.jsx)(no,{}),(0,u.jsx)("p",{children:"SELECT"})]})}),(0,u.jsx)("br",{}),(0,u.jsx)("li",{className:"panel-margin",children:(0,u.jsx)("div",{ref:this.wallButtonContainer,children:(0,u.jsxs)("button",{ref:this.lineMode,className:"btn btn-default fully panel-icon-button-container","data-toggle":"tooltip","data-placement":"right",title:"Make walls",onClick:this.onLineModeClick,children:[(0,u.jsx)(Ao,{}),(0,u.jsx)("p",{children:"WALL"})]})})}),(0,u.jsxs)("li",{ref:this.wallOptionsContainer,className:"panel-margin wall-drawing-options-container hidden",children:[(0,u.jsx)("div",{children:(0,u.jsxs)("button",{ref:this.wallMaterialButtonRef,className:"btn btn-default fully panel-icon-button-container wall-material-button",title:"Wall material",onMouseOver:this.onWallMaterialButtonHover,onMouseLeave:()=>this.wallMaterialListRef.current.classList.remove("active"),children:[(0,u.jsx)(Vn.Z,{}),(0,u.jsx)("p",{children:"MATERIAL"})]})}),(0,u.jsx)(ci,{title:"Draw multiple walls",inputRef:this.multipleWallDrawing,onChange:this.onMultiChange,defaultChecked:!0,label:"MULTIPLE"}),(0,u.jsx)(ui,{containerStyle:{marginBottom:0},label:"Wall thickness(".concat("metric"===this.context.userUnit?"cm":"in",")"),children:(0,u.jsx)(ii,{ref:this.wallThickness,inputStyle:{padding:"4px 6px"},title:"Set wall thickness",inputStep:this.wallWidthInputStep,inputMin:this.wallThicknessMinValue,inputMax:this.wallThicknessMaxValue,defaultValue:this.wallThicknessDefaultValue,onInputValueChanged:()=>{this.wallSize=He(parseFloat(this.wallThickness.current.getValue()),this.context.userUnit,"metric"===this.context.userUnit?"centimeter":"inch","meter",!0)*this.meter},checkInputValueChangeBeforeCall:!0})})]}),(0,u.jsx)("li",{className:"panel-margin",children:(0,u.jsxs)("button",{className:"btn btn-default fully panel-icon-button-container",ref:this.textMode,"data-toggle":"tooltip","data-placement":"right",title:"Add text",onClick:this.onTextModeClick,children:[(0,u.jsx)(kn.Z,{}),(0,u.jsx)("p",{children:"TEXT"})]})}),(0,u.jsx)("li",{className:"panel-margin",children:(0,u.jsxs)("button",{title:"Add door",className:"btn btn-default fully panel-icon-button-container",ref:this.doorMode,onClick:this.onDoorModeClick,children:[(0,u.jsx)(Co,{}),(0,u.jsx)("p",{children:"DOOR"})]})}),(0,u.jsx)("li",{className:"panel-margin",children:(0,u.jsxs)("button",{title:"Add window",className:"btn btn-default fully panel-icon-button-container",ref:this.windowMode,onClick:this.onWindowModeClick,children:[(0,u.jsx)(yo,{}),(0,u.jsx)("p",{children:"WINDOW"})]})}),(0,u.jsx)("li",{children:(0,u.jsxs)("button",{title:"Select room",className:"btn btn-default fully panel-icon-button-container",ref:this.roomMode,onClick:this.onRoomModeClick,children:[(0,u.jsx)(zn.Z,{style:{fill:"none"}}),(0,u.jsx)("p",{children:"ROOM"})]})})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{position:"relative"},children:[(0,u.jsx)("li",{children:(0,u.jsxs)("button",{title:"Show layers",className:"btn btn-default fully panel-icon-button-container",style:{position:"relative"},ref:this.layerMode,onClick:this.onLayerModeClick,children:[(0,u.jsx)(Nn.Z,{style:{fill:"none"}}),(0,u.jsx)("p",{children:"LAYERS"}),(0,u.jsx)(Wn.Z,{ref:this.layersListArrowRef,className:"layers-list-arrow"})]})}),(0,u.jsxs)("div",{ref:this.layerList,className:"list-unstyled layer-list hidden",children:[(0,u.jsx)(ci,{title:"Show floorplan measures",inputRef:this.showRibRef,onChange:this.onShowRibClick,defaultChecked:!0,label:"MEASURES"}),(0,u.jsx)(ci,{title:"Show grid",inputRef:this.showBoxGrid,onChange:this.onShowBoxGridClick,defaultChecked:!0,label:"GRID"}),this.props.isHeatmap&&(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(ci,{title:"Show position numbers on heatmap",inputRef:this.showHeatmapPositionNumbersRef,onChange:this.onShowHeatmapPositionNumbersChange,defaultChecked:!0,label:"POSITION NUM"}),(0,u.jsxs)("div",{className:"show-dead-positions-container",children:[(0,u.jsx)(ci,{title:"Show dead positions",inputRef:this.showHeatmapDeadPositionsRef,onChange:this.onShowHeatmapDeadPositionsChange,label:"DEAD POSITION"}),(0,u.jsx)("div",{className:"absolute-info-box-container",children:(0,u.jsx)(ti,{indoorPanelExplanationBox:this.panelInfoExplanationBox,infoText:"Dead position is one which does not have any data for currently selected filter parameters"})})]})]})]})]}),this.props.isHeatmap?(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("br",{}),(0,u.jsx)(Fo,{ref:this.positionDrawingRef,panelInfoExplanationBox:this.panelInfoExplanationBox,setResponseError:this.setState.bind(this),mainComponentThis:this})]}):null,!this.props.isHeatmap&&"new"!==e[e.length-1]&&(0,u.jsx)(pr,{indoorPlanningLabelRef:this.indoorPlanningLabelRef,onSimulateTestingClick:this.onSimulateTestingClick,onPlanTestingClick:this.onPlanTestingClick,mainComponentThis:this}),(0,u.jsx)("div",{style:{clear:"both"}})]}),!this.props.isHeatmap&&"new"!==e[e.length-1]&&(0,u.jsx)($d,{ref:this.planTestingLeftPanelRef,rightBoxRef:this.planTestingRightBoxRef,floorplanID:this.getFloorplanID(),setResponseError:this.setState.bind(this),mainComponentThis:this}),this.props.isHeatmap?(0,u.jsx)(Ca,{ref:this.heatmapRightBoxRef,heatmapRightBoxRef:this.heatmapParametersRef,positionsDataFilterRef:this.positionsDataFilterRef,positionDrawingRef:this.positionDrawingRef,pdfReportRef:this.pdfReportRef,positionsData:this.positionsData,bases:this.state.gatewaysData,antennas:this.infoTabData?this.infoTabData.antennas:[],sfs:this.infoTabData?this.infoTabData.sfs:[],showGatewaysSelectRef:this.showGatewaysSelectRef,gatewaysFilterRef:this.gatewaysFilterRef,positionDataOptionsRef:this.positionDataOptionsRef,heatmapOptionNoteRef:this.heatmapOptionNoteRef,heatmapFloorNumberRef:this.heatmapFloorNumberRef,positionRadiusInput:this.positionRadiusInput,heatmapColorRangeRef:this.heatmapColorRangeRef,isHeatmapView:this.isHeatmapView,infoTabData:this.infoTabData,mainComponentThis:this}):null,!this.props.isHeatmap&&"new"!==e[e.length-1]&&(0,u.jsx)(rc,{ref:this.planTestingRightBoxRef,leftPanelRef:this.planTestingLeftPanelRef,setResponseError:this.setState.bind(this),mainComponentThis:this}),!this.props.isHeatmap&&(0,u.jsx)(La,{ref:this.simulateTestingRightBoxRef,rightBoxContainerRef:this.simulateTestingOptionsRef,createRoomPath:this.createRoomPath,mainComponentThis:this}),this.props.isHeatmap?(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(Kd,{ref:this.positionDrawingSystemExceptionErrorRef,modalTimeout:this.modalTimeout}),(0,u.jsx)(Ho,{modalRef:this.generateHeatmapErrorModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"indoor-paragraph-centered",children:"An error happened while generating heatmap. Please try again later"}),(0,u.jsxs)("p",{className:"indoor-paragraph-centered",children:["For support contact: ",(0,u.jsx)("a",{href:"mailto: slaven@glamos.eu",children:"slaven@glamos.eu"})]})]}),(0,u.jsx)("div",{className:"indoor-modal-row center",children:(0,u.jsx)(Ue,{type:"primary",onClick:()=>vt(this.generateHeatmapErrorModal.current,this.modalTimeout),children:"CLOSE"})})]}),modalFooter:null}),(0,u.jsx)(Ho,{modalRef:this.heatmapDownloadPdfErrorModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{children:(0,u.jsxs)("p",{className:"indoor-paragraph-centered",children:["Please ",(0,u.jsx)("b",{children:"generate"})," heatmap first in order to download PDF report."]})}),(0,u.jsx)("div",{className:"indoor-modal-row center",children:(0,u.jsx)(Ue,{type:"primary",onClick:()=>vt(this.heatmapDownloadPdfErrorModal.current,this.modalTimeout),children:"OK"})})]}),modalFooter:null}),(0,u.jsx)(Ho,{modalRef:this.heatmapExportPngErrorModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{children:(0,u.jsxs)("p",{className:"indoor-paragraph-centered",children:["Please ",(0,u.jsx)("b",{children:"generate"})," heatmap first in order to export it as PNG."]})}),(0,u.jsx)("div",{className:"indoor-modal-row center",children:(0,u.jsx)(Ue,{type:"primary",onClick:()=>vt(this.heatmapExportPngErrorModal.current,this.modalTimeout),children:"OK"})})]}),modalFooter:null}),(0,u.jsx)(Ho,{modalRef:this.saveHeatmapModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(pi,{label:"Heatmap name:",inputRef:this.heatmapNameInput,inputStyle:{marginBottom:10}}),(0,u.jsxs)("div",{className:"indoor-modal-row between",children:[(0,u.jsx)(Ue,{type:"primary",onClick:this.onSaveHeatmapButtonClick,children:"SAVE HEATMAP"}),(0,u.jsx)(Ue,{type:"border-danger",onClick:()=>vt(this.saveHeatmapModal.current,this.modalTimeout),children:"CANCEL"})]})]}),modalFooter:null}),(0,u.jsx)(Ho,{modalRef:this.saveHeatmapOptionAlertModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[" ",(0,u.jsx)("div",{children:(0,u.jsx)("p",{className:"indoor-paragraph-centered",children:"Do you want to save or discard changes on current option before switching?"})}),(0,u.jsxs)("div",{className:"indoor-modal-row around",children:[(0,u.jsx)(Ue,{type:"primary",onClick:()=>vt(this.saveHeatmapOptionAlertModal.current,this.modalTimeout,(()=>{this.updateHeatmap(this.targetHeatmapOptionIndex,!0)})),children:"SAVE CHANGES"}),(0,u.jsx)(Ue,{type:"light-blue",onClick:()=>{n.render((0,u.jsx)(ra,{}),this.loadingComponentContainer.current,(()=>{vt(this.saveHeatmapOptionAlertModal.current,this.modalTimeout,(()=>{this.discardHeatmapOptionChanges((()=>{this.handleHeatmapOptionClick(this.targetHeatmapOptionIndex)}))}))}))},children:"DISCARD CHANGES"}),(0,u.jsx)(Ue,{type:"border-danger",onClick:()=>{vt(this.saveHeatmapOptionAlertModal.current,this.modalTimeout)},children:"CANCEL"})]})]}),modalFooter:null}),(0,u.jsx)(Ho,{modalRef:this.heatmapDeleteOptionAlertModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[" ",(0,u.jsx)("div",{children:(0,u.jsx)("p",{className:"indoor-paragraph-centered",children:"Cannot delete single option. If you want to delete heatmap you can do it here"})}),(0,u.jsx)("div",{className:"indoor-modal-row center",children:(0,u.jsx)(Ue,{type:"primary",onClick:()=>vt(this.heatmapDeleteOptionAlertModal.current,this.modalTimeout),children:"OK"})})]}),modalFooter:null}),(0,u.jsx)(Ho,{modalRef:this.saveHeatmapOptionAsAlertModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"indoor-paragraph-centered",children:"This will create new option with current changes."}),(0,u.jsxs)("p",{className:"indoor-paragraph-centered",children:["Changes on current option will be saved ",(0,u.jsx)("b",{children:"only"})," on new option."]})]}),(0,u.jsxs)("div",{className:"indoor-modal-row between",children:[(0,u.jsx)(Ue,{type:"primary",onClick:()=>{vt(this.saveHeatmapOptionAsAlertModal.current,this.modalTimeout,(()=>{this.onSaveAsHeatmapOptionCreateClick()}))},children:"CREATE"}),(0,u.jsx)(Ue,{type:"border-danger",onClick:()=>{vt(this.saveHeatmapOptionAsAlertModal.current,this.modalTimeout)},children:"CANCEL"})]})]}),modalFooter:null}),(0,u.jsx)(Ho,{modalRef:this.saveHeatmapOptionAsModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{children:(0,u.jsx)("p",{className:"indoor-paragraph-centered",children:"Do you want to create new heatmap option from current one?"})}),(0,u.jsxs)("div",{className:"indoor-modal-row between",children:[(0,u.jsx)(Ue,{type:"primary",onClick:()=>vt(this.saveHeatmapOptionAsModal.current,this.modalTimeout,(()=>{this.onSaveAsHeatmapOptionConfirmClick()})),children:"CREATE"}),(0,u.jsx)(Ue,{type:"border-danger",onClick:()=>{vt(this.saveHeatmapOptionAsModal.current,this.modalTimeout)},children:"CANCEL"})]})]}),modalFooter:null}),(0,u.jsx)(Ho,{modalRef:this.heatmapColorErrorModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("p",{className:"indoor-paragraph-centered",children:["Heatmap color minimum value must be ",(0,u.jsx)("b",{children:"lower"})," than maximum value"]}),(0,u.jsxs)("p",{className:"indoor-paragraph-centered",children:["Please check and change your values inside ",(0,u.jsx)("b",{children:"HEATMAP"})," tab"]})]}),(0,u.jsx)("div",{className:"indoor-modal-row center",children:(0,u.jsx)(Ue,{type:"primary",onClick:()=>vt(this.heatmapColorErrorModal.current,this.modalTimeout),children:"CLOSE"})})]}),modalFooter:null}),(0,u.jsx)(Zd,{ref:this.positionOutsideRoomHeatmapErrorRef,modalTimeout:this.modalTimeout}),(0,u.jsx)(Ho,{modalRef:this.heatmapDeleteOptionModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{children:(0,u.jsxs)("p",{className:"indoor-paragraph-centered",children:["Do you want to delete heatmap ",(0,u.jsx)("b",{children:"Option "}),(0,u.jsx)("b",{ref:this.deleteOptionIndexContainer})," ?"]})}),(0,u.jsxs)("div",{className:"indoor-modal-row between",children:[(0,u.jsx)(Ue,{type:"delete",onClick:()=>this.deleteHeatmapOption(this.deleteHeatmapOptionIndex),children:"DELETE"}),(0,u.jsx)(Ue,{type:"border-danger",onClick:()=>{vt(this.heatmapDeleteOptionModal.current,this.modalTimeout)},children:"CANCEL"})]})]}),modalFooter:null}),(0,u.jsx)(Ho,{modalRef:this.heatmapCreateNewUnsavedAlertModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"indoor-paragraph-centered",children:"Are you sure you want to generate new heatmap?"}),(0,u.jsxs)("p",{className:"indoor-paragraph-centered",children:["All your unsaved changes will be ",(0,u.jsx)("b",{children:"lost"}),"."]})]}),(0,u.jsxs)("div",{className:"indoor-modal-row between",children:[(0,u.jsx)(Ue,{type:"primary",children:"GENERATE NEW"}),(0,u.jsx)(Ue,{type:"border-danger",onClick:()=>{vt(this.heatmapCreateNewUnsavedAlertModal.current,this.modalTimeout)},children:"CANCEL"})]})]}),modalFooter:null}),(0,u.jsx)(Ho,{modalRef:this.heatmapFloorplanNeedsUpdateModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{children:(0,u.jsxs)("p",{children:["Looks like heatmap floorplan was updated since heatmap was generated. These are your",(0,u.jsx)("b",{children:" options"}),":"]})}),(0,u.jsx)("hr",{className:"indoor-modal-divider"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{children:(0,u.jsx)("b",{children:"Switch to latest floorplan version"})}),(0,u.jsx)(Ue,{type:"primary",onClick:()=>this.updateHeatmapFloorplanCallback&&this.updateHeatmapFloorplanCallback(),children:"UPDATE TO LATEST"}),(0,u.jsxs)("p",{children:[(0,u.jsx)("b",{children:"NOTE"}),": All heatmap parameters will be preserved except showed positions which will be hidden and prepared for new drawing and heatmap generation."]})]}),(0,u.jsx)("hr",{className:"indoor-modal-divider"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{children:(0,u.jsx)("b",{children:"Stay on older floorplan version"})}),(0,u.jsx)(Ue,{type:"light-blue",onClick:()=>this.stayOnOlderHeatmapFloorplanCallback&&this.stayOnOlderHeatmapFloorplanCallback(),children:"STAY ON OLDER"}),(0,u.jsxs)("p",{children:[(0,u.jsx)("b",{children:"NOTE"}),": Everything remains the same as before."]})]})]}),modalFooter:null})]}):(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(Ho,{modalRef:this.initialModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[" ",(0,u.jsxs)("div",{ref:this.recoverRef,children:[(0,u.jsx)("p",{children:"A plan exists in history. Would you like to recover it?"}),(0,u.jsxs)(Ue,{type:"light-blue",className:"button-with-icon",onClick:this.onRecoverDrafPlanClick,children:[(0,u.jsx)(vo,{}),"RECOVER FLOORPLAN"]}),(0,u.jsx)("p",{}),(0,u.jsx)("hr",{className:"indoor-modal-divider"}),(0,u.jsx)("p",{children:"Create new floorplan?"})]}),(0,u.jsx)("div",{className:"indoor-modal-row",children:(0,u.jsxs)(Ue,{type:"primary",className:"button-with-icon",onClick:this.onCreateEmptyPlanClick,children:[(0,u.jsx)(On.Z,{}),"CREATE EMPTY PLAN"]})})]}),modalFooter:null}),(0,u.jsx)(Ho,{modalRef:this.newFloorplanModalWithSave,modalBody:(0,u.jsxs)(s.Fragment,{children:[" ",(0,u.jsx)("div",{children:(0,u.jsx)("p",{className:"indoor-paragraph-centered",children:"Do you want to save your current work before creating new floorplan?"})}),(0,u.jsxs)("div",{className:"indoor-modal-row around",children:[(0,u.jsx)(Ue,{type:"primary",onClick:this.onSaveAndCreateNewFloorplanClick,children:"SAVE"}),(0,u.jsx)(Ue,{type:"light-blue",onClick:this.onDontSaveAndCreateNewFloorplanClick,children:"DON'T SAVE"}),(0,u.jsx)(Ue,{type:"border-danger",onClick:()=>vt(this.newFloorplanModalWithSave.current,this.modalTimeout),children:"CANCEL"})]})]}),modalFooter:null}),(0,u.jsx)(Ho,{modalRef:this.newFloorplanModalNoSave,modalBody:(0,u.jsxs)(s.Fragment,{children:[" ",(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{children:"Create new empty floorplan."}),(0,u.jsx)(Ue,{type:"primary",onClick:this.onModalCreateNewEmptyFloorplanClick,children:"CREATE EMPTY"})]}),(0,u.jsx)("hr",{className:"indoor-modal-divider"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{children:"Create new floorplan from current one."}),(0,u.jsx)(Ue,{type:"light-blue",onClick:this.onModalCreateNewFloorplanFromCurrentClick,children:"CREATE"})]}),(0,u.jsx)("hr",{className:"indoor-modal-divider"}),(0,u.jsx)("div",{children:(0,u.jsx)(Ue,{type:"border-danger",onClick:()=>vt(this.newFloorplanModalNoSave.current,this.modalTimeout),children:"CANCEL"})})]}),modalFooter:null}),(0,u.jsx)(Ho,{modalRef:this.saveFloorplanModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(pi,{label:"Floorplan name:",inputRef:this.floorplanNameInput,inputStyle:{marginBottom:10}}),(0,u.jsxs)("div",{className:"indoor-modal-row between",children:[(0,u.jsx)(Ue,{type:"primary",onClick:this.onModalSaveFloorplanClick,children:"SAVE FLOORPLAN"}),(0,u.jsx)(Ue,{type:"border-danger",onClick:this.onSaveFloorplanModalCancel,children:"CANCEL"})]})]}),modalFooter:null}),(0,u.jsx)(Ho,{modalRef:this.textToLayerModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(ui,{label:"Choose text color",children:(0,u.jsx)("div",{className:"color-row-container",children:ot.map((t=>(0,u.jsx)("div",{className:"color textEditorColor",style:{color:t.gradientStartColor,background:"linear-gradient(30deg, ".concat(t.gradientStartColor,", ").concat(t.gradientStopColor,")")}},t.gradientStartColor)))})}),(0,u.jsx)("hr",{className:"indoor-modal-divider"}),(0,u.jsx)(ar,{ref:this.sizePoliceNumberSliderInput,sliderInputRef:this.sizePoliceInputSlider,sizePoliceComponent:(0,u.jsxs)("div",{className:"form-control label",style:{display:"flex",alignItems:"center"},children:[(0,u.jsx)(Yn,{}),"Font size : ",(0,u.jsx)("span",{ref:this.textLayerModalContent})]}),sliderStep:1,minValue:10,maxValue:70,defaultValue:15,onSliderValueChanged:this.onSizePoliceChange,onSliderChangeFinished:null}),(0,u.jsx)("hr",{className:"indoor-modal-divider"}),(0,u.jsx)(pi,{label:"Your text:",inputRef:this.labelBox})]}),modalFooter:(0,u.jsxs)("div",{children:[(0,u.jsx)(Ue,{type:"primary",onClick:this.onTextEditorApplyClick,children:"Apply"}),(0,u.jsx)(Ue,{type:"border-danger",onClick:this.onTextEditorCancelClick,children:"Cancel"})]})}),(0,u.jsx)(Ho,{modalRef:this.deletePlanTestModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{children:(0,u.jsxs)("p",{className:"indoor-paragraph-centered",children:["Do you want to delete ",(0,u.jsx)("b",{children:"Test plan"}),(0,u.jsx)("b",{ref:this.deleteTestPlanIndexContainer})," ?"]})}),(0,u.jsxs)("div",{className:"indoor-modal-row between",children:[(0,u.jsx)(Ue,{type:"delete",onClick:()=>vt(this.deletePlanTestModal.current,this.modalTimeout,(()=>{this.planTestingLeftPanelRef.current.onDeleteTestPlanConfirmClick(parseInt(this.deleteTestPlanIndexContainer.current.innerHTML)-1)})),children:"DELETE"}),(0,u.jsx)(Ue,{type:"border-danger",onClick:()=>{vt(this.deletePlanTestModal.current,this.modalTimeout)},children:"CANCEL"})]})]}),modalFooter:null}),(0,u.jsx)(Ho,{modalRef:this.createNewTestPlanUnsavedChangesModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"indoor-paragraph-centered",children:"This will create new test plan with current changes."}),(0,u.jsxs)("p",{className:"indoor-paragraph-centered",children:["Changes on current test plan will be saved ",(0,u.jsx)("b",{children:"only"})," on new test plan."]})]}),(0,u.jsxs)("div",{className:"indoor-modal-row between",children:[(0,u.jsx)(Ue,{type:"primary",onClick:()=>{vt(this.createNewTestPlanUnsavedChangesModal.current,this.modalTimeout,(()=>{this.planTestingLeftPanelRef.current.createNewTestPlanFromSelectedTestPlanWithChanges()}))},children:"CREATE"}),(0,u.jsx)(Ue,{type:"border-danger",onClick:()=>{vt(this.createNewTestPlanUnsavedChangesModal.current,this.modalTimeout)},children:"CANCEL"})]})]}),modalFooter:null}),(0,u.jsx)(Ho,{modalRef:this.createNewTestPlanModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{children:(0,u.jsx)("p",{className:"indoor-paragraph-centered",children:"Do you want to create new test plan from current one?"})}),(0,u.jsxs)("div",{className:"indoor-modal-row between",children:[(0,u.jsx)(Ue,{type:"primary",onClick:()=>vt(this.createNewTestPlanModal.current,this.modalTimeout,(()=>{this.planTestingLeftPanelRef.current.createNewTestPlanFromSelectedTestPlan()})),children:"CREATE"}),(0,u.jsx)(Ue,{type:"border-danger",onClick:()=>{vt(this.createNewTestPlanModal.current,this.modalTimeout)},children:"CANCEL"})]})]}),modalFooter:null}),(0,u.jsx)(Ho,{modalRef:this.switchTestPlanUnsavedChangesModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[" ",(0,u.jsx)("div",{children:(0,u.jsx)("p",{className:"indoor-paragraph-centered",children:"Do you want to save or discard changes on current test plan before switching?"})}),(0,u.jsxs)("div",{className:"indoor-modal-row around",children:[(0,u.jsx)(Ue,{type:"primary",onClick:()=>vt(this.switchTestPlanUnsavedChangesModal.current,this.modalTimeout,(()=>{this.planTestingLeftPanelRef.current.saveTestPlanChangesBeforeSwitch()})),children:"SAVE CHANGES"}),(0,u.jsx)(Ue,{type:"light-blue",onClick:()=>vt(this.switchTestPlanUnsavedChangesModal.current,this.modalTimeout,(()=>{this.planTestingLeftPanelRef.current.discardTestPlanChangesBeforeSwitch()})),children:"DISCARD CHANGES"}),(0,u.jsx)(Ue,{type:"border-danger",onClick:()=>{vt(this.switchTestPlanUnsavedChangesModal.current,this.modalTimeout)},children:"CANCEL"})]})]}),modalFooter:null}),(0,u.jsx)(Ho,{modalRef:this.exitPlanTestingUnsavedChangesAlertModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[" ",(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"indoor-paragraph-centered",children:"Looks like your test plans have some unsaved changes."}),(0,u.jsx)("p",{className:"indoor-paragraph-centered",children:"What do you want to do with them before exiting?"})]}),(0,u.jsxs)("div",{className:"indoor-modal-row around",children:[(0,u.jsx)(Ue,{type:"primary",onClick:()=>vt(this.exitPlanTestingUnsavedChangesAlertModal.current,this.modalTimeout,(()=>{this.planTestingLeftPanelRef.current.exitPlanTestingAndSaveChanges()})),children:"SAVE CHANGES"}),(0,u.jsx)(Ue,{type:"light-blue",onClick:()=>vt(this.exitPlanTestingUnsavedChangesAlertModal.current,this.modalTimeout,(()=>{this.determineBoxPlanNameValue("remove_asterisk"),this.onExitPlanTesting()})),children:"DISCARD CHANGES"}),(0,u.jsx)(Ue,{type:"border-danger",onClick:()=>{vt(this.exitPlanTestingUnsavedChangesAlertModal.current,this.modalTimeout)},children:"CANCEL"})]})]}),modalFooter:null}),(0,u.jsx)(Ho,{modalRef:this.simulateTestingAnimationLargeFloorplanAlertModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"indoor-paragraph-centered",children:"Floorplan size is too large to use this feature."}),(0,u.jsx)("p",{className:"indoor-paragraph-centered",children:"The product of floorplan width and height must be less than ".concat(this.simulateTestingAnimationMaxFloorplanSurface).concat("metric"===this.context.userUnit?"m\xb2":"ft\xb2",".")})]}),(0,u.jsx)("div",{className:"indoor-modal-row center",children:(0,u.jsx)(Ue,{type:"primary",onClick:()=>vt(this.simulateTestingAnimationLargeFloorplanAlertModal.current,this.modalTimeout),children:"OK"})})]}),modalFooter:null})]}),(0,u.jsx)(Ho,{modalRef:this.showFloorplanNoWallsErrorModal,modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{children:(0,u.jsx)("p",{className:"indoor-paragraph-centered",children:"Floorplan must contain at least one wall in order to use this feature"})}),(0,u.jsx)("div",{className:"indoor-modal-row center",children:(0,u.jsx)(Ue,{type:"primary",onClick:()=>vt(this.showFloorplanNoWallsErrorModal.current,this.modalTimeout),children:"OK"})})]}),modalFooter:null}),(0,u.jsx)(Ho,{modalRef:this.show3DNewHeatmap,modalBody:(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{children:(0,u.jsx)("p",{className:"indoor-paragraph-centered",children:"Heatmap must be saved in order to show it in 3D"})}),(0,u.jsx)("div",{className:"indoor-modal-row center",children:(0,u.jsx)(Ue,{type:"primary",onClick:()=>vt(this.show3DNewHeatmap.current,this.modalTimeout),children:"OK"})})]}),modalFooter:null}),this.props.isHeatmap?(0,u.jsx)("div",{ref:this.positionsDataVisualizationRef,className:"indoor-modal positions-data-graph-container"}):null,(0,u.jsx)("div",{ref:this.boxInfo,className:"boxInfo box-info panel-transition"}),(0,u.jsx)("div",{ref:this.boxPlanName,className:"box-plan-name panel-transition"}),(0,u.jsx)(qa,{mainComponentThis:this})]})})})]})}}hc.contextType=zs;const pc=hc;class dc extends s.Component{render(){return(0,u.jsxs)("div",{className:"page-container",children:[(0,u.jsxs)("div",{className:"page-content-container",children:[" ",(0,u.jsx)(Vs,{children:(0,u.jsx)(pc,{routeID:"02bd86e4-e309-4b14-a2db-c86998861c92"})})]}),(0,u.jsx)("div",{className:"footer",children:(0,u.jsxs)("div",{children:["Powered by",(0,u.jsx)("img",{srcSet:"\n                      ".concat(r.default," 1x,\n                      ").concat(r.retina," 2x\n                  "),alt:""})]})})]})}}const cc=dc;n.render((0,u.jsx)(cc,{}),document.getElementById("root"))},2480:()=>{}},t=>{t.O(0,[786],(()=>{return e=2653,t(t.s=e);var e}));t.O()}]);